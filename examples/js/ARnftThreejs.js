!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("three")):"function"==typeof define&&define.amd?define(["three"],t):"object"==typeof exports?exports.ARnftThreejs=t(require("three")):e.ARnftThreejs=t(e.THREE)}(this,(e=>(()=>{"use strict";var t={381:t=>{t.exports=e}},s={};function n(e){var i=s[e];if(void 0!==i)return i.exports;var r=s[e]={exports:{}};return t[e](r,r.exports,n),r.exports}n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var i={};return(()=>{function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function s(e){var s=function(e,s){if("object"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,s);if("object"!==t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===t(s)?s:String(s)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function o(e,t,s){return t&&r(e.prototype,t),s&&r(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(i,{default:()=>oe});var c=n(381),l=function(){function t(){e(this,t)}return o(t,null,[{key:"interpolate",value:function(e){for(var t=0;t<16;t++)this.trackedMatrix.delta[t]=e[t]-this.trackedMatrix.interpolated[t],this.trackedMatrix.interpolated[t]=this.trackedMatrix.interpolated[t]+this.trackedMatrix.delta[t]/24;return this.trackedMatrix.interpolated}},{key:"isMobile",value:function(){return/Android|mobile|iPad|iPhone/i.test(navigator.userAgent)}},{key:"setMatrix",value:function(e,t){var s=[];for(var n in t)s[n]=t[n];"function"==typeof e.elements.set?e.elements.set(s):e.elements=[].slice.call(s)}}]),t}();a(l,"trackedMatrix",{delta:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],interpolated:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]});var u=function(){function t(s,i,r,o){e(this,t),a(this,"canvas_draw",void 0),a(this,"camera",void 0),a(this,"configData",void 0),a(this,"renderer",void 0),a(this,"uuid",void 0),a(this,"root",void 0),a(this,"target",void 0),a(this,"scene",void 0),a(this,"version",void 0),this.configData=s,this.uuid=r,this.target=window||n.g,this.renderer=new c.WebGLRenderer({canvas:i,context:s.renderer.context,alpha:s.renderer.alpha,premultipliedAlpha:s.renderer.premultipliedAlpha,antialias:s.renderer.antialias,stencil:s.renderer.stencil,precision:s.renderer.precision,depth:s.renderer.depth,logarithmicDepthBuffer:s.renderer.logarithmicDepthBuffer}),this.renderer.setPixelRatio(window.devicePixelRatio),this.scene=new c.Scene,t.globalScene=this.scene,this.camera=!0===o?new c.PerspectiveCamera(s.camera.fov,s.camera.ratio,s.camera.near,s.camera.far):new c.Camera,this.version="0.4.7",console.log("ARnftThreejs version: ",this.version)}return o(t,[{key:"initRenderer",value:function(){var e=this;this.camera.matrixAutoUpdate=!1,this.target.addEventListener("getProjectionMatrix",(function(t){l.setMatrix(e.camera.projectionMatrix,t.detail.proj)})),this.scene.add(this.camera);var t=new c.AmbientLight(16777215);this.scene.add(t),this.target.addEventListener("getWindowSize",(function(t){e.renderer.setSize(t.detail.sw,t.detail.sh)}));var s=new CustomEvent("onInitThreejsRendering",{detail:{renderer:this.renderer,scene:this.scene,camera:this.camera}});this.target.dispatchEvent(s)}},{key:"draw",value:function(){this.renderer.render(this.scene,this.camera)}},{key:"getRenderer",value:function(){return this.renderer}},{key:"getScene",value:function(){return this.scene}},{key:"getCamera",value:function(){return this.camera}},{key:"setRenderer",value:function(e){this.renderer=e}},{key:"setScene",value:function(e){this.scene=e}},{key:"setCamera",value:function(e){this.camera=e}}],[{key:"getGlobalScene",value:function(){return t.globalScene}}]),t}();function h(e,t){if(t===c.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===c.TriangleFanDrawMode||t===c.TriangleStripDrawMode){let s=e.getIndex();if(null===s){const t=[],n=e.getAttribute("position");if(void 0===n)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<n.count;e++)t.push(e);e.setIndex(t),s=e.getIndex()}const n=s.count-2,i=[];if(t===c.TriangleFanDrawMode)for(let e=1;e<=n;e++)i.push(s.getX(0)),i.push(s.getX(e)),i.push(s.getX(e+1));else for(let e=0;e<n;e++)e%2==0?(i.push(s.getX(e)),i.push(s.getX(e+1)),i.push(s.getX(e+2))):(i.push(s.getX(e+2)),i.push(s.getX(e+1)),i.push(s.getX(e)));i.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=e.clone();return r.setIndex(i),r.clearGroups(),r}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}a(u,"globalScene",void 0);class d extends c.Loader{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(e){return new T(e)})),this.register((function(e){return new A(e)})),this.register((function(e){return new M(e)})),this.register((function(e){return new y(e)})),this.register((function(e){return new _(e)})),this.register((function(e){return new w(e)})),this.register((function(e){return new R(e)})),this.register((function(e){return new v(e)})),this.register((function(e){return new E(e)})),this.register((function(e){return new x(e)})),this.register((function(e){return new m(e)})),this.register((function(e){return new L(e)})),this.register((function(e){return new b(e)}))}load(e,t,s,n){const i=this;let r;r=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:c.LoaderUtils.extractUrlBase(e),this.manager.itemStart(e);const o=function(t){n?n(t):console.error(t),i.manager.itemError(e),i.manager.itemEnd(e)},a=new c.FileLoader(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(s){try{i.parse(s,r,(function(s){t(s),i.manager.itemEnd(e)}),o)}catch(e){o(e)}}),s,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,s,n){let i;const r={},o={},a=new TextDecoder;if("string"==typeof e)i=JSON.parse(e);else if(e instanceof ArrayBuffer)if(a.decode(new Uint8Array(e,0,4))===S){try{r[p.KHR_BINARY_GLTF]=new I(e)}catch(e){return void(n&&n(e))}i=JSON.parse(r[p.KHR_BINARY_GLTF].content)}else i=JSON.parse(a.decode(e));else i=e;if(void 0===i.asset||i.asset.version[0]<2)return void(n&&n(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const c=new J(i,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let e=0;e<this.pluginCallbacks.length;e++){const t=this.pluginCallbacks[e](c);o[t.name]=t,r[t.name]=!0}if(i.extensionsUsed)for(let e=0;e<i.extensionsUsed.length;++e){const t=i.extensionsUsed[e],s=i.extensionsRequired||[];switch(t){case p.KHR_MATERIALS_UNLIT:r[t]=new g;break;case p.KHR_DRACO_MESH_COMPRESSION:r[t]=new O(i,this.dracoLoader);break;case p.KHR_TEXTURE_TRANSFORM:r[t]=new C;break;case p.KHR_MESH_QUANTIZATION:r[t]=new N;break;default:s.indexOf(t)>=0&&void 0===o[t]&&console.warn('THREE.GLTFLoader: Unknown extension "'+t+'".')}}c.setExtensions(r),c.setPlugins(o),c.parse(s,n)}parseAsync(e,t){const s=this;return new Promise((function(n,i){s.parse(e,t,n,i)}))}}function f(){let e={};return{get:function(t){return e[t]},add:function(t,s){e[t]=s},remove:function(t){delete e[t]},removeAll:function(){e={}}}}const p={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class m{constructor(e){this.parser=e,this.name=p.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let s=0,n=t.length;s<n;s++){const n=t[s];n.extensions&&n.extensions[this.name]&&void 0!==n.extensions[this.name].light&&e._addNodeRef(this.cache,n.extensions[this.name].light)}}_loadLight(e){const t=this.parser,s="light:"+e;let n=t.cache.get(s);if(n)return n;const i=t.json,r=((i.extensions&&i.extensions[this.name]||{}).lights||[])[e];let o;const a=new c.Color(16777215);void 0!==r.color&&a.fromArray(r.color);const l=void 0!==r.range?r.range:0;switch(r.type){case"directional":o=new c.DirectionalLight(a),o.target.position.set(0,0,-1),o.add(o.target);break;case"point":o=new c.PointLight(a),o.distance=l;break;case"spot":o=new c.SpotLight(a),o.distance=l,r.spot=r.spot||{},r.spot.innerConeAngle=void 0!==r.spot.innerConeAngle?r.spot.innerConeAngle:0,r.spot.outerConeAngle=void 0!==r.spot.outerConeAngle?r.spot.outerConeAngle:Math.PI/4,o.angle=r.spot.outerConeAngle,o.penumbra=1-r.spot.innerConeAngle/r.spot.outerConeAngle,o.target.position.set(0,0,-1),o.add(o.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+r.type)}return o.position.set(0,0,0),o.decay=2,q(o,r),void 0!==r.intensity&&(o.intensity=r.intensity),o.name=t.createUniqueName(r.name||"light_"+e),n=Promise.resolve(o),t.cache.add(s,n),n}getDependency(e,t){if("light"===e)return this._loadLight(t)}createNodeAttachment(e){const t=this,s=this.parser,n=s.json.nodes[e],i=(n.extensions&&n.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(e){return s._getNodeRef(t.cache,i,e)}))}}class g{constructor(){this.name=p.KHR_MATERIALS_UNLIT}getMaterialType(){return c.MeshBasicMaterial}extendParams(e,t,s){const n=[];e.color=new c.Color(1,1,1),e.opacity=1;const i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){const t=i.baseColorFactor;e.color.fromArray(t),e.opacity=t[3]}void 0!==i.baseColorTexture&&n.push(s.assignTexture(e,"map",i.baseColorTexture,c.sRGBEncoding))}return Promise.all(n)}}class v{constructor(e){this.parser=e,this.name=p.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const n=s.extensions[this.name].emissiveStrength;return void 0!==n&&(t.emissiveIntensity=n),Promise.resolve()}}class T{constructor(e){this.parser=e,this.name=p.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?c.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const s=this.parser,n=s.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],r=n.extensions[this.name];if(void 0!==r.clearcoatFactor&&(t.clearcoat=r.clearcoatFactor),void 0!==r.clearcoatTexture&&i.push(s.assignTexture(t,"clearcoatMap",r.clearcoatTexture)),void 0!==r.clearcoatRoughnessFactor&&(t.clearcoatRoughness=r.clearcoatRoughnessFactor),void 0!==r.clearcoatRoughnessTexture&&i.push(s.assignTexture(t,"clearcoatRoughnessMap",r.clearcoatRoughnessTexture)),void 0!==r.clearcoatNormalTexture&&(i.push(s.assignTexture(t,"clearcoatNormalMap",r.clearcoatNormalTexture)),void 0!==r.clearcoatNormalTexture.scale)){const e=r.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new c.Vector2(e,e)}return Promise.all(i)}}class x{constructor(e){this.parser=e,this.name=p.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?c.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const s=this.parser,n=s.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],r=n.extensions[this.name];return void 0!==r.iridescenceFactor&&(t.iridescence=r.iridescenceFactor),void 0!==r.iridescenceTexture&&i.push(s.assignTexture(t,"iridescenceMap",r.iridescenceTexture)),void 0!==r.iridescenceIor&&(t.iridescenceIOR=r.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==r.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=r.iridescenceThicknessMinimum),void 0!==r.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=r.iridescenceThicknessMaximum),void 0!==r.iridescenceThicknessTexture&&i.push(s.assignTexture(t,"iridescenceThicknessMap",r.iridescenceThicknessTexture)),Promise.all(i)}}class y{constructor(e){this.parser=e,this.name=p.KHR_MATERIALS_SHEEN}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?c.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const s=this.parser,n=s.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[];t.sheenColor=new c.Color(0,0,0),t.sheenRoughness=0,t.sheen=1;const r=n.extensions[this.name];return void 0!==r.sheenColorFactor&&t.sheenColor.fromArray(r.sheenColorFactor),void 0!==r.sheenRoughnessFactor&&(t.sheenRoughness=r.sheenRoughnessFactor),void 0!==r.sheenColorTexture&&i.push(s.assignTexture(t,"sheenColorMap",r.sheenColorTexture,c.sRGBEncoding)),void 0!==r.sheenRoughnessTexture&&i.push(s.assignTexture(t,"sheenRoughnessMap",r.sheenRoughnessTexture)),Promise.all(i)}}class _{constructor(e){this.parser=e,this.name=p.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?c.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const s=this.parser,n=s.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],r=n.extensions[this.name];return void 0!==r.transmissionFactor&&(t.transmission=r.transmissionFactor),void 0!==r.transmissionTexture&&i.push(s.assignTexture(t,"transmissionMap",r.transmissionTexture)),Promise.all(i)}}class w{constructor(e){this.parser=e,this.name=p.KHR_MATERIALS_VOLUME}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?c.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const s=this.parser,n=s.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],r=n.extensions[this.name];t.thickness=void 0!==r.thicknessFactor?r.thicknessFactor:0,void 0!==r.thicknessTexture&&i.push(s.assignTexture(t,"thicknessMap",r.thicknessTexture)),t.attenuationDistance=r.attenuationDistance||1/0;const o=r.attenuationColor||[1,1,1];return t.attenuationColor=new c.Color(o[0],o[1],o[2]),Promise.all(i)}}class R{constructor(e){this.parser=e,this.name=p.KHR_MATERIALS_IOR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?c.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const n=s.extensions[this.name];return t.ior=void 0!==n.ior?n.ior:1.5,Promise.resolve()}}class E{constructor(e){this.parser=e,this.name=p.KHR_MATERIALS_SPECULAR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?c.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const s=this.parser,n=s.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],r=n.extensions[this.name];t.specularIntensity=void 0!==r.specularFactor?r.specularFactor:1,void 0!==r.specularTexture&&i.push(s.assignTexture(t,"specularIntensityMap",r.specularTexture));const o=r.specularColorFactor||[1,1,1];return t.specularColor=new c.Color(o[0],o[1],o[2]),void 0!==r.specularColorTexture&&i.push(s.assignTexture(t,"specularColorMap",r.specularColorTexture,c.sRGBEncoding)),Promise.all(i)}}class A{constructor(e){this.parser=e,this.name=p.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,s=t.json,n=s.textures[e];if(!n.extensions||!n.extensions[this.name])return null;const i=n.extensions[this.name],r=t.options.ktx2Loader;if(!r){if(s.extensionsRequired&&s.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,r)}}class M{constructor(e){this.parser=e,this.name=p.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,s=this.parser,n=s.json,i=n.textures[e];if(!i.extensions||!i.extensions[t])return null;const r=i.extensions[t],o=n.images[r.source];let a=s.textureLoader;if(o.uri){const e=s.options.manager.getHandler(o.uri);null!==e&&(a=e)}return this.detectSupport().then((function(i){if(i)return s.loadTextureImage(e,r.source,a);if(n.extensionsRequired&&n.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return s.loadTexture(e)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}class L{constructor(e){this.name=p.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,s=t.bufferViews[e];if(s.extensions&&s.extensions[this.name]){const e=s.extensions[this.name],n=this.parser.getDependency("buffer",e.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return n.then((function(t){const s=e.byteOffset||0,n=e.byteLength||0,r=e.count,o=e.byteStride,a=new Uint8Array(t,s,n);return i.decodeGltfBufferAsync?i.decodeGltfBufferAsync(r,o,a,e.mode,e.filter).then((function(e){return e.buffer})):i.ready.then((function(){const t=new ArrayBuffer(r*o);return i.decodeGltfBuffer(new Uint8Array(t),r,o,a,e.mode,e.filter),t}))}))}return null}}class b{constructor(e){this.name=p.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,s=t.nodes[e];if(!s.extensions||!s.extensions[this.name]||void 0===s.mesh)return null;const n=t.meshes[s.mesh];for(const e of n.primitives)if(e.mode!==H.TRIANGLES&&e.mode!==H.TRIANGLE_STRIP&&e.mode!==H.TRIANGLE_FAN&&void 0!==e.mode)return null;const i=s.extensions[this.name].attributes,r=[],o={};for(const e in i)r.push(this.parser.getDependency("accessor",i[e]).then((t=>(o[e]=t,o[e]))));return r.length<1?null:(r.push(this.parser.createNodeMesh(e)),Promise.all(r).then((e=>{const t=e.pop(),s=t.isGroup?t.children:[t],n=e[0].count,i=[];for(const e of s){const t=new c.Matrix4,s=new c.Vector3,r=new c.Quaternion,a=new c.Vector3(1,1,1),l=new c.InstancedMesh(e.geometry,e.material,n);for(let e=0;e<n;e++)o.TRANSLATION&&s.fromBufferAttribute(o.TRANSLATION,e),o.ROTATION&&r.fromBufferAttribute(o.ROTATION,e),o.SCALE&&a.fromBufferAttribute(o.SCALE,e),l.setMatrixAt(e,t.compose(s,r,a));for(const t in o)"TRANSLATION"!==t&&"ROTATION"!==t&&"SCALE"!==t&&e.geometry.setAttribute(t,o[t]);c.Object3D.prototype.copy.call(l,e),l.frustumCulled=!1,this.parser.assignFinalMaterial(l),i.push(l)}return t.isGroup?(t.clear(),t.add(...i),t):i[0]})))}}const S="glTF";class I{constructor(e){this.name=p.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,12),s=new TextDecoder;if(this.header={magic:s.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==S)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-12,i=new DataView(e,12);let r=0;for(;r<n;){const t=i.getUint32(r,!0);r+=4;const n=i.getUint32(r,!0);if(r+=4,1313821514===n){const n=new Uint8Array(e,12+r,t);this.content=s.decode(n)}else if(5130562===n){const s=12+r;this.body=e.slice(s,s+t)}r+=t}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class O{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=p.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const s=this.json,n=this.dracoLoader,i=e.extensions[this.name].bufferView,r=e.extensions[this.name].attributes,o={},a={},c={};for(const e in r){const t=j[e]||e.toLowerCase();o[t]=r[e]}for(const t in e.attributes){const n=j[t]||t.toLowerCase();if(void 0!==r[t]){const i=s.accessors[e.attributes[t]],r=D[i.componentType];c[n]=r.name,a[n]=!0===i.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t){n.decodeDracoFile(e,(function(e){for(const t in e.attributes){const s=e.attributes[t],n=a[t];void 0!==n&&(s.normalized=n)}t(e)}),o,c)}))}))}}class C{constructor(){this.name=p.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class N{constructor(){this.name=p.KHR_MESH_QUANTIZATION}}class P extends c.Interpolant{constructor(e,t,s,n){super(e,t,s,n)}copySampleValue_(e){const t=this.resultBuffer,s=this.sampleValues,n=this.valueSize,i=e*n*3+n;for(let e=0;e!==n;e++)t[e]=s[i+e];return t}interpolate_(e,t,s,n){const i=this.resultBuffer,r=this.sampleValues,o=this.valueSize,a=2*o,c=3*o,l=n-t,u=(s-t)/l,h=u*u,d=h*u,f=e*c,p=f-c,m=-2*d+3*h,g=d-h,v=1-m,T=g-h+u;for(let e=0;e!==o;e++){const t=r[p+e+o],s=r[p+e+a]*l,n=r[f+e+o],c=r[f+e]*l;i[e]=v*t+T*s+m*n+g*c}return i}}const k=new c.Quaternion;class F extends P{interpolate_(e,t,s,n){const i=super.interpolate_(e,t,s,n);return k.fromArray(i).normalize().toArray(i),i}}const H={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},D={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},V={9728:c.NearestFilter,9729:c.LinearFilter,9984:c.NearestMipmapNearestFilter,9985:c.LinearMipmapNearestFilter,9986:c.NearestMipmapLinearFilter,9987:c.LinearMipmapLinearFilter},U={33071:c.ClampToEdgeWrapping,33648:c.MirroredRepeatWrapping,10497:c.RepeatWrapping},G={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},j={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},B={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},K={CUBICSPLINE:void 0,LINEAR:c.InterpolateLinear,STEP:c.InterpolateDiscrete};function X(e,t,s){for(const n in s.extensions)void 0===e[n]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[n]=s.extensions[n])}function q(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function z(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(let s=0,n=t.weights.length;s<n;s++)e.morphTargetInfluences[s]=t.weights[s];if(t.extras&&Array.isArray(t.extras.targetNames)){const s=t.extras.targetNames;if(e.morphTargetInfluences.length===s.length){e.morphTargetDictionary={};for(let t=0,n=s.length;t<n;t++)e.morphTargetDictionary[s[t]]=t}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Y(e){const t=e.extensions&&e.extensions[p.KHR_DRACO_MESH_COMPRESSION];let s;return s=t?"draco:"+t.bufferView+":"+t.indices+":"+W(t.attributes):e.indices+":"+W(e.attributes)+":"+e.mode,s}function W(e){let t="";const s=Object.keys(e).sort();for(let n=0,i=s.length;n<i;n++)t+=s[n]+":"+e[s[n]]+";";return t}function Z(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}const Q=new c.Matrix4;class J{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new f,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let s=!1,n=!1,i=-1;"undefined"!=typeof navigator&&(s=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),n=navigator.userAgent.indexOf("Firefox")>-1,i=n?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),"undefined"==typeof createImageBitmap||s||n&&i<98?this.textureLoader=new c.TextureLoader(this.options.manager):this.textureLoader=new c.ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new c.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const s=this,n=this.json,i=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([s.getDependencies("scene"),s.getDependencies("animation"),s.getDependencies("camera")])})).then((function(t){const r={scene:t[0][n.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:n.asset,parser:s,userData:{}};X(i,r,n),q(r,n),Promise.all(s._invokeAll((function(e){return e.afterRoot&&e.afterRoot(r)}))).then((function(){e(r)}))})).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],s=this.json.meshes||[];for(let s=0,n=t.length;s<n;s++){const n=t[s].joints;for(let t=0,s=n.length;t<s;t++)e[n[t]].isBone=!0}for(let t=0,n=e.length;t<n;t++){const n=e[t];void 0!==n.mesh&&(this._addNodeRef(this.meshCache,n.mesh),void 0!==n.skin&&(s[n.mesh].isSkinnedMesh=!0)),void 0!==n.camera&&this._addNodeRef(this.cameraCache,n.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,s){if(e.refs[t]<=1)return s;const n=s.clone(),i=(e,t)=>{const s=this.associations.get(e);null!=s&&this.associations.set(t,s);for(const[s,n]of e.children.entries())i(n,t.children[s])};return i(s,n),n.name+="_instance_"+e.uses[t]++,n}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let s=0;s<t.length;s++){const n=e(t[s]);if(n)return n}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const s=[];for(let n=0;n<t.length;n++){const i=e(t[n]);i&&s.push(i)}return s}getDependency(e,t){const s=e+":"+t;let n=this.cache.get(s);if(!n){switch(e){case"scene":n=this.loadScene(t);break;case"node":n=this._invokeOne((function(e){return e.loadNode&&e.loadNode(t)}));break;case"mesh":n=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":n=this.loadAccessor(t);break;case"bufferView":n=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":n=this.loadBuffer(t);break;case"material":n=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":n=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":n=this.loadSkin(t);break;case"animation":n=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":n=this.loadCamera(t);break;default:if(n=this._invokeOne((function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)})),!n)throw new Error("Unknown type: "+e)}this.cache.add(s,n)}return n}getDependencies(e){let t=this.cache.get(e);if(!t){const s=this,n=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(n.map((function(t,n){return s.getDependency(e,n)}))),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],s=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[p.KHR_BINARY_GLTF].body);const n=this.options;return new Promise((function(e,i){s.load(c.LoaderUtils.resolveURL(t.uri,n.path),e,void 0,(function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){const s=t.byteLength||0,n=t.byteOffset||0;return e.slice(n,n+s)}))}loadAccessor(e){const t=this,s=this.json,n=this.json.accessors[e];if(void 0===n.bufferView&&void 0===n.sparse){const e=G[n.type],t=D[n.componentType],s=!0===n.normalized,i=new t(n.count*e);return Promise.resolve(new c.BufferAttribute(i,e,s))}const i=[];return void 0!==n.bufferView?i.push(this.getDependency("bufferView",n.bufferView)):i.push(null),void 0!==n.sparse&&(i.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(i).then((function(e){const i=e[0],r=G[n.type],o=D[n.componentType],a=o.BYTES_PER_ELEMENT,l=a*r,u=n.byteOffset||0,h=void 0!==n.bufferView?s.bufferViews[n.bufferView].byteStride:void 0,d=!0===n.normalized;let f,p;if(h&&h!==l){const e=Math.floor(u/h),s="InterleavedBuffer:"+n.bufferView+":"+n.componentType+":"+e+":"+n.count;let l=t.cache.get(s);l||(f=new o(i,e*h,n.count*h/a),l=new c.InterleavedBuffer(f,h/a),t.cache.add(s,l)),p=new c.InterleavedBufferAttribute(l,r,u%h/a,d)}else f=null===i?new o(n.count*r):new o(i,u,n.count*r),p=new c.BufferAttribute(f,r,d);if(void 0!==n.sparse){const t=G.SCALAR,s=D[n.sparse.indices.componentType],a=n.sparse.indices.byteOffset||0,l=n.sparse.values.byteOffset||0,u=new s(e[1],a,n.sparse.count*t),h=new o(e[2],l,n.sparse.count*r);null!==i&&(p=new c.BufferAttribute(p.array.slice(),p.itemSize,p.normalized));for(let e=0,t=u.length;e<t;e++){const t=u[e];if(p.setX(t,h[e*r]),r>=2&&p.setY(t,h[e*r+1]),r>=3&&p.setZ(t,h[e*r+2]),r>=4&&p.setW(t,h[e*r+3]),r>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return p}))}loadTexture(e){const t=this.json,s=this.options,n=t.textures[e].source,i=t.images[n];let r=this.textureLoader;if(i.uri){const e=s.manager.getHandler(i.uri);null!==e&&(r=e)}return this.loadTextureImage(e,n,r)}loadTextureImage(e,t,s){const n=this,i=this.json,r=i.textures[e],o=i.images[t],a=(o.uri||o.bufferView)+":"+r.sampler;if(this.textureCache[a])return this.textureCache[a];const l=this.loadImageSource(t,s).then((function(t){t.flipY=!1,t.name=r.name||o.name||"";const s=(i.samplers||{})[r.sampler]||{};return t.magFilter=V[s.magFilter]||c.LinearFilter,t.minFilter=V[s.minFilter]||c.LinearMipmapLinearFilter,t.wrapS=U[s.wrapS]||c.RepeatWrapping,t.wrapT=U[s.wrapT]||c.RepeatWrapping,n.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[a]=l,l}loadImageSource(e,t){const s=this.json,n=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then((e=>e.clone()));const i=s.images[e],r=self.URL||self.webkitURL;let o=i.uri||"",a=!1;if(void 0!==i.bufferView)o=this.getDependency("bufferView",i.bufferView).then((function(e){a=!0;const t=new Blob([e],{type:i.mimeType});return o=r.createObjectURL(t),o}));else if(void 0===i.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const l=Promise.resolve(o).then((function(e){return new Promise((function(s,i){let r=s;!0===t.isImageBitmapLoader&&(r=function(e){const t=new c.Texture(e);t.needsUpdate=!0,s(t)}),t.load(c.LoaderUtils.resolveURL(e,n.path),r,void 0,i)}))})).then((function(e){var t;return!0===a&&r.revokeObjectURL(o),e.userData.mimeType=i.mimeType||((t=i.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e})).catch((function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",o),e}));return this.sourceCache[e]=l,l}assignTexture(e,t,s,n){const i=this;return this.getDependency("texture",s.index).then((function(r){if(!r)return null;if(void 0===s.texCoord||0==s.texCoord||"aoMap"===t&&1==s.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+s.texCoord+" for texture "+t+" not yet supported."),i.extensions[p.KHR_TEXTURE_TRANSFORM]){const e=void 0!==s.extensions?s.extensions[p.KHR_TEXTURE_TRANSFORM]:void 0;if(e){const t=i.associations.get(r);r=i.extensions[p.KHR_TEXTURE_TRANSFORM].extendTexture(r,e),i.associations.set(r,t)}}return void 0!==n&&(r.encoding=n),e[t]=r,r}))}assignFinalMaterial(e){const t=e.geometry;let s=e.material;const n=void 0===t.attributes.tangent,i=void 0!==t.attributes.color,r=void 0===t.attributes.normal;if(e.isPoints){const e="PointsMaterial:"+s.uuid;let t=this.cache.get(e);t||(t=new c.PointsMaterial,c.Material.prototype.copy.call(t,s),t.color.copy(s.color),t.map=s.map,t.sizeAttenuation=!1,this.cache.add(e,t)),s=t}else if(e.isLine){const e="LineBasicMaterial:"+s.uuid;let t=this.cache.get(e);t||(t=new c.LineBasicMaterial,c.Material.prototype.copy.call(t,s),t.color.copy(s.color),this.cache.add(e,t)),s=t}if(n||i||r){let e="ClonedMaterial:"+s.uuid+":";n&&(e+="derivative-tangents:"),i&&(e+="vertex-colors:"),r&&(e+="flat-shading:");let t=this.cache.get(e);t||(t=s.clone(),i&&(t.vertexColors=!0),r&&(t.flatShading=!0),n&&(t.normalScale&&(t.normalScale.y*=-1),t.clearcoatNormalScale&&(t.clearcoatNormalScale.y*=-1)),this.cache.add(e,t),this.associations.set(t,this.associations.get(s))),s=t}s.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=s}getMaterialType(){return c.MeshStandardMaterial}loadMaterial(e){const t=this,s=this.json,n=this.extensions,i=s.materials[e];let r;const o={},a=[];if((i.extensions||{})[p.KHR_MATERIALS_UNLIT]){const e=n[p.KHR_MATERIALS_UNLIT];r=e.getMaterialType(),a.push(e.extendParams(o,i,t))}else{const s=i.pbrMetallicRoughness||{};if(o.color=new c.Color(1,1,1),o.opacity=1,Array.isArray(s.baseColorFactor)){const e=s.baseColorFactor;o.color.fromArray(e),o.opacity=e[3]}void 0!==s.baseColorTexture&&a.push(t.assignTexture(o,"map",s.baseColorTexture,c.sRGBEncoding)),o.metalness=void 0!==s.metallicFactor?s.metallicFactor:1,o.roughness=void 0!==s.roughnessFactor?s.roughnessFactor:1,void 0!==s.metallicRoughnessTexture&&(a.push(t.assignTexture(o,"metalnessMap",s.metallicRoughnessTexture)),a.push(t.assignTexture(o,"roughnessMap",s.metallicRoughnessTexture))),r=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),a.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,o)}))))}!0===i.doubleSided&&(o.side=c.DoubleSide);const l=i.alphaMode||"OPAQUE";if("BLEND"===l?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,"MASK"===l&&(o.alphaTest=void 0!==i.alphaCutoff?i.alphaCutoff:.5)),void 0!==i.normalTexture&&r!==c.MeshBasicMaterial&&(a.push(t.assignTexture(o,"normalMap",i.normalTexture)),o.normalScale=new c.Vector2(1,1),void 0!==i.normalTexture.scale)){const e=i.normalTexture.scale;o.normalScale.set(e,e)}return void 0!==i.occlusionTexture&&r!==c.MeshBasicMaterial&&(a.push(t.assignTexture(o,"aoMap",i.occlusionTexture)),void 0!==i.occlusionTexture.strength&&(o.aoMapIntensity=i.occlusionTexture.strength)),void 0!==i.emissiveFactor&&r!==c.MeshBasicMaterial&&(o.emissive=(new c.Color).fromArray(i.emissiveFactor)),void 0!==i.emissiveTexture&&r!==c.MeshBasicMaterial&&a.push(t.assignTexture(o,"emissiveMap",i.emissiveTexture,c.sRGBEncoding)),Promise.all(a).then((function(){const s=new r(o);return i.name&&(s.name=i.name),q(s,i),t.associations.set(s,{materials:e}),i.extensions&&X(n,s,i),s}))}createUniqueName(e){const t=c.PropertyBinding.sanitizeNodeName(e||"");let s=t;for(let e=1;this.nodeNamesUsed[s];++e)s=t+"_"+e;return this.nodeNamesUsed[s]=!0,s}loadGeometries(e){const t=this,s=this.extensions,n=this.primitiveCache;function i(e){return s[p.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(s){return $(s,e,t)}))}const r=[];for(let s=0,o=e.length;s<o;s++){const o=e[s],a=Y(o),l=n[a];if(l)r.push(l.promise);else{let e;e=o.extensions&&o.extensions[p.KHR_DRACO_MESH_COMPRESSION]?i(o):$(new c.BufferGeometry,o,t),n[a]={primitive:o,promise:e},r.push(e)}}return Promise.all(r)}loadMesh(e){const t=this,s=this.json,n=this.extensions,i=s.meshes[e],r=i.primitives,o=[];for(let e=0,t=r.length;e<t;e++){const t=void 0===r[e].material?(void 0===(a=this.cache).DefaultMaterial&&(a.DefaultMaterial=new c.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:c.FrontSide})),a.DefaultMaterial):this.getDependency("material",r[e].material);o.push(t)}var a;return o.push(t.loadGeometries(r)),Promise.all(o).then((function(s){const o=s.slice(0,s.length-1),a=s[s.length-1],l=[];for(let s=0,u=a.length;s<u;s++){const u=a[s],d=r[s];let f;const p=o[s];if(d.mode===H.TRIANGLES||d.mode===H.TRIANGLE_STRIP||d.mode===H.TRIANGLE_FAN||void 0===d.mode)f=!0===i.isSkinnedMesh?new c.SkinnedMesh(u,p):new c.Mesh(u,p),!0!==f.isSkinnedMesh||f.geometry.attributes.skinWeight.normalized||f.normalizeSkinWeights(),d.mode===H.TRIANGLE_STRIP?f.geometry=h(f.geometry,c.TriangleStripDrawMode):d.mode===H.TRIANGLE_FAN&&(f.geometry=h(f.geometry,c.TriangleFanDrawMode));else if(d.mode===H.LINES)f=new c.LineSegments(u,p);else if(d.mode===H.LINE_STRIP)f=new c.Line(u,p);else if(d.mode===H.LINE_LOOP)f=new c.LineLoop(u,p);else{if(d.mode!==H.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+d.mode);f=new c.Points(u,p)}Object.keys(f.geometry.morphAttributes).length>0&&z(f,i),f.name=t.createUniqueName(i.name||"mesh_"+e),q(f,i),d.extensions&&X(n,f,d),t.assignFinalMaterial(f),l.push(f)}for(let s=0,n=l.length;s<n;s++)t.associations.set(l[s],{meshes:e,primitives:s});if(1===l.length)return l[0];const u=new c.Group;t.associations.set(u,{meshes:e});for(let e=0,t=l.length;e<t;e++)u.add(l[e]);return u}))}loadCamera(e){let t;const s=this.json.cameras[e],n=s[s.type];if(n)return"perspective"===s.type?t=new c.PerspectiveCamera(c.MathUtils.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):"orthographic"===s.type&&(t=new c.OrthographicCamera(-n.xmag,n.xmag,n.ymag,-n.ymag,n.znear,n.zfar)),s.name&&(t.name=this.createUniqueName(s.name)),q(t,s),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){const t=this.json.skins[e],s=[];for(let e=0,n=t.joints.length;e<n;e++)s.push(this.getDependency("node",t.joints[e]));return void 0!==t.inverseBindMatrices?s.push(this.getDependency("accessor",t.inverseBindMatrices)):s.push(null),Promise.all(s).then((function(e){const s=e.pop(),n=e,i=[],r=[];for(let e=0,o=n.length;e<o;e++){const o=n[e];if(o){i.push(o);const t=new c.Matrix4;null!==s&&t.fromArray(s.array,16*e),r.push(t)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[e])}return new c.Skeleton(i,r)}))}loadAnimation(e){const t=this.json.animations[e],s=[],n=[],i=[],r=[],o=[];for(let e=0,a=t.channels.length;e<a;e++){const a=t.channels[e],c=t.samplers[a.sampler],l=a.target,u=l.node,h=void 0!==t.parameters?t.parameters[c.input]:c.input,d=void 0!==t.parameters?t.parameters[c.output]:c.output;s.push(this.getDependency("node",u)),n.push(this.getDependency("accessor",h)),i.push(this.getDependency("accessor",d)),r.push(c),o.push(l)}return Promise.all([Promise.all(s),Promise.all(n),Promise.all(i),Promise.all(r),Promise.all(o)]).then((function(s){const n=s[0],i=s[1],r=s[2],o=s[3],a=s[4],l=[];for(let e=0,t=n.length;e<t;e++){const t=n[e],s=i[e],u=r[e],h=o[e],d=a[e];if(void 0===t)continue;let f;switch(t.updateMatrix(),B[d.path]){case B.weights:f=c.NumberKeyframeTrack;break;case B.rotation:f=c.QuaternionKeyframeTrack;break;default:f=c.VectorKeyframeTrack}const p=t.name?t.name:t.uuid,m=void 0!==h.interpolation?K[h.interpolation]:c.InterpolateLinear,g=[];B[d.path]===B.weights?t.traverse((function(e){e.morphTargetInfluences&&g.push(e.name?e.name:e.uuid)})):g.push(p);let v=u.array;if(u.normalized){const e=Z(v.constructor),t=new Float32Array(v.length);for(let s=0,n=v.length;s<n;s++)t[s]=v[s]*e;v=t}for(let e=0,t=g.length;e<t;e++){const t=new f(g[e]+"."+B[d.path],s.array,v,m);"CUBICSPLINE"===h.interpolation&&(t.createInterpolant=function(e){return new(this instanceof c.QuaternionKeyframeTrack?F:P)(this.times,this.values,this.getValueSize()/3,e)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(t)}}const u=t.name?t.name:"animation_"+e;return new c.AnimationClip(u,void 0,l)}))}createNodeMesh(e){const t=this.json,s=this,n=t.nodes[e];return void 0===n.mesh?null:s.getDependency("mesh",n.mesh).then((function(e){const t=s._getNodeRef(s.meshCache,n.mesh,e);return void 0!==n.weights&&t.traverse((function(e){if(e.isMesh)for(let t=0,s=n.weights.length;t<s;t++)e.morphTargetInfluences[t]=n.weights[t]})),t}))}loadNode(e){const t=this.json,s=this.extensions,n=this,i=t.nodes[e],r=i.name?n.createUniqueName(i.name):"";return function(){const t=[],s=n._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));s&&t.push(s),void 0!==i.camera&&t.push(n.getDependency("camera",i.camera).then((function(e){return n._getNodeRef(n.cameraCache,i.camera,e)}))),n._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)}));const r=[],o=i.children||[];for(let e=0,t=o.length;e<t;e++)r.push(n.getDependency("node",o[e]));const a=void 0===i.skin?Promise.resolve(null):n.getDependency("skin",i.skin);return Promise.all([Promise.all(t),Promise.all(r),a])}().then((function(t){const o=t[0],a=t[1],l=t[2];let u;if(u=!0===i.isBone?new c.Bone:o.length>1?new c.Group:1===o.length?o[0]:new c.Object3D,u!==o[0])for(let e=0,t=o.length;e<t;e++)u.add(o[e]);if(i.name&&(u.userData.name=i.name,u.name=r),q(u,i),i.extensions&&X(s,u,i),void 0!==i.matrix){const e=new c.Matrix4;e.fromArray(i.matrix),u.applyMatrix4(e)}else void 0!==i.translation&&u.position.fromArray(i.translation),void 0!==i.rotation&&u.quaternion.fromArray(i.rotation),void 0!==i.scale&&u.scale.fromArray(i.scale);n.associations.has(u)||n.associations.set(u,{}),n.associations.get(u).nodes=e,null!==l&&u.traverse((function(e){e.isSkinnedMesh&&e.bind(l,Q)}));for(let e=0,t=a.length;e<t;e++)u.add(a[e]);return u}))}loadScene(e){const t=this.extensions,s=this.json.scenes[e],n=this,i=new c.Group;s.name&&(i.name=n.createUniqueName(s.name)),q(i,s),s.extensions&&X(t,i,s);const r=s.nodes||[],o=[];for(let e=0,t=r.length;e<t;e++)o.push(n.getDependency("node",r[e]));return Promise.all(o).then((function(e){for(let t=0,s=e.length;t<s;t++)i.add(e[t]);return n.associations=(e=>{const t=new Map;for(const[e,s]of n.associations)(e instanceof c.Material||e instanceof c.Texture)&&t.set(e,s);return e.traverse((e=>{const s=n.associations.get(e);null!=s&&t.set(e,s)})),t})(i),i}))}}function $(e,t,s){const n=t.attributes,i=[];function r(t,n){return s.getDependency("accessor",t).then((function(t){e.setAttribute(n,t)}))}for(const t in n){const s=j[t]||t.toLowerCase();s in e.attributes||i.push(r(n[t],s))}if(void 0!==t.indices&&!e.index){const n=s.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(n)}return q(e,t),function(e,t,s){const n=t.attributes,i=new c.Box3;if(void 0===n.POSITION)return;{const e=s.json.accessors[n.POSITION],t=e.min,r=e.max;if(void 0===t||void 0===r)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(i.set(new c.Vector3(t[0],t[1],t[2]),new c.Vector3(r[0],r[1],r[2])),e.normalized){const t=Z(D[e.componentType]);i.min.multiplyScalar(t),i.max.multiplyScalar(t)}}const r=t.targets;if(void 0!==r){const e=new c.Vector3,t=new c.Vector3;for(let n=0,i=r.length;n<i;n++){const i=r[n];if(void 0!==i.POSITION){const n=s.json.accessors[i.POSITION],r=n.min,o=n.max;if(void 0!==r&&void 0!==o){if(t.setX(Math.max(Math.abs(r[0]),Math.abs(o[0]))),t.setY(Math.max(Math.abs(r[1]),Math.abs(o[1]))),t.setZ(Math.max(Math.abs(r[2]),Math.abs(o[2]))),n.normalized){const e=Z(D[n.componentType]);t.multiplyScalar(e)}e.max(t)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(e)}e.boundingBox=i;const o=new c.Sphere;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=o}(e,t,s),Promise.all(i).then((function(){return void 0!==t.targets?function(e,t,s){let n=!1,i=!1,r=!1;for(let e=0,s=t.length;e<s;e++){const s=t[e];if(void 0!==s.POSITION&&(n=!0),void 0!==s.NORMAL&&(i=!0),void 0!==s.COLOR_0&&(r=!0),n&&i&&r)break}if(!n&&!i&&!r)return Promise.resolve(e);const o=[],a=[],c=[];for(let l=0,u=t.length;l<u;l++){const u=t[l];if(n){const t=void 0!==u.POSITION?s.getDependency("accessor",u.POSITION):e.attributes.position;o.push(t)}if(i){const t=void 0!==u.NORMAL?s.getDependency("accessor",u.NORMAL):e.attributes.normal;a.push(t)}if(r){const t=void 0!==u.COLOR_0?s.getDependency("accessor",u.COLOR_0):e.attributes.color;c.push(t)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(c)]).then((function(t){const s=t[0],o=t[1],a=t[2];return n&&(e.morphAttributes.position=s),i&&(e.morphAttributes.normal=o),r&&(e.morphAttributes.color=a),e.morphTargetsRelative=!0,e}))}(e,t.targets,s):e}))}var ee=function(){function t(s){e(this,t),a(this,"y",void 0),a(this,"s",void 0),a(this,"alpha",0),this.setAlpha(s),this.y=null,this.s=null}return o(t,[{key:"setAlpha",value:function(e){if(e<=0||e>1)throw new Error;this.alpha=e}},{key:"filter",value:function(e,t,s){var n;return s&&this.setAlpha(s),n=this.y?this.alpha*e+(1-this.alpha)*this.s:e,this.y=e,this.s=n,n}},{key:"lastValue",value:function(){return this.y}}]),t}(),te=function(){function t(s){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(e(this,t),a(this,"freq",void 0),a(this,"minCutOff",void 0),a(this,"beta",void 0),a(this,"dCutOff",void 0),a(this,"x",void 0),a(this,"dx",void 0),a(this,"lasttime",void 0),a(this,"currValue",void 0),a(this,"prevValue",void 0),s<=0||n<=0||r<=0)throw new Error;this.freq=s,this.minCutOff=n,this.beta=i,this.dCutOff=r,this.x=new ee(this.alpha(this.minCutOff)),this.dx=new ee(this.alpha(this.dCutOff)),this.lasttime=null,this.currValue=0,this.prevValue=this.currValue}return o(t,[{key:"alpha",value:function(e){var t=1/this.freq;return 1/(1+1/(2*Math.PI*e)/t)}},{key:"UpdateParams",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.freq=e,this.minCutOff=t,this.beta=s,this.dCutOff=n,this.x.setAlpha(this.alpha(this.minCutOff)),this.dx.setAlpha(this.alpha(this.dCutOff))}},{key:"Filter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.prevValue=this.currValue,this.lasttime&&t&&(this.freq=1/(t-this.lasttime)),this.lasttime=t;var s=this.x.lastValue(),n=s?(e-s)*this.freq:0,i=this.dx.filter(n,t,this.alpha(this.dCutOff)),r=this.minCutOff+this.beta*Math.abs(i);return this.currValue=this.x.filter(e,t,this.alpha(r))}}]),t}(),se=function(){function t(s){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;e(this,t),a(this,"oneEuroFilters",void 0),a(this,"_freq",void 0),a(this,"_beta",void 0),a(this,"_dcutoff",void 0),a(this,"_mincutoff",void 0),a(this,"currValue",void 0),a(this,"prevValue",void 0),this.currValue=new c.Vector3,this.prevValue=new c.Vector3,this._freq=s,this._mincutoff=n,this._beta=i,this._dcutoff=r,this.oneEuroFilters=[],this.oneEuroFilters.push(new te(s,n,i,r)),this.oneEuroFilters.push(new te(s,n,i,r)),this.oneEuroFilters.push(new te(s,n,i,r))}return o(t,[{key:"freq",get:function(){return this._freq}},{key:"beta",get:function(){return this._beta}},{key:"dcutoff",get:function(){return this._dcutoff}},{key:"mincutoff_1",get:function(){return this._mincutoff}},{key:"UpdateParams",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this._freq=e,this._mincutoff=t,this._beta=s,this._dcutoff=n;for(var i=0;i<this.oneEuroFilters.length;i++)this.oneEuroFilters[i].UpdateParams(this._freq,this._mincutoff,this._beta,this._dcutoff)}},{key:"Filter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;this.prevValue=this.currValue;var s=new c.Vector3,n=s.toArray(),i=e.toArray();this.oneEuroFilters.forEach((function(e,s){n[s]=e.Filter(i[s],t)}));var r=new c.Vector3;return this.currValue=r.fromArray(n)}}]),t}(),ne=function(){function t(s){e(this,t),a(this,"_inDelay",void 0),a(this,"_totalTime",void 0),a(this,"_prevTime",void 0),a(this,"_timeOut",void 0),this._timeOut=s,this._inDelay=!1}return o(t,[{key:"Update",value:function(e){var t=Math.floor(Date.now()/1e3);return this._inDelay||(this._prevTime=t,this._totalTime=0),this._totalTime+=t-this._prevTime,this._inDelay&&this._totalTime>this._timeOut?(this._inDelay=!1,!0):e?(this._inDelay=!0,!1):(this._inDelay=!1,!1)}}]),t}(),ie=function(){function t(){e(this,t),a(this,"delayExitCheck",void 0),a(this,"delayEnterCheck",void 0),a(this,"_hasFound",!1),a(this,"_lastTranslation",void 0),a(this,"_frameDrops",0),a(this,"_deltaAccuracy",10),a(this,"_positionFilter",void 0),a(this,"_rotationFilter",void 0),a(this,"filterFrequency",30),a(this,"filterMinCutoff",1),a(this,"filterBeta",0),a(this,"filterDcutoff",1),this.delayEnterCheck=new ne(2),this.delayExitCheck=new ne(0),this._positionFilter=new se(this.filterFrequency),this._rotationFilter=new se(2*this.filterFrequency)}return o(t,[{key:"update",value:function(e){var t=new c.Vector3,s=new c.Vector3,n=new c.Vector3;if(e){var i=(new c.Matrix4).fromArray(this.getArrayMatrix(e));if(this._hasFound){var r=(new c.Vector3).setFromMatrixPosition(i);if(Math.abs(r.distanceTo(this._lastTranslation))>this._deltaAccuracy)return this._frameDrops+=1,this._frameDrops>3&&(this._lastTranslation=r),[t,s,n];this._frameDrops=0,this._lastTranslation=r}else{this._hasFound=!0;var o=new c.Vector3;this._lastTranslation=o.setFromMatrixPosition(i)}this._positionFilter.UpdateParams(this.filterFrequency,this.filterMinCutoff,this.filterBeta,this.filterDcutoff),this._rotationFilter.UpdateParams(2*this.filterFrequency,this.filterMinCutoff,this.filterBeta,this.filterDcutoff),new c.Matrix4;var a=new c.Quaternion,l=new c.Euler,u=new c.Vector3(0,0,0);i.decompose(u,a,n);var h=l.setFromQuaternion(a),d=new c.Vector3;s=this._rotationFilter.Filter(d.setFromEuler(h)),t=this._positionFilter.Filter(u)}else this._hasFound=!1,this._frameDrops=0;return[t,s,n]}},{key:"getArrayMatrix",value:function(e){var t=[];for(var s in e)t[s]=e[s];return t}}]),t}(),re=function(){function t(s){e(this,t),a(this,"entities",[]),a(this,"names",void 0),a(this,"scene",void 0),a(this,"target",void 0),a(this,"uuid",void 0),a(this,"_filter",void 0),a(this,"_oef",void 0),this.scene=u.getGlobalScene(),this.target=window||n.g,this.uuid=s,this.names=[],this._filter=new ie,this._oef=!1}return o(t,[{key:"add",value:function(e,t,s){var n=this;this.target.addEventListener("getNFTData-"+this.uuid+"-"+t,(function(t){var s=t.detail;e.position.y=s.height/s.dpi*2.54*10/2,e.position.x=s.width/s.dpi*2.54*10/2}));var i=new c.Object3D;i.name="root-"+t,this.scene.add(i),i.add(e),this.target.addEventListener("getMatrixGL_RH-"+this.uuid+"-"+t,(function(t){if(i.visible=!0,e.visible=!0,!0===n._oef){var s=(new c.Vector3(0,0,0),new c.Vector3(0,0,0),new c.Vector3(0,0,0));s=n._filter.update(t.detail.matrixGL_RH),i.position.setX(s[0].x),i.position.setY(s[0].y),i.position.setZ(s[0].z),i.rotation.setFromVector3(s[1]),i.scale.setX(s[2].x),i.scale.setY(s[2].y),i.scale.setZ(s[2].z)}else{i.matrixAutoUpdate=!1;var r=l.interpolate(t.detail.matrixGL_RH);l.setMatrix(i.matrix,r)}})),this.target.addEventListener("nftTrackingLost-"+this.uuid+"-"+t,(function(t){i.visible=s,e.visible=s})),this.names.push(t),this.entities.push({name:t})}},{key:"addModel",value:function(e,t,s,n){var i,r=this,o=new c.Object3D;o.name="root-"+t,this.scene.add(o),(new d).load(e,(function(e){(i=e.scene).scale.set(s,s,s),i.rotation.x=Math.PI/2,r.target.addEventListener("getNFTData-"+r.uuid+"-"+t,(function(e){var t=e.detail;i.position.y=t.height/t.dpi*2.54*10/2,i.position.x=t.width/t.dpi*2.54*10/2})),o.add(i)})),this.target.addEventListener("getMatrixGL_RH-"+this.uuid+"-"+t,(function(e){if(o.visible=!0,i.visible=!0,!0===r._oef){var t=(new c.Vector3(0,0,0),new c.Vector3(0,0,0),new c.Vector3(0,0,0));t=r._filter.update(e.detail.matrixGL_RH),o.position.setX(t[0].x),o.position.setY(t[0].y),o.position.setZ(t[0].z),o.rotation.setFromVector3(t[1]),o.scale.setX(t[2].x),o.scale.setY(t[2].y),o.scale.setZ(t[2].z)}else{o.matrixAutoUpdate=!1;var s=l.interpolate(e.detail.matrixGL_RH);l.setMatrix(o.matrix,s)}})),this.target.addEventListener("nftTrackingLost-"+this.uuid+"-"+t,(function(e){o.visible=n,i.visible=n})),this.names.push(t)}},{key:"addModelWithCallback",value:function(e,t,s,n){var i,r=this,o=new c.Object3D;o.name="root-"+t,this.scene.add(o),(new d).load(e,(function(e){i=e.scene,r.target.addEventListener("getNFTData-"+r.uuid+"-"+t,(function(e){var t=e.detail;i.position.y=t.height/t.dpi*2.54*10/2,i.position.x=t.width/t.dpi*2.54*10/2})),s(e),o.add(i)})),this.target.addEventListener("getMatrixGL_RH-"+this.uuid+"-"+t,(function(e){if(o.visible=!0,i.visible=!0,!0===r._oef){var t=(new c.Vector3(0,0,0),new c.Vector3(0,0,0),new c.Vector3(0,0,0));t=r._filter.update(e.detail.matrixGL_RH),o.position.setX(t[0].x),o.position.setY(t[0].y),o.position.setZ(t[0].z),o.rotation.setFromVector3(t[1]),o.scale.setX(t[2].x),o.scale.setY(t[2].y),o.scale.setZ(t[2].z)}else{o.matrixAutoUpdate=!1;var s=l.interpolate(e.detail.matrixGL_RH);l.setMatrix(o.matrix,s)}})),this.target.addEventListener("nftTrackingLost-"+this.uuid+"-"+t,(function(e){o.visible=n,i.visible=n})),this.names.push(t)}},{key:"addImage",value:function(e,t,s,n,i,r){var o=this,a=new c.Object3D;a.name="root-"+t,this.scene.add(a);var u=new c.PlaneGeometry(i.w,i.h,i.ws,i.hs),h=(new c.TextureLoader).load(e),d=new c.MeshStandardMaterial({color:s,map:h}),f=new c.Mesh(u,d);f.scale.set(n,n,n),this.target.addEventListener("getNFTData-"+this.uuid+"-"+t,(function(e){var t=e.detail;f.position.y=t.height/t.dpi*2.54*10/2,f.position.x=t.width/t.dpi*2.54*10/2})),a.add(f),this.target.addEventListener("getMatrixGL_RH-"+this.uuid+"-"+t,(function(e){if(a.visible=!0,f.visible=!0,!0===o._oef){var t=(new c.Vector3(0,0,0),new c.Vector3(0,0,0),new c.Vector3(0,0,0));t=o._filter.update(e.detail.matrixGL_RH),a.position.setX(t[0].x),a.position.setY(t[0].y),a.position.setZ(t[0].z),a.rotation.setFromVector3(t[1]),a.scale.setX(t[2].x),a.scale.setY(t[2].y),a.scale.setZ(t[2].z)}else{a.matrixAutoUpdate=!1;var s=l.interpolate(e.detail.matrixGL_RH);l.setMatrix(a.matrix,s)}})),this.target.addEventListener("nftTrackingLost-"+this.uuid+"-"+t,(function(e){a.visible=r,f.visible=r})),this.names.push(t)}},{key:"addVideo",value:function(e,t,s,n,i){var r=this,o=new c.Object3D;o.name="root-"+t,this.scene.add(o);var a=document.getElementById(e),u=new c.VideoTexture(a),h=new c.MeshStandardMaterial({color:12303359,map:u}),d=new c.PlaneGeometry(n.w,n.h,n.ws,n.hs),f=new c.Mesh(d,h);f.scale.set(s,s,s),this.target.addEventListener("getNFTData-"+this.uuid+"-"+t,(function(e){var t=e.detail;f.position.y=t.height/t.dpi*2.54*10/2,f.position.x=t.width/t.dpi*2.54*10/2})),o.add(f),this.target.addEventListener("getMatrixGL_RH-"+this.uuid+"-"+t,(function(e){if(a.play(),o.visible=!0,f.visible=!0,!0===r._oef){var t=(new c.Vector3(0,0,0),new c.Vector3(0,0,0),new c.Vector3(0,0,0));t=r._filter.update(e.detail.matrixGL_RH),o.position.setX(t[0].x),o.position.setY(t[0].y),o.position.setZ(t[0].z),o.rotation.setFromVector3(t[1]),o.scale.setX(t[2].x),o.scale.setY(t[2].y),o.scale.setZ(t[2].z)}else{o.matrixAutoUpdate=!1;var s=l.interpolate(e.detail.matrixGL_RH);l.setMatrix(o.matrix,s)}})),this.target.addEventListener("nftTrackingLost-"+this.uuid+"-"+t,(function(e){o.visible=i,f.visible=i,a.pause()})),this.names.push(t)}},{key:"getNames",value:function(){return this.names}},{key:"oef",get:function(){return this._oef},set:function(e){this._oef=e}}]),t}();const oe={SceneRendererTJS:u,NFTaddTJS:re}})(),i.default})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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a2UsZUFBZWpqQixFQUFPLElBQ3BDNVksRUFBS3VVLE1BQU1tVixLQUFLOVEsRUFBTyxHQUFHd2UsR0FDMUJwM0IsRUFBS3VVLE1BQU1vVixLQUFLL1EsRUFBTyxHQUFHZ1UsR0FDMUI1c0IsRUFBS3VVLE1BQU1xVixLQUFLaFIsRUFBTyxHQUFHZ2pCLE9BQ3ZCLENBQ0g1N0IsRUFBS3lHLGtCQUFtQixFQUN4QixJQUFNbkMsRUFBU1IsRUFBTWc0QixZQUFZbjFCLEVBQUdHLE9BQU82MEIsYUFDM0M3M0IsRUFBTThDLFVBQVU1RyxFQUFLc0UsT0FBUUEsT0FHckMvRCxLQUFLMkMsT0FBT3dELGlCQUFpQixtQkFBcUJuRyxLQUFLdUUsS0FBTyxJQUFNNkksR0FBTSxTQUFDaEgsR0FDdkUzRyxFQUFLeTdCLFFBQVVKLEVBQ2Z1QixFQUFNbkIsUUFBVUosRUFDaEIwQixFQUFRSyxXQUVaNzhCLEtBQUsyNkIsTUFBTTF5QixLQUFLbUYsS0FDbkIsQ0FBQTFNLElBQUEsV0FBQTRDLE1BTU0sV0FDSCxPQUFPdEQsS0FBSzI2QixRQUNmLENBQUFqNkIsSUFBQSxNQUFBSyxJQWFELFdBQ0ksT0FBT2YsS0FBSzY2QixNQUNmMzJCLElBVkQsU0FBZTQ0QixHQUNYOThCLEtBQUs2NkIsS0FBT2lDLE1BQ2ZyQyxFQWpTeUIsR0M3QzlCLFVBQWlCcjJCLGlCQUFBQSxFQUFrQnEyQixVQUFBQSxLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQVJuZnRUaHJlZWpzL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9BUm5mdFRocmVlanMvZXh0ZXJuYWwgdW1kIHtcImNvbW1vbmpzXCI6XCJ0aHJlZVwiLFwiY29tbW9uanMyXCI6XCJ0aHJlZVwiLFwiYW1kXCI6XCJ0aHJlZVwiLFwicm9vdFwiOlwiVEhSRUVcIn0iLCJ3ZWJwYWNrOi8vQVJuZnRUaHJlZWpzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL0FSbmZ0VGhyZWVqcy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vQVJuZnRUaHJlZWpzL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vQVJuZnRUaHJlZWpzL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vQVJuZnRUaHJlZWpzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrLmpzIiwid2VicGFjazovL0FSbmZ0VGhyZWVqcy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YuanMiLCJ3ZWJwYWNrOi8vQVJuZnRUaHJlZWpzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvUHJvcGVydHlLZXkuanMiLCJ3ZWJwYWNrOi8vQVJuZnRUaHJlZWpzLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvUHJpbWl0aXZlLmpzIiwid2VicGFjazovL0FSbmZ0VGhyZWVqcy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyIsIndlYnBhY2s6Ly9BUm5mdFRocmVlanMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vQVJuZnRUaHJlZWpzLy4vc3JjL3V0aWxzL1V0aWxzLnRzIiwid2VicGFjazovL0FSbmZ0VGhyZWVqcy8uL3NyYy9TY2VuZVJlbmRlcmVyVEpTLnRzIiwid2VicGFjazovL0FSbmZ0VGhyZWVqcy8uL25vZGVfbW9kdWxlcy90aHJlZS9leGFtcGxlcy9qc20vdXRpbHMvQnVmZmVyR2VvbWV0cnlVdGlscy5qcyIsIndlYnBhY2s6Ly9BUm5mdFRocmVlanMvLi9ub2RlX21vZHVsZXMvdGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvR0xURkxvYWRlci5qcyIsIndlYnBhY2s6Ly9BUm5mdFRocmVlanMvLi9zcmMvZmlsdGVycy9PbmVFdXJvRmlsdGVyLnRzIiwid2VicGFjazovL0FSbmZ0VGhyZWVqcy8uL3NyYy9maWx0ZXJzL0RlbGF5YWJsZVNpZ25hbEZpbHRlci50cyIsIndlYnBhY2s6Ly9BUm5mdFRocmVlanMvLi9zcmMvZmlsdGVycy9BUm5mdEZpbHRlci50cyIsIndlYnBhY2s6Ly9BUm5mdFRocmVlanMvLi9zcmMvbWFya2VybWVkaWEvTkZUYWRkVEpTLnRzIiwid2VicGFjazovL0FSbmZ0VGhyZWVqcy8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJ0aHJlZVwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJ0aHJlZVwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJBUm5mdFRocmVlanNcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJ0aHJlZVwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wiQVJuZnRUaHJlZWpzXCJdID0gZmFjdG9yeShyb290W1wiVEhSRUVcIl0pO1xufSkodGhpcywgKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzM4MV9fKSA9PiB7XG5yZXR1cm4gIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18zODFfXzsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XG5cbiAgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gIH0gOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgfSwgX3R5cGVvZihvYmopO1xufSIsImltcG9ydCBfdHlwZW9mIGZyb20gXCIuL3R5cGVvZi5qc1wiO1xuaW1wb3J0IHRvUHJpbWl0aXZlIGZyb20gXCIuL3RvUHJpbWl0aXZlLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHtcbiAgdmFyIGtleSA9IHRvUHJpbWl0aXZlKGFyZywgXCJzdHJpbmdcIik7XG4gIHJldHVybiBfdHlwZW9mKGtleSkgPT09IFwic3ltYm9sXCIgPyBrZXkgOiBTdHJpbmcoa2V5KTtcbn0iLCJpbXBvcnQgX3R5cGVvZiBmcm9tIFwiLi90eXBlb2YuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkge1xuICBpZiAoX3R5cGVvZihpbnB1dCkgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDtcbiAgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdO1xuICBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCBcImRlZmF1bHRcIik7XG4gICAgaWYgKF90eXBlb2YocmVzKSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHJlcztcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7XG4gIH1cbiAgcmV0dXJuIChoaW50ID09PSBcInN0cmluZ1wiID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7XG59IiwiaW1wb3J0IHRvUHJvcGVydHlLZXkgZnJvbSBcIi4vdG9Qcm9wZXJ0eUtleS5qc1wiO1xuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwge1xuICAgIHdyaXRhYmxlOiBmYWxzZVxuICB9KTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufSIsImltcG9ydCB0b1Byb3BlcnR5S2V5IGZyb20gXCIuL3RvUHJvcGVydHlLZXkuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAga2V5ID0gdG9Qcm9wZXJ0eUtleShrZXkpO1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gb2JqO1xufSIsImV4cG9ydCBmdW5jdGlvbiBnZXRUaW1lKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xufVxuZXhwb3J0IGNsYXNzIFV0aWxzIHtcbiAgICBwcml2YXRlIHN0YXRpYyB0cmFja2VkTWF0cml4OiBhbnkgPSB7XG4gICAgICAgIC8vIGZvciBpbnRlcnBvbGF0aW9uXG4gICAgICAgIGRlbHRhOiBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgICAgIGludGVycG9sYXRlZDogWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgIH07XG4gICAgLy9wcml2YXRlIHN0YXRpYyBpbnRlcnBvbGF0aW9uRmFjdG9yOiBudW1iZXIgPSAyNFxuICAgIHN0YXRpYyBpbnRlcnBvbGF0ZSh3b3JsZDogYW55KSB7XG4gICAgICAgIGNvbnN0IGludGVycG9sYXRpb25GYWN0b3IgPSAyNDtcblxuICAgICAgICAvLyBpbnRlcnBvbGF0ZSBtYXRyaXhcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNrZWRNYXRyaXguZGVsdGFbaV0gPSB3b3JsZFtpXSAtIHRoaXMudHJhY2tlZE1hdHJpeC5pbnRlcnBvbGF0ZWRbaV07XG4gICAgICAgICAgICB0aGlzLnRyYWNrZWRNYXRyaXguaW50ZXJwb2xhdGVkW2ldID1cbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNrZWRNYXRyaXguaW50ZXJwb2xhdGVkW2ldICsgdGhpcy50cmFja2VkTWF0cml4LmRlbHRhW2ldIC8gaW50ZXJwb2xhdGlvbkZhY3RvcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy50cmFja2VkTWF0cml4LmludGVycG9sYXRlZDtcbiAgICB9XG5cbiAgICBzdGF0aWMgaXNNb2JpbGUoKSB7XG4gICAgICAgIHJldHVybiAvQW5kcm9pZHxtb2JpbGV8aVBhZHxpUGhvbmUvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgIH1cblxuICAgIHN0YXRpYyBzZXRNYXRyaXgobWF0cml4OiBhbnksIHZhbHVlOiBhbnkpIHtcbiAgICAgICAgY29uc3QgYXJyYXk6IGFueSA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgYXJyYXlba2V5XSA9IHZhbHVlW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBtYXRyaXguZWxlbWVudHMuc2V0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIG1hdHJpeC5lbGVtZW50cy5zZXQoYXJyYXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWF0cml4LmVsZW1lbnRzID0gW10uc2xpY2UuY2FsbChhcnJheSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIi4vdXRpbHMvVXRpbHNcIjtcblxuaW50ZXJmYWNlIENvbmZpZ0RhdGEge1xuICAgIGNhbWVyYToge1xuICAgICAgICBmYXI6IG51bWJlcjtcbiAgICAgICAgZm92OiBudW1iZXI7XG4gICAgICAgIG1hdHJpeEF1dG9VcGRhdGU6IGJvb2xlYW47XG4gICAgICAgIG5lYXI6IG51bWJlcjtcbiAgICAgICAgcmF0aW86IG51bWJlcjtcbiAgICB9O1xuICAgIHJlbmRlcmVyOiB7XG4gICAgICAgIGFscGhhOiBib29sZWFuO1xuICAgICAgICBhbnRpYWxpYXM6IGJvb2xlYW47XG4gICAgICAgIGNvbnRleHQ6IGFueTtcbiAgICAgICAgZGVwdGg6IGJvb2xlYW47XG4gICAgICAgIGxvZ2FyaXRobWljRGVwdGhCdWZmZXI6IGJvb2xlYW47XG4gICAgICAgIHByZWNpc2lvbjogc3RyaW5nO1xuICAgICAgICBzdGVuY2lsOiBib29sZWFuO1xuICAgICAgICBwcmVtdWx0aXBsaWVkQWxwaGE6IGJvb2xlYW47XG4gICAgICAgIG9ialZpc2liaWxpdHk6IGJvb2xlYW47XG4gICAgfTtcbn1cblxuaW50ZXJmYWNlIFJvb3QgZXh0ZW5kcyBUSFJFRS5PYmplY3QzRCB7XG4gICAgLy9tYXRyaXg6IG9iamVjdFxufVxuXG5pbnRlcmZhY2UgUmVuZGVyZXIge1xuICAgIHJlbmRlcjogKHNjZW5lOiBUSFJFRS5TY2VuZSwgY2FtZXJhOiBUSFJFRS5DYW1lcmEpID0+IHZvaWQ7XG4gICAgc2V0UGl4ZWxSYXRpbzogKHBpeGVsUmF0aW86IG51bWJlcikgPT4gdm9pZDtcbiAgICBzZXRTaXplOiAodzogbnVtYmVyLCBoOiBudW1iZXIpID0+IHZvaWQ7XG59XG5cbmludGVyZmFjZSBDYW1lcmEgZXh0ZW5kcyBUSFJFRS5DYW1lcmEge1xuICAgIG1hdHJpeEF1dG9VcGRhdGU6IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBTY2VuZSBleHRlbmRzIFRIUkVFLlNjZW5lIHtcbiAgICBhZGQ6IChub2RlOiBUSFJFRS5PYmplY3QzRCkgPT4gdGhpcztcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NlbmVSZW5kZXJlclRKUyB7XG4gICAgcHVibGljIGNhbnZhc19kcmF3OiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICBwcml2YXRlIGNhbWVyYTogQ2FtZXJhO1xuICAgIHByaXZhdGUgY29uZmlnRGF0YTogQ29uZmlnRGF0YTtcbiAgICBwdWJsaWMgcmVuZGVyZXI6IFJlbmRlcmVyO1xuICAgIHByaXZhdGUgdXVpZDogc3RyaW5nO1xuICAgIHByaXZhdGUgcm9vdDogUm9vdDtcbiAgICBwcml2YXRlIHRhcmdldDogRXZlbnRUYXJnZXQ7XG4gICAgcHJpdmF0ZSBzY2VuZTogU2NlbmU7XG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2xvYmFsU2NlbmU6IFNjZW5lO1xuICAgIHByaXZhdGUgdmVyc2lvbjogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoY29uZmlnRGF0YTogQ29uZmlnRGF0YSwgY2FudmFzRHJhdzogSFRNTENhbnZhc0VsZW1lbnQsIHV1aWQ6IHN0cmluZywgY2FtZXJhQm9vbDogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmNvbmZpZ0RhdGEgPSBjb25maWdEYXRhO1xuICAgICAgICB0aGlzLnV1aWQgPSB1dWlkO1xuICAgICAgICB0aGlzLnRhcmdldCA9IHdpbmRvdyB8fCBnbG9iYWw7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7XG4gICAgICAgICAgICBjYW52YXM6IGNhbnZhc0RyYXcsXG4gICAgICAgICAgICBjb250ZXh0OiBjb25maWdEYXRhLnJlbmRlcmVyLmNvbnRleHQsXG4gICAgICAgICAgICBhbHBoYTogY29uZmlnRGF0YS5yZW5kZXJlci5hbHBoYSxcbiAgICAgICAgICAgIHByZW11bHRpcGxpZWRBbHBoYTogY29uZmlnRGF0YS5yZW5kZXJlci5wcmVtdWx0aXBsaWVkQWxwaGEsXG4gICAgICAgICAgICBhbnRpYWxpYXM6IGNvbmZpZ0RhdGEucmVuZGVyZXIuYW50aWFsaWFzLFxuICAgICAgICAgICAgc3RlbmNpbDogY29uZmlnRGF0YS5yZW5kZXJlci5zdGVuY2lsLFxuICAgICAgICAgICAgcHJlY2lzaW9uOiBjb25maWdEYXRhLnJlbmRlcmVyLnByZWNpc2lvbixcbiAgICAgICAgICAgIGRlcHRoOiBjb25maWdEYXRhLnJlbmRlcmVyLmRlcHRoLFxuICAgICAgICAgICAgbG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcjogY29uZmlnRGF0YS5yZW5kZXJlci5sb2dhcml0aG1pY0RlcHRoQnVmZmVyLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuICAgICAgICBTY2VuZVJlbmRlcmVyVEpTLmdsb2JhbFNjZW5lID0gdGhpcy5zY2VuZTtcbiAgICAgICAgaWYgKGNhbWVyYUJvb2wgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKFxuICAgICAgICAgICAgICAgIGNvbmZpZ0RhdGEuY2FtZXJhLmZvdixcbiAgICAgICAgICAgICAgICBjb25maWdEYXRhLmNhbWVyYS5yYXRpbyxcbiAgICAgICAgICAgICAgICBjb25maWdEYXRhLmNhbWVyYS5uZWFyLFxuICAgICAgICAgICAgICAgIGNvbmZpZ0RhdGEuY2FtZXJhLmZhclxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLkNhbWVyYSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IFwiMC40LjdcIjtcbiAgICAgICAgY29uc29sZS5sb2coXCJBUm5mdFRocmVlanMgdmVyc2lvbjogXCIsIHRoaXMudmVyc2lvbik7XG4gICAgfVxuXG4gICAgaW5pdFJlbmRlcmVyKCkge1xuICAgICAgICB0aGlzLmNhbWVyYS5tYXRyaXhBdXRvVXBkYXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJnZXRQcm9qZWN0aW9uTWF0cml4XCIsIChldjogYW55KSA9PiB7XG4gICAgICAgICAgICBVdGlscy5zZXRNYXRyaXgodGhpcy5jYW1lcmEucHJvamVjdGlvbk1hdHJpeCwgZXYuZGV0YWlsLnByb2opO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5jYW1lcmEpO1xuXG4gICAgICAgIGNvbnN0IGxpZ2h0ID0gbmV3IFRIUkVFLkFtYmllbnRMaWdodCgweGZmZmZmZik7XG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKGxpZ2h0KTtcblxuICAgICAgICB0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwiZ2V0V2luZG93U2l6ZVwiLCAoX2V2OiBhbnkpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZShfZXYuZGV0YWlsLnN3LCBfZXYuZGV0YWlsLnNoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgc2V0SW5pdFJlbmRlcmVyRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoXCJvbkluaXRUaHJlZWpzUmVuZGVyaW5nXCIsIHtcbiAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyOiB0aGlzLnJlbmRlcmVyLFxuICAgICAgICAgICAgICAgIHNjZW5lOiB0aGlzLnNjZW5lLFxuICAgICAgICAgICAgICAgIGNhbWVyYTogdGhpcy5jYW1lcmEsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50YXJnZXQuZGlzcGF0Y2hFdmVudChzZXRJbml0UmVuZGVyZXJFdmVudCk7XG4gICAgfVxuXG4gICAgZHJhdygpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgIH1cblxuICAgIC8vIGdldHRlcnNcblxuICAgIGdldFJlbmRlcmVyKCk6IFJlbmRlcmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXI7XG4gICAgfVxuXG4gICAgZ2V0U2NlbmUoKTogU2NlbmUge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZTtcbiAgICB9XG5cbiAgICBnZXRDYW1lcmEoKTogQ2FtZXJhIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FtZXJhO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRHbG9iYWxTY2VuZSgpOiBTY2VuZSB7XG4gICAgICAgIHJldHVybiBTY2VuZVJlbmRlcmVyVEpTLmdsb2JhbFNjZW5lO1xuICAgIH1cblxuICAgIC8vIHNldHRlcnNcblxuICAgIHNldFJlbmRlcmVyKHJlbmRlcmVyOiBSZW5kZXJlcikge1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgfVxuXG4gICAgc2V0U2NlbmUoc2NlbmU6IFNjZW5lKSB7XG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcbiAgICB9XG5cbiAgICBzZXRDYW1lcmEoY2FtZXJhOiBDYW1lcmEpIHtcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBjYW1lcmE7XG4gICAgfVxuXG4gICAgLy8gdGljayB0byBiZSBpbXBsZW1lbnRlZFxuICAgIC8qIHRpY2sgKCkge1xuICAgIHRoaXMuZHJhdygpXG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnRpY2spXG4gIH0qL1xufVxuIiwiaW1wb3J0IHtcblx0QnVmZmVyQXR0cmlidXRlLFxuXHRCdWZmZXJHZW9tZXRyeSxcblx0RmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSxcblx0SW5zdGFuY2VkQnVmZmVyQXR0cmlidXRlLFxuXHRJbnRlcmxlYXZlZEJ1ZmZlcixcblx0SW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUsXG5cdFRyaWFuZ2xlRmFuRHJhd01vZGUsXG5cdFRyaWFuZ2xlU3RyaXBEcmF3TW9kZSxcblx0VHJpYW5nbGVzRHJhd01vZGUsXG5cdFZlY3RvcjMsXG59IGZyb20gJ3RocmVlJztcblxuZnVuY3Rpb24gY29tcHV0ZVRhbmdlbnRzKCkge1xuXG5cdHRocm93IG5ldyBFcnJvciggJ0J1ZmZlckdlb21ldHJ5VXRpbHM6IGNvbXB1dGVUYW5nZW50cyByZW5hbWVkIHRvIGNvbXB1dGVNaWtrVFNwYWNlVGFuZ2VudHMuJyApO1xuXG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVNaWtrVFNwYWNlVGFuZ2VudHMoIGdlb21ldHJ5LCBNaWtrVFNwYWNlLCBuZWdhdGVTaWduID0gdHJ1ZSApIHtcblxuXHRpZiAoICEgTWlra1RTcGFjZSB8fCAhIE1pa2tUU3BhY2UuaXNSZWFkeSApIHtcblxuXHRcdHRocm93IG5ldyBFcnJvciggJ0J1ZmZlckdlb21ldHJ5VXRpbHM6IEluaXRpYWxpemVkIE1pa2tUU3BhY2UgbGlicmFyeSByZXF1aXJlZC4nICk7XG5cblx0fVxuXG5cdGlmICggISBnZW9tZXRyeS5oYXNBdHRyaWJ1dGUoICdwb3NpdGlvbicgKSB8fCAhIGdlb21ldHJ5Lmhhc0F0dHJpYnV0ZSggJ25vcm1hbCcgKSB8fCAhIGdlb21ldHJ5Lmhhc0F0dHJpYnV0ZSggJ3V2JyApICkge1xuXG5cdFx0dGhyb3cgbmV3IEVycm9yKCAnQnVmZmVyR2VvbWV0cnlVdGlsczogVGFuZ2VudHMgcmVxdWlyZSBcInBvc2l0aW9uXCIsIFwibm9ybWFsXCIsIGFuZCBcInV2XCIgYXR0cmlidXRlcy4nICk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIGdldEF0dHJpYnV0ZUFycmF5KCBhdHRyaWJ1dGUgKSB7XG5cblx0XHRpZiAoIGF0dHJpYnV0ZS5ub3JtYWxpemVkIHx8IGF0dHJpYnV0ZS5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlICkge1xuXG5cdFx0XHRjb25zdCBkc3RBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoIGF0dHJpYnV0ZS5nZXRDb3VudCgpICogYXR0cmlidXRlLml0ZW1TaXplICk7XG5cblx0XHRcdGZvciAoIGxldCBpID0gMCwgaiA9IDA7IGkgPCBhdHRyaWJ1dGUuZ2V0Q291bnQoKTsgaSArKyApIHtcblxuXHRcdFx0XHRkc3RBcnJheVsgaiArKyBdID0gYXR0cmlidXRlLmdldFgoIGkgKTtcblx0XHRcdFx0ZHN0QXJyYXlbIGogKysgXSA9IGF0dHJpYnV0ZS5nZXRZKCBpICk7XG5cblx0XHRcdFx0aWYgKCBhdHRyaWJ1dGUuaXRlbVNpemUgPiAyICkge1xuXG5cdFx0XHRcdFx0ZHN0QXJyYXlbIGogKysgXSA9IGF0dHJpYnV0ZS5nZXRaKCBpICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBkc3RBcnJheTtcblxuXHRcdH1cblxuXHRcdGlmICggYXR0cmlidXRlLmFycmF5IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5ICkge1xuXG5cdFx0XHRyZXR1cm4gYXR0cmlidXRlLmFycmF5O1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoIGF0dHJpYnV0ZS5hcnJheSApO1xuXG5cdH1cblxuXHQvLyBNaWtrVFNwYWNlIGFsZ29yaXRobSByZXF1aXJlcyBub24taW5kZXhlZCBpbnB1dC5cblxuXHRjb25zdCBfZ2VvbWV0cnkgPSBnZW9tZXRyeS5pbmRleCA/IGdlb21ldHJ5LnRvTm9uSW5kZXhlZCgpIDogZ2VvbWV0cnk7XG5cblx0Ly8gQ29tcHV0ZSB2ZXJ0ZXggdGFuZ2VudHMuXG5cblx0Y29uc3QgdGFuZ2VudHMgPSBNaWtrVFNwYWNlLmdlbmVyYXRlVGFuZ2VudHMoXG5cblx0XHRnZXRBdHRyaWJ1dGVBcnJheSggX2dlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24gKSxcblx0XHRnZXRBdHRyaWJ1dGVBcnJheSggX2dlb21ldHJ5LmF0dHJpYnV0ZXMubm9ybWFsICksXG5cdFx0Z2V0QXR0cmlidXRlQXJyYXkoIF9nZW9tZXRyeS5hdHRyaWJ1dGVzLnV2IClcblxuXHQpO1xuXG5cdC8vIFRleHR1cmUgY29vcmRpbmF0ZSBjb252ZW50aW9uIG9mIGdsVEYgZGlmZmVycyBmcm9tIHRoZSBhcHBhcmVudFxuXHQvLyBkZWZhdWx0IG9mIHRoZSBNaWtrVFNwYWNlIGxpYnJhcnk7IC53IGNvbXBvbmVudCBtdXN0IGJlIGZsaXBwZWQuXG5cblx0aWYgKCBuZWdhdGVTaWduICkge1xuXG5cdFx0Zm9yICggbGV0IGkgPSAzOyBpIDwgdGFuZ2VudHMubGVuZ3RoOyBpICs9IDQgKSB7XG5cblx0XHRcdHRhbmdlbnRzWyBpIF0gKj0gLSAxO1xuXG5cdFx0fVxuXG5cdH1cblxuXHQvL1xuXG5cdF9nZW9tZXRyeS5zZXRBdHRyaWJ1dGUoICd0YW5nZW50JywgbmV3IEJ1ZmZlckF0dHJpYnV0ZSggdGFuZ2VudHMsIDQgKSApO1xuXG5cdGlmICggZ2VvbWV0cnkgIT09IF9nZW9tZXRyeSApIHtcblxuXHRcdGdlb21ldHJ5LmNvcHkoIF9nZW9tZXRyeSApO1xuXG5cdH1cblxuXHRyZXR1cm4gZ2VvbWV0cnk7XG5cbn1cblxuLyoqXG4gKiBAcGFyYW0gIHtBcnJheTxCdWZmZXJHZW9tZXRyeT59IGdlb21ldHJpZXNcbiAqIEBwYXJhbSAge0Jvb2xlYW59IHVzZUdyb3Vwc1xuICogQHJldHVybiB7QnVmZmVyR2VvbWV0cnl9XG4gKi9cbmZ1bmN0aW9uIG1lcmdlQnVmZmVyR2VvbWV0cmllcyggZ2VvbWV0cmllcywgdXNlR3JvdXBzID0gZmFsc2UgKSB7XG5cblx0Y29uc3QgaXNJbmRleGVkID0gZ2VvbWV0cmllc1sgMCBdLmluZGV4ICE9PSBudWxsO1xuXG5cdGNvbnN0IGF0dHJpYnV0ZXNVc2VkID0gbmV3IFNldCggT2JqZWN0LmtleXMoIGdlb21ldHJpZXNbIDAgXS5hdHRyaWJ1dGVzICkgKTtcblx0Y29uc3QgbW9ycGhBdHRyaWJ1dGVzVXNlZCA9IG5ldyBTZXQoIE9iamVjdC5rZXlzKCBnZW9tZXRyaWVzWyAwIF0ubW9ycGhBdHRyaWJ1dGVzICkgKTtcblxuXHRjb25zdCBhdHRyaWJ1dGVzID0ge307XG5cdGNvbnN0IG1vcnBoQXR0cmlidXRlcyA9IHt9O1xuXG5cdGNvbnN0IG1vcnBoVGFyZ2V0c1JlbGF0aXZlID0gZ2VvbWV0cmllc1sgMCBdLm1vcnBoVGFyZ2V0c1JlbGF0aXZlO1xuXG5cdGNvbnN0IG1lcmdlZEdlb21ldHJ5ID0gbmV3IEJ1ZmZlckdlb21ldHJ5KCk7XG5cblx0bGV0IG9mZnNldCA9IDA7XG5cblx0Zm9yICggbGV0IGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7ICsrIGkgKSB7XG5cblx0XHRjb25zdCBnZW9tZXRyeSA9IGdlb21ldHJpZXNbIGkgXTtcblx0XHRsZXQgYXR0cmlidXRlc0NvdW50ID0gMDtcblxuXHRcdC8vIGVuc3VyZSB0aGF0IGFsbCBnZW9tZXRyaWVzIGFyZSBpbmRleGVkLCBvciBub25lXG5cblx0XHRpZiAoIGlzSW5kZXhlZCAhPT0gKCBnZW9tZXRyeS5pbmRleCAhPT0gbnVsbCApICkge1xuXG5cdFx0XHRjb25zb2xlLmVycm9yKCAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyR2VvbWV0cmllcygpIGZhaWxlZCB3aXRoIGdlb21ldHJ5IGF0IGluZGV4ICcgKyBpICsgJy4gQWxsIGdlb21ldHJpZXMgbXVzdCBoYXZlIGNvbXBhdGlibGUgYXR0cmlidXRlczsgbWFrZSBzdXJlIGluZGV4IGF0dHJpYnV0ZSBleGlzdHMgYW1vbmcgYWxsIGdlb21ldHJpZXMsIG9yIGluIG5vbmUgb2YgdGhlbS4nICk7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdH1cblxuXHRcdC8vIGdhdGhlciBhdHRyaWJ1dGVzLCBleGl0IGVhcmx5IGlmIHRoZXkncmUgZGlmZmVyZW50XG5cblx0XHRmb3IgKCBjb25zdCBuYW1lIGluIGdlb21ldHJ5LmF0dHJpYnV0ZXMgKSB7XG5cblx0XHRcdGlmICggISBhdHRyaWJ1dGVzVXNlZC5oYXMoIG5hbWUgKSApIHtcblxuXHRcdFx0XHRjb25zb2xlLmVycm9yKCAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyR2VvbWV0cmllcygpIGZhaWxlZCB3aXRoIGdlb21ldHJ5IGF0IGluZGV4ICcgKyBpICsgJy4gQWxsIGdlb21ldHJpZXMgbXVzdCBoYXZlIGNvbXBhdGlibGUgYXR0cmlidXRlczsgbWFrZSBzdXJlIFwiJyArIG5hbWUgKyAnXCIgYXR0cmlidXRlIGV4aXN0cyBhbW9uZyBhbGwgZ2VvbWV0cmllcywgb3IgaW4gbm9uZSBvZiB0aGVtLicgKTtcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBhdHRyaWJ1dGVzWyBuYW1lIF0gPT09IHVuZGVmaW5lZCApIGF0dHJpYnV0ZXNbIG5hbWUgXSA9IFtdO1xuXG5cdFx0XHRhdHRyaWJ1dGVzWyBuYW1lIF0ucHVzaCggZ2VvbWV0cnkuYXR0cmlidXRlc1sgbmFtZSBdICk7XG5cblx0XHRcdGF0dHJpYnV0ZXNDb3VudCArKztcblxuXHRcdH1cblxuXHRcdC8vIGVuc3VyZSBnZW9tZXRyaWVzIGhhdmUgdGhlIHNhbWUgbnVtYmVyIG9mIGF0dHJpYnV0ZXNcblxuXHRcdGlmICggYXR0cmlidXRlc0NvdW50ICE9PSBhdHRyaWJ1dGVzVXNlZC5zaXplICkge1xuXG5cdFx0XHRjb25zb2xlLmVycm9yKCAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyR2VvbWV0cmllcygpIGZhaWxlZCB3aXRoIGdlb21ldHJ5IGF0IGluZGV4ICcgKyBpICsgJy4gTWFrZSBzdXJlIGFsbCBnZW9tZXRyaWVzIGhhdmUgdGhlIHNhbWUgbnVtYmVyIG9mIGF0dHJpYnV0ZXMuJyApO1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHR9XG5cblx0XHQvLyBnYXRoZXIgbW9ycGggYXR0cmlidXRlcywgZXhpdCBlYXJseSBpZiB0aGV5J3JlIGRpZmZlcmVudFxuXG5cdFx0aWYgKCBtb3JwaFRhcmdldHNSZWxhdGl2ZSAhPT0gZ2VvbWV0cnkubW9ycGhUYXJnZXRzUmVsYXRpdmUgKSB7XG5cblx0XHRcdGNvbnNvbGUuZXJyb3IoICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdpdGggZ2VvbWV0cnkgYXQgaW5kZXggJyArIGkgKyAnLiAubW9ycGhUYXJnZXRzUmVsYXRpdmUgbXVzdCBiZSBjb25zaXN0ZW50IHRocm91Z2hvdXQgYWxsIGdlb21ldHJpZXMuJyApO1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHR9XG5cblx0XHRmb3IgKCBjb25zdCBuYW1lIGluIGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcyApIHtcblxuXHRcdFx0aWYgKCAhIG1vcnBoQXR0cmlidXRlc1VzZWQuaGFzKCBuYW1lICkgKSB7XG5cblx0XHRcdFx0Y29uc29sZS5lcnJvciggJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckdlb21ldHJpZXMoKSBmYWlsZWQgd2l0aCBnZW9tZXRyeSBhdCBpbmRleCAnICsgaSArICcuICAubW9ycGhBdHRyaWJ1dGVzIG11c3QgYmUgY29uc2lzdGVudCB0aHJvdWdob3V0IGFsbCBnZW9tZXRyaWVzLicgKTtcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBtb3JwaEF0dHJpYnV0ZXNbIG5hbWUgXSA9PT0gdW5kZWZpbmVkICkgbW9ycGhBdHRyaWJ1dGVzWyBuYW1lIF0gPSBbXTtcblxuXHRcdFx0bW9ycGhBdHRyaWJ1dGVzWyBuYW1lIF0ucHVzaCggZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzWyBuYW1lIF0gKTtcblxuXHRcdH1cblxuXHRcdGlmICggdXNlR3JvdXBzICkge1xuXG5cdFx0XHRsZXQgY291bnQ7XG5cblx0XHRcdGlmICggaXNJbmRleGVkICkge1xuXG5cdFx0XHRcdGNvdW50ID0gZ2VvbWV0cnkuaW5kZXguY291bnQ7XG5cblx0XHRcdH0gZWxzZSBpZiAoIGdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24gIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRjb3VudCA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24uY291bnQ7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Y29uc29sZS5lcnJvciggJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckdlb21ldHJpZXMoKSBmYWlsZWQgd2l0aCBnZW9tZXRyeSBhdCBpbmRleCAnICsgaSArICcuIFRoZSBnZW9tZXRyeSBtdXN0IGhhdmUgZWl0aGVyIGFuIGluZGV4IG9yIGEgcG9zaXRpb24gYXR0cmlidXRlJyApO1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdFx0fVxuXG5cdFx0XHRtZXJnZWRHZW9tZXRyeS5hZGRHcm91cCggb2Zmc2V0LCBjb3VudCwgaSApO1xuXG5cdFx0XHRvZmZzZXQgKz0gY291bnQ7XG5cblx0XHR9XG5cblx0fVxuXG5cdC8vIG1lcmdlIGluZGljZXNcblxuXHRpZiAoIGlzSW5kZXhlZCApIHtcblxuXHRcdGxldCBpbmRleE9mZnNldCA9IDA7XG5cdFx0Y29uc3QgbWVyZ2VkSW5kZXggPSBbXTtcblxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IGdlb21ldHJpZXMubGVuZ3RoOyArKyBpICkge1xuXG5cdFx0XHRjb25zdCBpbmRleCA9IGdlb21ldHJpZXNbIGkgXS5pbmRleDtcblxuXHRcdFx0Zm9yICggbGV0IGogPSAwOyBqIDwgaW5kZXguY291bnQ7ICsrIGogKSB7XG5cblx0XHRcdFx0bWVyZ2VkSW5kZXgucHVzaCggaW5kZXguZ2V0WCggaiApICsgaW5kZXhPZmZzZXQgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRpbmRleE9mZnNldCArPSBnZW9tZXRyaWVzWyBpIF0uYXR0cmlidXRlcy5wb3NpdGlvbi5jb3VudDtcblxuXHRcdH1cblxuXHRcdG1lcmdlZEdlb21ldHJ5LnNldEluZGV4KCBtZXJnZWRJbmRleCApO1xuXG5cdH1cblxuXHQvLyBtZXJnZSBhdHRyaWJ1dGVzXG5cblx0Zm9yICggY29uc3QgbmFtZSBpbiBhdHRyaWJ1dGVzICkge1xuXG5cdFx0Y29uc3QgbWVyZ2VkQXR0cmlidXRlID0gbWVyZ2VCdWZmZXJBdHRyaWJ1dGVzKCBhdHRyaWJ1dGVzWyBuYW1lIF0gKTtcblxuXHRcdGlmICggISBtZXJnZWRBdHRyaWJ1dGUgKSB7XG5cblx0XHRcdGNvbnNvbGUuZXJyb3IoICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdoaWxlIHRyeWluZyB0byBtZXJnZSB0aGUgJyArIG5hbWUgKyAnIGF0dHJpYnV0ZS4nICk7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdH1cblxuXHRcdG1lcmdlZEdlb21ldHJ5LnNldEF0dHJpYnV0ZSggbmFtZSwgbWVyZ2VkQXR0cmlidXRlICk7XG5cblx0fVxuXG5cdC8vIG1lcmdlIG1vcnBoIGF0dHJpYnV0ZXNcblxuXHRmb3IgKCBjb25zdCBuYW1lIGluIG1vcnBoQXR0cmlidXRlcyApIHtcblxuXHRcdGNvbnN0IG51bU1vcnBoVGFyZ2V0cyA9IG1vcnBoQXR0cmlidXRlc1sgbmFtZSBdWyAwIF0ubGVuZ3RoO1xuXG5cdFx0aWYgKCBudW1Nb3JwaFRhcmdldHMgPT09IDAgKSBicmVhaztcblxuXHRcdG1lcmdlZEdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcyA9IG1lcmdlZEdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcyB8fCB7fTtcblx0XHRtZXJnZWRHZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXNbIG5hbWUgXSA9IFtdO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgbnVtTW9ycGhUYXJnZXRzOyArKyBpICkge1xuXG5cdFx0XHRjb25zdCBtb3JwaEF0dHJpYnV0ZXNUb01lcmdlID0gW107XG5cblx0XHRcdGZvciAoIGxldCBqID0gMDsgaiA8IG1vcnBoQXR0cmlidXRlc1sgbmFtZSBdLmxlbmd0aDsgKysgaiApIHtcblxuXHRcdFx0XHRtb3JwaEF0dHJpYnV0ZXNUb01lcmdlLnB1c2goIG1vcnBoQXR0cmlidXRlc1sgbmFtZSBdWyBqIF1bIGkgXSApO1xuXG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IG1lcmdlZE1vcnBoQXR0cmlidXRlID0gbWVyZ2VCdWZmZXJBdHRyaWJ1dGVzKCBtb3JwaEF0dHJpYnV0ZXNUb01lcmdlICk7XG5cblx0XHRcdGlmICggISBtZXJnZWRNb3JwaEF0dHJpYnV0ZSApIHtcblxuXHRcdFx0XHRjb25zb2xlLmVycm9yKCAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyR2VvbWV0cmllcygpIGZhaWxlZCB3aGlsZSB0cnlpbmcgdG8gbWVyZ2UgdGhlICcgKyBuYW1lICsgJyBtb3JwaEF0dHJpYnV0ZS4nICk7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0XHR9XG5cblx0XHRcdG1lcmdlZEdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlc1sgbmFtZSBdLnB1c2goIG1lcmdlZE1vcnBoQXR0cmlidXRlICk7XG5cblx0XHR9XG5cblx0fVxuXG5cdHJldHVybiBtZXJnZWRHZW9tZXRyeTtcblxufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8QnVmZmVyQXR0cmlidXRlPn0gYXR0cmlidXRlc1xuICogQHJldHVybiB7QnVmZmVyQXR0cmlidXRlfVxuICovXG5mdW5jdGlvbiBtZXJnZUJ1ZmZlckF0dHJpYnV0ZXMoIGF0dHJpYnV0ZXMgKSB7XG5cblx0bGV0IFR5cGVkQXJyYXk7XG5cdGxldCBpdGVtU2l6ZTtcblx0bGV0IG5vcm1hbGl6ZWQ7XG5cdGxldCBhcnJheUxlbmd0aCA9IDA7XG5cblx0Zm9yICggbGV0IGkgPSAwOyBpIDwgYXR0cmlidXRlcy5sZW5ndGg7ICsrIGkgKSB7XG5cblx0XHRjb25zdCBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzWyBpIF07XG5cblx0XHRpZiAoIGF0dHJpYnV0ZS5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlICkge1xuXG5cdFx0XHRjb25zb2xlLmVycm9yKCAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyQXR0cmlidXRlcygpIGZhaWxlZC4gSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGVzIGFyZSBub3Qgc3VwcG9ydGVkLicgKTtcblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBUeXBlZEFycmF5ID09PSB1bmRlZmluZWQgKSBUeXBlZEFycmF5ID0gYXR0cmlidXRlLmFycmF5LmNvbnN0cnVjdG9yO1xuXHRcdGlmICggVHlwZWRBcnJheSAhPT0gYXR0cmlidXRlLmFycmF5LmNvbnN0cnVjdG9yICkge1xuXG5cdFx0XHRjb25zb2xlLmVycm9yKCAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyQXR0cmlidXRlcygpIGZhaWxlZC4gQnVmZmVyQXR0cmlidXRlLmFycmF5IG11c3QgYmUgb2YgY29uc2lzdGVudCBhcnJheSB0eXBlcyBhY3Jvc3MgbWF0Y2hpbmcgYXR0cmlidXRlcy4nICk7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdH1cblxuXHRcdGlmICggaXRlbVNpemUgPT09IHVuZGVmaW5lZCApIGl0ZW1TaXplID0gYXR0cmlidXRlLml0ZW1TaXplO1xuXHRcdGlmICggaXRlbVNpemUgIT09IGF0dHJpYnV0ZS5pdGVtU2l6ZSApIHtcblxuXHRcdFx0Y29uc29sZS5lcnJvciggJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckF0dHJpYnV0ZXMoKSBmYWlsZWQuIEJ1ZmZlckF0dHJpYnV0ZS5pdGVtU2l6ZSBtdXN0IGJlIGNvbnNpc3RlbnQgYWNyb3NzIG1hdGNoaW5nIGF0dHJpYnV0ZXMuJyApO1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHR9XG5cblx0XHRpZiAoIG5vcm1hbGl6ZWQgPT09IHVuZGVmaW5lZCApIG5vcm1hbGl6ZWQgPSBhdHRyaWJ1dGUubm9ybWFsaXplZDtcblx0XHRpZiAoIG5vcm1hbGl6ZWQgIT09IGF0dHJpYnV0ZS5ub3JtYWxpemVkICkge1xuXG5cdFx0XHRjb25zb2xlLmVycm9yKCAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyQXR0cmlidXRlcygpIGZhaWxlZC4gQnVmZmVyQXR0cmlidXRlLm5vcm1hbGl6ZWQgbXVzdCBiZSBjb25zaXN0ZW50IGFjcm9zcyBtYXRjaGluZyBhdHRyaWJ1dGVzLicgKTtcblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0YXJyYXlMZW5ndGggKz0gYXR0cmlidXRlLmFycmF5Lmxlbmd0aDtcblxuXHR9XG5cblx0Y29uc3QgYXJyYXkgPSBuZXcgVHlwZWRBcnJheSggYXJyYXlMZW5ndGggKTtcblx0bGV0IG9mZnNldCA9IDA7XG5cblx0Zm9yICggbGV0IGkgPSAwOyBpIDwgYXR0cmlidXRlcy5sZW5ndGg7ICsrIGkgKSB7XG5cblx0XHRhcnJheS5zZXQoIGF0dHJpYnV0ZXNbIGkgXS5hcnJheSwgb2Zmc2V0ICk7XG5cblx0XHRvZmZzZXQgKz0gYXR0cmlidXRlc1sgaSBdLmFycmF5Lmxlbmd0aDtcblxuXHR9XG5cblx0cmV0dXJuIG5ldyBCdWZmZXJBdHRyaWJ1dGUoIGFycmF5LCBpdGVtU2l6ZSwgbm9ybWFsaXplZCApO1xuXG59XG5cbi8qKlxuICogQHBhcmFtIHtCdWZmZXJBdHRyaWJ1dGV9XG4gKiBAcmV0dXJuIHtCdWZmZXJBdHRyaWJ1dGV9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWVwQ2xvbmVBdHRyaWJ1dGUoIGF0dHJpYnV0ZSApIHtcblxuXHRpZiAoIGF0dHJpYnV0ZS5pc0luc3RhbmNlZEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlIHx8IGF0dHJpYnV0ZS5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlICkge1xuXG5cdFx0cmV0dXJuIGRlaW50ZXJsZWF2ZUF0dHJpYnV0ZSggYXR0cmlidXRlICk7XG5cblx0fVxuXG5cdGlmICggYXR0cmlidXRlLmlzSW5zdGFuY2VkQnVmZmVyQXR0cmlidXRlICkge1xuXG5cdFx0cmV0dXJuIG5ldyBJbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGUoKS5jb3B5KCBhdHRyaWJ1dGUgKTtcblxuXHR9XG5cblx0cmV0dXJuIG5ldyBCdWZmZXJBdHRyaWJ1dGUoKS5jb3B5KCBhdHRyaWJ1dGUgKTtcblxufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8QnVmZmVyQXR0cmlidXRlPn0gYXR0cmlidXRlc1xuICogQHJldHVybiB7QXJyYXk8SW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGU+fVxuICovXG5mdW5jdGlvbiBpbnRlcmxlYXZlQXR0cmlidXRlcyggYXR0cmlidXRlcyApIHtcblxuXHQvLyBJbnRlcmxlYXZlcyB0aGUgcHJvdmlkZWQgYXR0cmlidXRlcyBpbnRvIGFuIEludGVybGVhdmVkQnVmZmVyIGFuZCByZXR1cm5zXG5cdC8vIGEgc2V0IG9mIEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlcyBmb3IgZWFjaCBhdHRyaWJ1dGVcblx0bGV0IFR5cGVkQXJyYXk7XG5cdGxldCBhcnJheUxlbmd0aCA9IDA7XG5cdGxldCBzdHJpZGUgPSAwO1xuXG5cdC8vIGNhbGN1bGF0ZSB0aGUgbGVuZ3RoIGFuZCB0eXBlIG9mIHRoZSBpbnRlcmxlYXZlZEJ1ZmZlclxuXHRmb3IgKCBsZXQgaSA9IDAsIGwgPSBhdHRyaWJ1dGVzLmxlbmd0aDsgaSA8IGw7ICsrIGkgKSB7XG5cblx0XHRjb25zdCBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzWyBpIF07XG5cblx0XHRpZiAoIFR5cGVkQXJyYXkgPT09IHVuZGVmaW5lZCApIFR5cGVkQXJyYXkgPSBhdHRyaWJ1dGUuYXJyYXkuY29uc3RydWN0b3I7XG5cdFx0aWYgKCBUeXBlZEFycmF5ICE9PSBhdHRyaWJ1dGUuYXJyYXkuY29uc3RydWN0b3IgKSB7XG5cblx0XHRcdGNvbnNvbGUuZXJyb3IoICdBdHRyaWJ1dGVCdWZmZXJzIG9mIGRpZmZlcmVudCB0eXBlcyBjYW5ub3QgYmUgaW50ZXJsZWF2ZWQnICk7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdH1cblxuXHRcdGFycmF5TGVuZ3RoICs9IGF0dHJpYnV0ZS5hcnJheS5sZW5ndGg7XG5cdFx0c3RyaWRlICs9IGF0dHJpYnV0ZS5pdGVtU2l6ZTtcblxuXHR9XG5cblx0Ly8gQ3JlYXRlIHRoZSBzZXQgb2YgYnVmZmVyIGF0dHJpYnV0ZXNcblx0Y29uc3QgaW50ZXJsZWF2ZWRCdWZmZXIgPSBuZXcgSW50ZXJsZWF2ZWRCdWZmZXIoIG5ldyBUeXBlZEFycmF5KCBhcnJheUxlbmd0aCApLCBzdHJpZGUgKTtcblx0bGV0IG9mZnNldCA9IDA7XG5cdGNvbnN0IHJlcyA9IFtdO1xuXHRjb25zdCBnZXR0ZXJzID0gWyAnZ2V0WCcsICdnZXRZJywgJ2dldFonLCAnZ2V0VycgXTtcblx0Y29uc3Qgc2V0dGVycyA9IFsgJ3NldFgnLCAnc2V0WScsICdzZXRaJywgJ3NldFcnIF07XG5cblx0Zm9yICggbGV0IGogPSAwLCBsID0gYXR0cmlidXRlcy5sZW5ndGg7IGogPCBsOyBqICsrICkge1xuXG5cdFx0Y29uc3QgYXR0cmlidXRlID0gYXR0cmlidXRlc1sgaiBdO1xuXHRcdGNvbnN0IGl0ZW1TaXplID0gYXR0cmlidXRlLml0ZW1TaXplO1xuXHRcdGNvbnN0IGNvdW50ID0gYXR0cmlidXRlLmNvdW50O1xuXHRcdGNvbnN0IGliYSA9IG5ldyBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSggaW50ZXJsZWF2ZWRCdWZmZXIsIGl0ZW1TaXplLCBvZmZzZXQsIGF0dHJpYnV0ZS5ub3JtYWxpemVkICk7XG5cdFx0cmVzLnB1c2goIGliYSApO1xuXG5cdFx0b2Zmc2V0ICs9IGl0ZW1TaXplO1xuXG5cdFx0Ly8gTW92ZSB0aGUgZGF0YSBmb3IgZWFjaCBhdHRyaWJ1dGUgaW50byB0aGUgbmV3IGludGVybGVhdmVkQnVmZmVyXG5cdFx0Ly8gYXQgdGhlIGFwcHJvcHJpYXRlIG9mZnNldFxuXHRcdGZvciAoIGxldCBjID0gMDsgYyA8IGNvdW50OyBjICsrICkge1xuXG5cdFx0XHRmb3IgKCBsZXQgayA9IDA7IGsgPCBpdGVtU2l6ZTsgayArKyApIHtcblxuXHRcdFx0XHRpYmFbIHNldHRlcnNbIGsgXSBdKCBjLCBhdHRyaWJ1dGVbIGdldHRlcnNbIGsgXSBdKCBjICkgKTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdH1cblxuXHRyZXR1cm4gcmVzO1xuXG59XG5cbi8vIHJldHVybnMgYSBuZXcsIG5vbi1pbnRlcmxlYXZlZCB2ZXJzaW9uIG9mIHRoZSBwcm92aWRlZCBhdHRyaWJ1dGVcbmV4cG9ydCBmdW5jdGlvbiBkZWludGVybGVhdmVBdHRyaWJ1dGUoIGF0dHJpYnV0ZSApIHtcblxuXHRjb25zdCBjb25zID0gYXR0cmlidXRlLmRhdGEuYXJyYXkuY29uc3RydWN0b3I7XG5cdGNvbnN0IGNvdW50ID0gYXR0cmlidXRlLmNvdW50O1xuXHRjb25zdCBpdGVtU2l6ZSA9IGF0dHJpYnV0ZS5pdGVtU2l6ZTtcblx0Y29uc3Qgbm9ybWFsaXplZCA9IGF0dHJpYnV0ZS5ub3JtYWxpemVkO1xuXG5cdGNvbnN0IGFycmF5ID0gbmV3IGNvbnMoIGNvdW50ICogaXRlbVNpemUgKTtcblx0bGV0IG5ld0F0dHJpYnV0ZTtcblx0aWYgKCBhdHRyaWJ1dGUuaXNJbnN0YW5jZWRJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSApIHtcblxuXHRcdG5ld0F0dHJpYnV0ZSA9IG5ldyBJbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGUoIGFycmF5LCBpdGVtU2l6ZSwgbm9ybWFsaXplZCwgYXR0cmlidXRlLm1lc2hQZXJBdHRyaWJ1dGUgKTtcblxuXHR9IGVsc2Uge1xuXG5cdFx0bmV3QXR0cmlidXRlID0gbmV3IEJ1ZmZlckF0dHJpYnV0ZSggYXJyYXksIGl0ZW1TaXplLCBub3JtYWxpemVkICk7XG5cblx0fVxuXG5cdGZvciAoIGxldCBpID0gMDsgaSA8IGNvdW50OyBpICsrICkge1xuXG5cdFx0bmV3QXR0cmlidXRlLnNldFgoIGksIGF0dHJpYnV0ZS5nZXRYKCBpICkgKTtcblxuXHRcdGlmICggaXRlbVNpemUgPj0gMiApIHtcblxuXHRcdFx0bmV3QXR0cmlidXRlLnNldFkoIGksIGF0dHJpYnV0ZS5nZXRZKCBpICkgKTtcblxuXHRcdH1cblxuXHRcdGlmICggaXRlbVNpemUgPj0gMyApIHtcblxuXHRcdFx0bmV3QXR0cmlidXRlLnNldFooIGksIGF0dHJpYnV0ZS5nZXRaKCBpICkgKTtcblxuXHRcdH1cblxuXHRcdGlmICggaXRlbVNpemUgPj0gNCApIHtcblxuXHRcdFx0bmV3QXR0cmlidXRlLnNldFcoIGksIGF0dHJpYnV0ZS5nZXRXKCBpICkgKTtcblxuXHRcdH1cblxuXHR9XG5cblx0cmV0dXJuIG5ld0F0dHJpYnV0ZTtcblxufVxuXG4vLyBkZWludGVybGVhdmVzIGFsbCBhdHRyaWJ1dGVzIG9uIHRoZSBnZW9tZXRyeVxuZXhwb3J0IGZ1bmN0aW9uIGRlaW50ZXJsZWF2ZUdlb21ldHJ5KCBnZW9tZXRyeSApIHtcblxuXHRjb25zdCBhdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcblx0Y29uc3QgbW9ycGhUYXJnZXRzID0gZ2VvbWV0cnkubW9ycGhUYXJnZXRzO1xuXHRjb25zdCBhdHRyTWFwID0gbmV3IE1hcCgpO1xuXG5cdGZvciAoIGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzICkge1xuXG5cdFx0Y29uc3QgYXR0ciA9IGF0dHJpYnV0ZXNbIGtleSBdO1xuXHRcdGlmICggYXR0ci5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlICkge1xuXG5cdFx0XHRpZiAoICEgYXR0ck1hcC5oYXMoIGF0dHIgKSApIHtcblxuXHRcdFx0XHRhdHRyTWFwLnNldCggYXR0ciwgZGVpbnRlcmxlYXZlQXR0cmlidXRlKCBhdHRyICkgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRhdHRyaWJ1dGVzWyBrZXkgXSA9IGF0dHJNYXAuZ2V0KCBhdHRyICk7XG5cblx0XHR9XG5cblx0fVxuXG5cdGZvciAoIGNvbnN0IGtleSBpbiBtb3JwaFRhcmdldHMgKSB7XG5cblx0XHRjb25zdCBhdHRyID0gbW9ycGhUYXJnZXRzWyBrZXkgXTtcblx0XHRpZiAoIGF0dHIuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSApIHtcblxuXHRcdFx0aWYgKCAhIGF0dHJNYXAuaGFzKCBhdHRyICkgKSB7XG5cblx0XHRcdFx0YXR0ck1hcC5zZXQoIGF0dHIsIGRlaW50ZXJsZWF2ZUF0dHJpYnV0ZSggYXR0ciApICk7XG5cblx0XHRcdH1cblxuXHRcdFx0bW9ycGhUYXJnZXRzWyBrZXkgXSA9IGF0dHJNYXAuZ2V0KCBhdHRyICk7XG5cblx0XHR9XG5cblx0fVxuXG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxCdWZmZXJHZW9tZXRyeT59IGdlb21ldHJ5XG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGVzdGltYXRlQnl0ZXNVc2VkKCBnZW9tZXRyeSApIHtcblxuXHQvLyBSZXR1cm4gdGhlIGVzdGltYXRlZCBtZW1vcnkgdXNlZCBieSB0aGlzIGdlb21ldHJ5IGluIGJ5dGVzXG5cdC8vIENhbGN1bGF0ZSB1c2luZyBpdGVtU2l6ZSwgY291bnQsIGFuZCBCWVRFU19QRVJfRUxFTUVOVCB0byBhY2NvdW50XG5cdC8vIGZvciBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZXMuXG5cdGxldCBtZW0gPSAwO1xuXHRmb3IgKCBjb25zdCBuYW1lIGluIGdlb21ldHJ5LmF0dHJpYnV0ZXMgKSB7XG5cblx0XHRjb25zdCBhdHRyID0gZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKCBuYW1lICk7XG5cdFx0bWVtICs9IGF0dHIuY291bnQgKiBhdHRyLml0ZW1TaXplICogYXR0ci5hcnJheS5CWVRFU19QRVJfRUxFTUVOVDtcblxuXHR9XG5cblx0Y29uc3QgaW5kaWNlcyA9IGdlb21ldHJ5LmdldEluZGV4KCk7XG5cdG1lbSArPSBpbmRpY2VzID8gaW5kaWNlcy5jb3VudCAqIGluZGljZXMuaXRlbVNpemUgKiBpbmRpY2VzLmFycmF5LkJZVEVTX1BFUl9FTEVNRU5UIDogMDtcblx0cmV0dXJuIG1lbTtcblxufVxuXG4vKipcbiAqIEBwYXJhbSB7QnVmZmVyR2VvbWV0cnl9IGdlb21ldHJ5XG4gKiBAcGFyYW0ge251bWJlcn0gdG9sZXJhbmNlXG4gKiBAcmV0dXJuIHtCdWZmZXJHZW9tZXRyeX1cbiAqL1xuZnVuY3Rpb24gbWVyZ2VWZXJ0aWNlcyggZ2VvbWV0cnksIHRvbGVyYW5jZSA9IDFlLTQgKSB7XG5cblx0dG9sZXJhbmNlID0gTWF0aC5tYXgoIHRvbGVyYW5jZSwgTnVtYmVyLkVQU0lMT04gKTtcblxuXHQvLyBHZW5lcmF0ZSBhbiBpbmRleCBidWZmZXIgaWYgdGhlIGdlb21ldHJ5IGRvZXNuJ3QgaGF2ZSBvbmUsIG9yIG9wdGltaXplIGl0XG5cdC8vIGlmIGl0J3MgYWxyZWFkeSBhdmFpbGFibGUuXG5cdGNvbnN0IGhhc2hUb0luZGV4ID0ge307XG5cdGNvbnN0IGluZGljZXMgPSBnZW9tZXRyeS5nZXRJbmRleCgpO1xuXHRjb25zdCBwb3NpdGlvbnMgPSBnZW9tZXRyeS5nZXRBdHRyaWJ1dGUoICdwb3NpdGlvbicgKTtcblx0Y29uc3QgdmVydGV4Q291bnQgPSBpbmRpY2VzID8gaW5kaWNlcy5jb3VudCA6IHBvc2l0aW9ucy5jb3VudDtcblxuXHQvLyBuZXh0IHZhbHVlIGZvciB0cmlhbmdsZSBpbmRpY2VzXG5cdGxldCBuZXh0SW5kZXggPSAwO1xuXG5cdC8vIGF0dHJpYnV0ZXMgYW5kIG5ldyBhdHRyaWJ1dGUgYXJyYXlzXG5cdGNvbnN0IGF0dHJpYnV0ZU5hbWVzID0gT2JqZWN0LmtleXMoIGdlb21ldHJ5LmF0dHJpYnV0ZXMgKTtcblx0Y29uc3QgdG1wQXR0cmlidXRlcyA9IHt9O1xuXHRjb25zdCB0bXBNb3JwaEF0dHJpYnV0ZXMgPSB7fTtcblx0Y29uc3QgbmV3SW5kaWNlcyA9IFtdO1xuXHRjb25zdCBnZXR0ZXJzID0gWyAnZ2V0WCcsICdnZXRZJywgJ2dldFonLCAnZ2V0VycgXTtcblx0Y29uc3Qgc2V0dGVycyA9IFsgJ3NldFgnLCAnc2V0WScsICdzZXRaJywgJ3NldFcnIF07XG5cblx0Ly8gSW5pdGlhbGl6ZSB0aGUgYXJyYXlzLCBhbGxvY2F0aW5nIHNwYWNlIGNvbnNlcnZhdGl2ZWx5LiBFeHRyYVxuXHQvLyBzcGFjZSB3aWxsIGJlIHRyaW1tZWQgaW4gdGhlIGxhc3Qgc3RlcC5cblx0Zm9yICggbGV0IGkgPSAwLCBsID0gYXR0cmlidXRlTmFtZXMubGVuZ3RoOyBpIDwgbDsgaSArKyApIHtcblxuXHRcdGNvbnN0IG5hbWUgPSBhdHRyaWJ1dGVOYW1lc1sgaSBdO1xuXHRcdGNvbnN0IGF0dHIgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzWyBuYW1lIF07XG5cblx0XHR0bXBBdHRyaWJ1dGVzWyBuYW1lIF0gPSBuZXcgQnVmZmVyQXR0cmlidXRlKFxuXHRcdFx0bmV3IGF0dHIuYXJyYXkuY29uc3RydWN0b3IoIGF0dHIuY291bnQgKiBhdHRyLml0ZW1TaXplICksXG5cdFx0XHRhdHRyLml0ZW1TaXplLFxuXHRcdFx0YXR0ci5ub3JtYWxpemVkXG5cdFx0KTtcblxuXHRcdGNvbnN0IG1vcnBoQXR0ciA9IGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlc1sgbmFtZSBdO1xuXHRcdGlmICggbW9ycGhBdHRyICkge1xuXG5cdFx0XHR0bXBNb3JwaEF0dHJpYnV0ZXNbIG5hbWUgXSA9IG5ldyBCdWZmZXJBdHRyaWJ1dGUoXG5cdFx0XHRcdG5ldyBtb3JwaEF0dHIuYXJyYXkuY29uc3RydWN0b3IoIG1vcnBoQXR0ci5jb3VudCAqIG1vcnBoQXR0ci5pdGVtU2l6ZSApLFxuXHRcdFx0XHRtb3JwaEF0dHIuaXRlbVNpemUsXG5cdFx0XHRcdG1vcnBoQXR0ci5ub3JtYWxpemVkXG5cdFx0XHQpO1xuXG5cdFx0fVxuXG5cdH1cblxuXHQvLyBjb252ZXJ0IHRoZSBlcnJvciB0b2xlcmFuY2UgdG8gYW4gYW1vdW50IG9mIGRlY2ltYWwgcGxhY2VzIHRvIHRydW5jYXRlIHRvXG5cdGNvbnN0IGRlY2ltYWxTaGlmdCA9IE1hdGgubG9nMTAoIDEgLyB0b2xlcmFuY2UgKTtcblx0Y29uc3Qgc2hpZnRNdWx0aXBsaWVyID0gTWF0aC5wb3coIDEwLCBkZWNpbWFsU2hpZnQgKTtcblx0Zm9yICggbGV0IGkgPSAwOyBpIDwgdmVydGV4Q291bnQ7IGkgKysgKSB7XG5cblx0XHRjb25zdCBpbmRleCA9IGluZGljZXMgPyBpbmRpY2VzLmdldFgoIGkgKSA6IGk7XG5cblx0XHQvLyBHZW5lcmF0ZSBhIGhhc2ggZm9yIHRoZSB2ZXJ0ZXggYXR0cmlidXRlcyBhdCB0aGUgY3VycmVudCBpbmRleCAnaSdcblx0XHRsZXQgaGFzaCA9ICcnO1xuXHRcdGZvciAoIGxldCBqID0gMCwgbCA9IGF0dHJpYnV0ZU5hbWVzLmxlbmd0aDsgaiA8IGw7IGogKysgKSB7XG5cblx0XHRcdGNvbnN0IG5hbWUgPSBhdHRyaWJ1dGVOYW1lc1sgaiBdO1xuXHRcdFx0Y29uc3QgYXR0cmlidXRlID0gZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKCBuYW1lICk7XG5cdFx0XHRjb25zdCBpdGVtU2l6ZSA9IGF0dHJpYnV0ZS5pdGVtU2l6ZTtcblxuXHRcdFx0Zm9yICggbGV0IGsgPSAwOyBrIDwgaXRlbVNpemU7IGsgKysgKSB7XG5cblx0XHRcdFx0Ly8gZG91YmxlIHRpbGRlIHRydW5jYXRlcyB0aGUgZGVjaW1hbCB2YWx1ZVxuXHRcdFx0XHRoYXNoICs9IGAkeyB+IH4gKCBhdHRyaWJ1dGVbIGdldHRlcnNbIGsgXSBdKCBpbmRleCApICogc2hpZnRNdWx0aXBsaWVyICkgfSxgO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHQvLyBBZGQgYW5vdGhlciByZWZlcmVuY2UgdG8gdGhlIHZlcnRleCBpZiBpdCdzIGFscmVhZHlcblx0XHQvLyB1c2VkIGJ5IGFub3RoZXIgaW5kZXhcblx0XHRpZiAoIGhhc2ggaW4gaGFzaFRvSW5kZXggKSB7XG5cblx0XHRcdG5ld0luZGljZXMucHVzaCggaGFzaFRvSW5kZXhbIGhhc2ggXSApO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gY29weSBkYXRhIHRvIHRoZSBuZXcgaW5kZXggaW4gdGhlIHRlbXBvcmFyeSBhdHRyaWJ1dGVzXG5cdFx0XHRmb3IgKCBsZXQgaiA9IDAsIGwgPSBhdHRyaWJ1dGVOYW1lcy5sZW5ndGg7IGogPCBsOyBqICsrICkge1xuXG5cdFx0XHRcdGNvbnN0IG5hbWUgPSBhdHRyaWJ1dGVOYW1lc1sgaiBdO1xuXHRcdFx0XHRjb25zdCBhdHRyaWJ1dGUgPSBnZW9tZXRyeS5nZXRBdHRyaWJ1dGUoIG5hbWUgKTtcblx0XHRcdFx0Y29uc3QgbW9ycGhBdHRyID0gZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzWyBuYW1lIF07XG5cdFx0XHRcdGNvbnN0IGl0ZW1TaXplID0gYXR0cmlidXRlLml0ZW1TaXplO1xuXHRcdFx0XHRjb25zdCBuZXdhcnJheSA9IHRtcEF0dHJpYnV0ZXNbIG5hbWUgXTtcblx0XHRcdFx0Y29uc3QgbmV3TW9ycGhBcnJheXMgPSB0bXBNb3JwaEF0dHJpYnV0ZXNbIG5hbWUgXTtcblxuXHRcdFx0XHRmb3IgKCBsZXQgayA9IDA7IGsgPCBpdGVtU2l6ZTsgayArKyApIHtcblxuXHRcdFx0XHRcdGNvbnN0IGdldHRlckZ1bmMgPSBnZXR0ZXJzWyBrIF07XG5cdFx0XHRcdFx0Y29uc3Qgc2V0dGVyRnVuYyA9IHNldHRlcnNbIGsgXTtcblx0XHRcdFx0XHRuZXdhcnJheVsgc2V0dGVyRnVuYyBdKCBuZXh0SW5kZXgsIGF0dHJpYnV0ZVsgZ2V0dGVyRnVuYyBdKCBpbmRleCApICk7XG5cblx0XHRcdFx0XHRpZiAoIG1vcnBoQXR0ciApIHtcblxuXHRcdFx0XHRcdFx0Zm9yICggbGV0IG0gPSAwLCBtbCA9IG1vcnBoQXR0ci5sZW5ndGg7IG0gPCBtbDsgbSArKyApIHtcblxuXHRcdFx0XHRcdFx0XHRuZXdNb3JwaEFycmF5c1sgbSBdWyBzZXR0ZXJGdW5jIF0oIG5leHRJbmRleCwgbW9ycGhBdHRyWyBtIF1bIGdldHRlckZ1bmMgXSggaW5kZXggKSApO1xuXG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHRcdGhhc2hUb0luZGV4WyBoYXNoIF0gPSBuZXh0SW5kZXg7XG5cdFx0XHRuZXdJbmRpY2VzLnB1c2goIG5leHRJbmRleCApO1xuXHRcdFx0bmV4dEluZGV4ICsrO1xuXG5cdFx0fVxuXG5cdH1cblxuXHQvLyBnZW5lcmF0ZSByZXN1bHQgQnVmZmVyR2VvbWV0cnlcblx0Y29uc3QgcmVzdWx0ID0gZ2VvbWV0cnkuY2xvbmUoKTtcblx0Zm9yICggY29uc3QgbmFtZSBpbiBnZW9tZXRyeS5hdHRyaWJ1dGVzICkge1xuXG5cdFx0Y29uc3QgdG1wQXR0cmlidXRlID0gdG1wQXR0cmlidXRlc1sgbmFtZSBdO1xuXG5cdFx0cmVzdWx0LnNldEF0dHJpYnV0ZSggbmFtZSwgbmV3IEJ1ZmZlckF0dHJpYnV0ZShcblx0XHRcdHRtcEF0dHJpYnV0ZS5hcnJheS5zbGljZSggMCwgbmV4dEluZGV4ICogdG1wQXR0cmlidXRlLml0ZW1TaXplICksXG5cdFx0XHR0bXBBdHRyaWJ1dGUuaXRlbVNpemUsXG5cdFx0XHR0bXBBdHRyaWJ1dGUubm9ybWFsaXplZCxcblx0XHQpICk7XG5cblx0XHRpZiAoICEgKCBuYW1lIGluIHRtcE1vcnBoQXR0cmlidXRlcyApICkgY29udGludWU7XG5cblx0XHRmb3IgKCBsZXQgaiA9IDA7IGogPCB0bXBNb3JwaEF0dHJpYnV0ZXNbIG5hbWUgXS5sZW5ndGg7IGogKysgKSB7XG5cblx0XHRcdGNvbnN0IHRtcE1vcnBoQXR0cmlidXRlID0gdG1wTW9ycGhBdHRyaWJ1dGVzWyBuYW1lIF1bIGogXTtcblxuXHRcdFx0cmVzdWx0Lm1vcnBoQXR0cmlidXRlc1sgbmFtZSBdWyBqIF0gPSBuZXcgQnVmZmVyQXR0cmlidXRlKFxuXHRcdFx0XHR0bXBNb3JwaEF0dHJpYnV0ZS5hcnJheS5zbGljZSggMCwgbmV4dEluZGV4ICogdG1wTW9ycGhBdHRyaWJ1dGUuaXRlbVNpemUgKSxcblx0XHRcdFx0dG1wTW9ycGhBdHRyaWJ1dGUuaXRlbVNpemUsXG5cdFx0XHRcdHRtcE1vcnBoQXR0cmlidXRlLm5vcm1hbGl6ZWQsXG5cdFx0XHQpO1xuXG5cdFx0fVxuXG5cdH1cblxuXHQvLyBpbmRpY2VzXG5cblx0cmVzdWx0LnNldEluZGV4KCBuZXdJbmRpY2VzICk7XG5cblx0cmV0dXJuIHJlc3VsdDtcblxufVxuXG4vKipcbiAqIEBwYXJhbSB7QnVmZmVyR2VvbWV0cnl9IGdlb21ldHJ5XG4gKiBAcGFyYW0ge251bWJlcn0gZHJhd01vZGVcbiAqIEByZXR1cm4ge0J1ZmZlckdlb21ldHJ5fVxuICovXG5mdW5jdGlvbiB0b1RyaWFuZ2xlc0RyYXdNb2RlKCBnZW9tZXRyeSwgZHJhd01vZGUgKSB7XG5cblx0aWYgKCBkcmF3TW9kZSA9PT0gVHJpYW5nbGVzRHJhd01vZGUgKSB7XG5cblx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzLnRvVHJpYW5nbGVzRHJhd01vZGUoKTogR2VvbWV0cnkgYWxyZWFkeSBkZWZpbmVkIGFzIHRyaWFuZ2xlcy4nICk7XG5cdFx0cmV0dXJuIGdlb21ldHJ5O1xuXG5cdH1cblxuXHRpZiAoIGRyYXdNb2RlID09PSBUcmlhbmdsZUZhbkRyYXdNb2RlIHx8IGRyYXdNb2RlID09PSBUcmlhbmdsZVN0cmlwRHJhd01vZGUgKSB7XG5cblx0XHRsZXQgaW5kZXggPSBnZW9tZXRyeS5nZXRJbmRleCgpO1xuXG5cdFx0Ly8gZ2VuZXJhdGUgaW5kZXggaWYgbm90IHByZXNlbnRcblxuXHRcdGlmICggaW5kZXggPT09IG51bGwgKSB7XG5cblx0XHRcdGNvbnN0IGluZGljZXMgPSBbXTtcblxuXHRcdFx0Y29uc3QgcG9zaXRpb24gPSBnZW9tZXRyeS5nZXRBdHRyaWJ1dGUoICdwb3NpdGlvbicgKTtcblxuXHRcdFx0aWYgKCBwb3NpdGlvbiAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdGZvciAoIGxldCBpID0gMDsgaSA8IHBvc2l0aW9uLmNvdW50OyBpICsrICkge1xuXG5cdFx0XHRcdFx0aW5kaWNlcy5wdXNoKCBpICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGdlb21ldHJ5LnNldEluZGV4KCBpbmRpY2VzICk7XG5cdFx0XHRcdGluZGV4ID0gZ2VvbWV0cnkuZ2V0SW5kZXgoKTtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRjb25zb2xlLmVycm9yKCAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlscy50b1RyaWFuZ2xlc0RyYXdNb2RlKCk6IFVuZGVmaW5lZCBwb3NpdGlvbiBhdHRyaWJ1dGUuIFByb2Nlc3Npbmcgbm90IHBvc3NpYmxlLicgKTtcblx0XHRcdFx0cmV0dXJuIGdlb21ldHJ5O1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHQvL1xuXG5cdFx0Y29uc3QgbnVtYmVyT2ZUcmlhbmdsZXMgPSBpbmRleC5jb3VudCAtIDI7XG5cdFx0Y29uc3QgbmV3SW5kaWNlcyA9IFtdO1xuXG5cdFx0aWYgKCBkcmF3TW9kZSA9PT0gVHJpYW5nbGVGYW5EcmF3TW9kZSApIHtcblxuXHRcdFx0Ly8gZ2wuVFJJQU5HTEVfRkFOXG5cblx0XHRcdGZvciAoIGxldCBpID0gMTsgaSA8PSBudW1iZXJPZlRyaWFuZ2xlczsgaSArKyApIHtcblxuXHRcdFx0XHRuZXdJbmRpY2VzLnB1c2goIGluZGV4LmdldFgoIDAgKSApO1xuXHRcdFx0XHRuZXdJbmRpY2VzLnB1c2goIGluZGV4LmdldFgoIGkgKSApO1xuXHRcdFx0XHRuZXdJbmRpY2VzLnB1c2goIGluZGV4LmdldFgoIGkgKyAxICkgKTtcblxuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gZ2wuVFJJQU5HTEVfU1RSSVBcblxuXHRcdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgbnVtYmVyT2ZUcmlhbmdsZXM7IGkgKysgKSB7XG5cblx0XHRcdFx0aWYgKCBpICUgMiA9PT0gMCApIHtcblxuXHRcdFx0XHRcdG5ld0luZGljZXMucHVzaCggaW5kZXguZ2V0WCggaSApICk7XG5cdFx0XHRcdFx0bmV3SW5kaWNlcy5wdXNoKCBpbmRleC5nZXRYKCBpICsgMSApICk7XG5cdFx0XHRcdFx0bmV3SW5kaWNlcy5wdXNoKCBpbmRleC5nZXRYKCBpICsgMiApICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdG5ld0luZGljZXMucHVzaCggaW5kZXguZ2V0WCggaSArIDIgKSApO1xuXHRcdFx0XHRcdG5ld0luZGljZXMucHVzaCggaW5kZXguZ2V0WCggaSArIDEgKSApO1xuXHRcdFx0XHRcdG5ld0luZGljZXMucHVzaCggaW5kZXguZ2V0WCggaSApICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRpZiAoICggbmV3SW5kaWNlcy5sZW5ndGggLyAzICkgIT09IG51bWJlck9mVHJpYW5nbGVzICkge1xuXG5cdFx0XHRjb25zb2xlLmVycm9yKCAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlscy50b1RyaWFuZ2xlc0RyYXdNb2RlKCk6IFVuYWJsZSB0byBnZW5lcmF0ZSBjb3JyZWN0IGFtb3VudCBvZiB0cmlhbmdsZXMuJyApO1xuXG5cdFx0fVxuXG5cdFx0Ly8gYnVpbGQgZmluYWwgZ2VvbWV0cnlcblxuXHRcdGNvbnN0IG5ld0dlb21ldHJ5ID0gZ2VvbWV0cnkuY2xvbmUoKTtcblx0XHRuZXdHZW9tZXRyeS5zZXRJbmRleCggbmV3SW5kaWNlcyApO1xuXHRcdG5ld0dlb21ldHJ5LmNsZWFyR3JvdXBzKCk7XG5cblx0XHRyZXR1cm4gbmV3R2VvbWV0cnk7XG5cblx0fSBlbHNlIHtcblxuXHRcdGNvbnNvbGUuZXJyb3IoICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzLnRvVHJpYW5nbGVzRHJhd01vZGUoKTogVW5rbm93biBkcmF3IG1vZGU6JywgZHJhd01vZGUgKTtcblx0XHRyZXR1cm4gZ2VvbWV0cnk7XG5cblx0fVxuXG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbW9ycGhlZCBhdHRyaWJ1dGVzIG9mIGEgbW9ycGhlZC9za2lubmVkIEJ1ZmZlckdlb21ldHJ5LlxuICogSGVscGZ1bCBmb3IgUmF5dHJhY2luZyBvciBEZWNhbHMuXG4gKiBAcGFyYW0ge01lc2ggfCBMaW5lIHwgUG9pbnRzfSBvYmplY3QgQW4gaW5zdGFuY2Ugb2YgTWVzaCwgTGluZSBvciBQb2ludHMuXG4gKiBAcmV0dXJuIHtPYmplY3R9IEFuIE9iamVjdCB3aXRoIG9yaWdpbmFsIHBvc2l0aW9uL25vcm1hbCBhdHRyaWJ1dGVzIGFuZCBtb3JwaGVkIG9uZXMuXG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVNb3JwaGVkQXR0cmlidXRlcyggb2JqZWN0ICkge1xuXG5cdGlmICggb2JqZWN0Lmdlb21ldHJ5LmlzQnVmZmVyR2VvbWV0cnkgIT09IHRydWUgKSB7XG5cblx0XHRjb25zb2xlLmVycm9yKCAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogR2VvbWV0cnkgaXMgbm90IG9mIHR5cGUgQnVmZmVyR2VvbWV0cnkuJyApO1xuXHRcdHJldHVybiBudWxsO1xuXG5cdH1cblxuXHRjb25zdCBfdkEgPSBuZXcgVmVjdG9yMygpO1xuXHRjb25zdCBfdkIgPSBuZXcgVmVjdG9yMygpO1xuXHRjb25zdCBfdkMgPSBuZXcgVmVjdG9yMygpO1xuXG5cdGNvbnN0IF90ZW1wQSA9IG5ldyBWZWN0b3IzKCk7XG5cdGNvbnN0IF90ZW1wQiA9IG5ldyBWZWN0b3IzKCk7XG5cdGNvbnN0IF90ZW1wQyA9IG5ldyBWZWN0b3IzKCk7XG5cblx0Y29uc3QgX21vcnBoQSA9IG5ldyBWZWN0b3IzKCk7XG5cdGNvbnN0IF9tb3JwaEIgPSBuZXcgVmVjdG9yMygpO1xuXHRjb25zdCBfbW9ycGhDID0gbmV3IFZlY3RvcjMoKTtcblxuXHRmdW5jdGlvbiBfY2FsY3VsYXRlTW9ycGhlZEF0dHJpYnV0ZURhdGEoXG5cdFx0b2JqZWN0LFxuXHRcdGF0dHJpYnV0ZSxcblx0XHRtb3JwaEF0dHJpYnV0ZSxcblx0XHRtb3JwaFRhcmdldHNSZWxhdGl2ZSxcblx0XHRhLFxuXHRcdGIsXG5cdFx0Yyxcblx0XHRtb2RpZmllZEF0dHJpYnV0ZUFycmF5XG5cdCkge1xuXG5cdFx0X3ZBLmZyb21CdWZmZXJBdHRyaWJ1dGUoIGF0dHJpYnV0ZSwgYSApO1xuXHRcdF92Qi5mcm9tQnVmZmVyQXR0cmlidXRlKCBhdHRyaWJ1dGUsIGIgKTtcblx0XHRfdkMuZnJvbUJ1ZmZlckF0dHJpYnV0ZSggYXR0cmlidXRlLCBjICk7XG5cblx0XHRjb25zdCBtb3JwaEluZmx1ZW5jZXMgPSBvYmplY3QubW9ycGhUYXJnZXRJbmZsdWVuY2VzO1xuXG5cdFx0aWYgKCBtb3JwaEF0dHJpYnV0ZSAmJiBtb3JwaEluZmx1ZW5jZXMgKSB7XG5cblx0XHRcdF9tb3JwaEEuc2V0KCAwLCAwLCAwICk7XG5cdFx0XHRfbW9ycGhCLnNldCggMCwgMCwgMCApO1xuXHRcdFx0X21vcnBoQy5zZXQoIDAsIDAsIDAgKTtcblxuXHRcdFx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IG1vcnBoQXR0cmlidXRlLmxlbmd0aDsgaSA8IGlsOyBpICsrICkge1xuXG5cdFx0XHRcdGNvbnN0IGluZmx1ZW5jZSA9IG1vcnBoSW5mbHVlbmNlc1sgaSBdO1xuXHRcdFx0XHRjb25zdCBtb3JwaCA9IG1vcnBoQXR0cmlidXRlWyBpIF07XG5cblx0XHRcdFx0aWYgKCBpbmZsdWVuY2UgPT09IDAgKSBjb250aW51ZTtcblxuXHRcdFx0XHRfdGVtcEEuZnJvbUJ1ZmZlckF0dHJpYnV0ZSggbW9ycGgsIGEgKTtcblx0XHRcdFx0X3RlbXBCLmZyb21CdWZmZXJBdHRyaWJ1dGUoIG1vcnBoLCBiICk7XG5cdFx0XHRcdF90ZW1wQy5mcm9tQnVmZmVyQXR0cmlidXRlKCBtb3JwaCwgYyApO1xuXG5cdFx0XHRcdGlmICggbW9ycGhUYXJnZXRzUmVsYXRpdmUgKSB7XG5cblx0XHRcdFx0XHRfbW9ycGhBLmFkZFNjYWxlZFZlY3RvciggX3RlbXBBLCBpbmZsdWVuY2UgKTtcblx0XHRcdFx0XHRfbW9ycGhCLmFkZFNjYWxlZFZlY3RvciggX3RlbXBCLCBpbmZsdWVuY2UgKTtcblx0XHRcdFx0XHRfbW9ycGhDLmFkZFNjYWxlZFZlY3RvciggX3RlbXBDLCBpbmZsdWVuY2UgKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0X21vcnBoQS5hZGRTY2FsZWRWZWN0b3IoIF90ZW1wQS5zdWIoIF92QSApLCBpbmZsdWVuY2UgKTtcblx0XHRcdFx0XHRfbW9ycGhCLmFkZFNjYWxlZFZlY3RvciggX3RlbXBCLnN1YiggX3ZCICksIGluZmx1ZW5jZSApO1xuXHRcdFx0XHRcdF9tb3JwaEMuYWRkU2NhbGVkVmVjdG9yKCBfdGVtcEMuc3ViKCBfdkMgKSwgaW5mbHVlbmNlICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHRcdF92QS5hZGQoIF9tb3JwaEEgKTtcblx0XHRcdF92Qi5hZGQoIF9tb3JwaEIgKTtcblx0XHRcdF92Qy5hZGQoIF9tb3JwaEMgKTtcblxuXHRcdH1cblxuXHRcdGlmICggb2JqZWN0LmlzU2tpbm5lZE1lc2ggKSB7XG5cblx0XHRcdG9iamVjdC5ib25lVHJhbnNmb3JtKCBhLCBfdkEgKTtcblx0XHRcdG9iamVjdC5ib25lVHJhbnNmb3JtKCBiLCBfdkIgKTtcblx0XHRcdG9iamVjdC5ib25lVHJhbnNmb3JtKCBjLCBfdkMgKTtcblxuXHRcdH1cblxuXHRcdG1vZGlmaWVkQXR0cmlidXRlQXJyYXlbIGEgKiAzICsgMCBdID0gX3ZBLng7XG5cdFx0bW9kaWZpZWRBdHRyaWJ1dGVBcnJheVsgYSAqIDMgKyAxIF0gPSBfdkEueTtcblx0XHRtb2RpZmllZEF0dHJpYnV0ZUFycmF5WyBhICogMyArIDIgXSA9IF92QS56O1xuXHRcdG1vZGlmaWVkQXR0cmlidXRlQXJyYXlbIGIgKiAzICsgMCBdID0gX3ZCLng7XG5cdFx0bW9kaWZpZWRBdHRyaWJ1dGVBcnJheVsgYiAqIDMgKyAxIF0gPSBfdkIueTtcblx0XHRtb2RpZmllZEF0dHJpYnV0ZUFycmF5WyBiICogMyArIDIgXSA9IF92Qi56O1xuXHRcdG1vZGlmaWVkQXR0cmlidXRlQXJyYXlbIGMgKiAzICsgMCBdID0gX3ZDLng7XG5cdFx0bW9kaWZpZWRBdHRyaWJ1dGVBcnJheVsgYyAqIDMgKyAxIF0gPSBfdkMueTtcblx0XHRtb2RpZmllZEF0dHJpYnV0ZUFycmF5WyBjICogMyArIDIgXSA9IF92Qy56O1xuXG5cdH1cblxuXHRjb25zdCBnZW9tZXRyeSA9IG9iamVjdC5nZW9tZXRyeTtcblx0Y29uc3QgbWF0ZXJpYWwgPSBvYmplY3QubWF0ZXJpYWw7XG5cblx0bGV0IGEsIGIsIGM7XG5cdGNvbnN0IGluZGV4ID0gZ2VvbWV0cnkuaW5kZXg7XG5cdGNvbnN0IHBvc2l0aW9uQXR0cmlidXRlID0gZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbjtcblx0Y29uc3QgbW9ycGhQb3NpdGlvbiA9IGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbjtcblx0Y29uc3QgbW9ycGhUYXJnZXRzUmVsYXRpdmUgPSBnZW9tZXRyeS5tb3JwaFRhcmdldHNSZWxhdGl2ZTtcblx0Y29uc3Qgbm9ybWFsQXR0cmlidXRlID0gZ2VvbWV0cnkuYXR0cmlidXRlcy5ub3JtYWw7XG5cdGNvbnN0IG1vcnBoTm9ybWFsID0gZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9uO1xuXG5cdGNvbnN0IGdyb3VwcyA9IGdlb21ldHJ5Lmdyb3Vwcztcblx0Y29uc3QgZHJhd1JhbmdlID0gZ2VvbWV0cnkuZHJhd1JhbmdlO1xuXHRsZXQgaSwgaiwgaWwsIGpsO1xuXHRsZXQgZ3JvdXA7XG5cdGxldCBzdGFydCwgZW5kO1xuXG5cdGNvbnN0IG1vZGlmaWVkUG9zaXRpb24gPSBuZXcgRmxvYXQzMkFycmF5KCBwb3NpdGlvbkF0dHJpYnV0ZS5jb3VudCAqIHBvc2l0aW9uQXR0cmlidXRlLml0ZW1TaXplICk7XG5cdGNvbnN0IG1vZGlmaWVkTm9ybWFsID0gbmV3IEZsb2F0MzJBcnJheSggbm9ybWFsQXR0cmlidXRlLmNvdW50ICogbm9ybWFsQXR0cmlidXRlLml0ZW1TaXplICk7XG5cblx0aWYgKCBpbmRleCAhPT0gbnVsbCApIHtcblxuXHRcdC8vIGluZGV4ZWQgYnVmZmVyIGdlb21ldHJ5XG5cblx0XHRpZiAoIEFycmF5LmlzQXJyYXkoIG1hdGVyaWFsICkgKSB7XG5cblx0XHRcdGZvciAoIGkgPSAwLCBpbCA9IGdyb3Vwcy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0XHRncm91cCA9IGdyb3Vwc1sgaSBdO1xuXG5cdFx0XHRcdHN0YXJ0ID0gTWF0aC5tYXgoIGdyb3VwLnN0YXJ0LCBkcmF3UmFuZ2Uuc3RhcnQgKTtcblx0XHRcdFx0ZW5kID0gTWF0aC5taW4oICggZ3JvdXAuc3RhcnQgKyBncm91cC5jb3VudCApLCAoIGRyYXdSYW5nZS5zdGFydCArIGRyYXdSYW5nZS5jb3VudCApICk7XG5cblx0XHRcdFx0Zm9yICggaiA9IHN0YXJ0LCBqbCA9IGVuZDsgaiA8IGpsOyBqICs9IDMgKSB7XG5cblx0XHRcdFx0XHRhID0gaW5kZXguZ2V0WCggaiApO1xuXHRcdFx0XHRcdGIgPSBpbmRleC5nZXRYKCBqICsgMSApO1xuXHRcdFx0XHRcdGMgPSBpbmRleC5nZXRYKCBqICsgMiApO1xuXG5cdFx0XHRcdFx0X2NhbGN1bGF0ZU1vcnBoZWRBdHRyaWJ1dGVEYXRhKFxuXHRcdFx0XHRcdFx0b2JqZWN0LFxuXHRcdFx0XHRcdFx0cG9zaXRpb25BdHRyaWJ1dGUsXG5cdFx0XHRcdFx0XHRtb3JwaFBvc2l0aW9uLFxuXHRcdFx0XHRcdFx0bW9ycGhUYXJnZXRzUmVsYXRpdmUsXG5cdFx0XHRcdFx0XHRhLCBiLCBjLFxuXHRcdFx0XHRcdFx0bW9kaWZpZWRQb3NpdGlvblxuXHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRfY2FsY3VsYXRlTW9ycGhlZEF0dHJpYnV0ZURhdGEoXG5cdFx0XHRcdFx0XHRvYmplY3QsXG5cdFx0XHRcdFx0XHRub3JtYWxBdHRyaWJ1dGUsXG5cdFx0XHRcdFx0XHRtb3JwaE5vcm1hbCxcblx0XHRcdFx0XHRcdG1vcnBoVGFyZ2V0c1JlbGF0aXZlLFxuXHRcdFx0XHRcdFx0YSwgYiwgYyxcblx0XHRcdFx0XHRcdG1vZGlmaWVkTm9ybWFsXG5cdFx0XHRcdFx0KTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHN0YXJ0ID0gTWF0aC5tYXgoIDAsIGRyYXdSYW5nZS5zdGFydCApO1xuXHRcdFx0ZW5kID0gTWF0aC5taW4oIGluZGV4LmNvdW50LCAoIGRyYXdSYW5nZS5zdGFydCArIGRyYXdSYW5nZS5jb3VudCApICk7XG5cblx0XHRcdGZvciAoIGkgPSBzdGFydCwgaWwgPSBlbmQ7IGkgPCBpbDsgaSArPSAzICkge1xuXG5cdFx0XHRcdGEgPSBpbmRleC5nZXRYKCBpICk7XG5cdFx0XHRcdGIgPSBpbmRleC5nZXRYKCBpICsgMSApO1xuXHRcdFx0XHRjID0gaW5kZXguZ2V0WCggaSArIDIgKTtcblxuXHRcdFx0XHRfY2FsY3VsYXRlTW9ycGhlZEF0dHJpYnV0ZURhdGEoXG5cdFx0XHRcdFx0b2JqZWN0LFxuXHRcdFx0XHRcdHBvc2l0aW9uQXR0cmlidXRlLFxuXHRcdFx0XHRcdG1vcnBoUG9zaXRpb24sXG5cdFx0XHRcdFx0bW9ycGhUYXJnZXRzUmVsYXRpdmUsXG5cdFx0XHRcdFx0YSwgYiwgYyxcblx0XHRcdFx0XHRtb2RpZmllZFBvc2l0aW9uXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0X2NhbGN1bGF0ZU1vcnBoZWRBdHRyaWJ1dGVEYXRhKFxuXHRcdFx0XHRcdG9iamVjdCxcblx0XHRcdFx0XHRub3JtYWxBdHRyaWJ1dGUsXG5cdFx0XHRcdFx0bW9ycGhOb3JtYWwsXG5cdFx0XHRcdFx0bW9ycGhUYXJnZXRzUmVsYXRpdmUsXG5cdFx0XHRcdFx0YSwgYiwgYyxcblx0XHRcdFx0XHRtb2RpZmllZE5vcm1hbFxuXHRcdFx0XHQpO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0fSBlbHNlIHtcblxuXHRcdC8vIG5vbi1pbmRleGVkIGJ1ZmZlciBnZW9tZXRyeVxuXG5cdFx0aWYgKCBBcnJheS5pc0FycmF5KCBtYXRlcmlhbCApICkge1xuXG5cdFx0XHRmb3IgKCBpID0gMCwgaWwgPSBncm91cHMubGVuZ3RoOyBpIDwgaWw7IGkgKysgKSB7XG5cblx0XHRcdFx0Z3JvdXAgPSBncm91cHNbIGkgXTtcblxuXHRcdFx0XHRzdGFydCA9IE1hdGgubWF4KCBncm91cC5zdGFydCwgZHJhd1JhbmdlLnN0YXJ0ICk7XG5cdFx0XHRcdGVuZCA9IE1hdGgubWluKCAoIGdyb3VwLnN0YXJ0ICsgZ3JvdXAuY291bnQgKSwgKCBkcmF3UmFuZ2Uuc3RhcnQgKyBkcmF3UmFuZ2UuY291bnQgKSApO1xuXG5cdFx0XHRcdGZvciAoIGogPSBzdGFydCwgamwgPSBlbmQ7IGogPCBqbDsgaiArPSAzICkge1xuXG5cdFx0XHRcdFx0YSA9IGo7XG5cdFx0XHRcdFx0YiA9IGogKyAxO1xuXHRcdFx0XHRcdGMgPSBqICsgMjtcblxuXHRcdFx0XHRcdF9jYWxjdWxhdGVNb3JwaGVkQXR0cmlidXRlRGF0YShcblx0XHRcdFx0XHRcdG9iamVjdCxcblx0XHRcdFx0XHRcdHBvc2l0aW9uQXR0cmlidXRlLFxuXHRcdFx0XHRcdFx0bW9ycGhQb3NpdGlvbixcblx0XHRcdFx0XHRcdG1vcnBoVGFyZ2V0c1JlbGF0aXZlLFxuXHRcdFx0XHRcdFx0YSwgYiwgYyxcblx0XHRcdFx0XHRcdG1vZGlmaWVkUG9zaXRpb25cblx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0X2NhbGN1bGF0ZU1vcnBoZWRBdHRyaWJ1dGVEYXRhKFxuXHRcdFx0XHRcdFx0b2JqZWN0LFxuXHRcdFx0XHRcdFx0bm9ybWFsQXR0cmlidXRlLFxuXHRcdFx0XHRcdFx0bW9ycGhOb3JtYWwsXG5cdFx0XHRcdFx0XHRtb3JwaFRhcmdldHNSZWxhdGl2ZSxcblx0XHRcdFx0XHRcdGEsIGIsIGMsXG5cdFx0XHRcdFx0XHRtb2RpZmllZE5vcm1hbFxuXHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRzdGFydCA9IE1hdGgubWF4KCAwLCBkcmF3UmFuZ2Uuc3RhcnQgKTtcblx0XHRcdGVuZCA9IE1hdGgubWluKCBwb3NpdGlvbkF0dHJpYnV0ZS5jb3VudCwgKCBkcmF3UmFuZ2Uuc3RhcnQgKyBkcmF3UmFuZ2UuY291bnQgKSApO1xuXG5cdFx0XHRmb3IgKCBpID0gc3RhcnQsIGlsID0gZW5kOyBpIDwgaWw7IGkgKz0gMyApIHtcblxuXHRcdFx0XHRhID0gaTtcblx0XHRcdFx0YiA9IGkgKyAxO1xuXHRcdFx0XHRjID0gaSArIDI7XG5cblx0XHRcdFx0X2NhbGN1bGF0ZU1vcnBoZWRBdHRyaWJ1dGVEYXRhKFxuXHRcdFx0XHRcdG9iamVjdCxcblx0XHRcdFx0XHRwb3NpdGlvbkF0dHJpYnV0ZSxcblx0XHRcdFx0XHRtb3JwaFBvc2l0aW9uLFxuXHRcdFx0XHRcdG1vcnBoVGFyZ2V0c1JlbGF0aXZlLFxuXHRcdFx0XHRcdGEsIGIsIGMsXG5cdFx0XHRcdFx0bW9kaWZpZWRQb3NpdGlvblxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdF9jYWxjdWxhdGVNb3JwaGVkQXR0cmlidXRlRGF0YShcblx0XHRcdFx0XHRvYmplY3QsXG5cdFx0XHRcdFx0bm9ybWFsQXR0cmlidXRlLFxuXHRcdFx0XHRcdG1vcnBoTm9ybWFsLFxuXHRcdFx0XHRcdG1vcnBoVGFyZ2V0c1JlbGF0aXZlLFxuXHRcdFx0XHRcdGEsIGIsIGMsXG5cdFx0XHRcdFx0bW9kaWZpZWROb3JtYWxcblx0XHRcdFx0KTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdH1cblxuXHRjb25zdCBtb3JwaGVkUG9zaXRpb25BdHRyaWJ1dGUgPSBuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSggbW9kaWZpZWRQb3NpdGlvbiwgMyApO1xuXHRjb25zdCBtb3JwaGVkTm9ybWFsQXR0cmlidXRlID0gbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoIG1vZGlmaWVkTm9ybWFsLCAzICk7XG5cblx0cmV0dXJuIHtcblxuXHRcdHBvc2l0aW9uQXR0cmlidXRlOiBwb3NpdGlvbkF0dHJpYnV0ZSxcblx0XHRub3JtYWxBdHRyaWJ1dGU6IG5vcm1hbEF0dHJpYnV0ZSxcblx0XHRtb3JwaGVkUG9zaXRpb25BdHRyaWJ1dGU6IG1vcnBoZWRQb3NpdGlvbkF0dHJpYnV0ZSxcblx0XHRtb3JwaGVkTm9ybWFsQXR0cmlidXRlOiBtb3JwaGVkTm9ybWFsQXR0cmlidXRlXG5cblx0fTtcblxufVxuXG5mdW5jdGlvbiBtZXJnZUdyb3VwcyggZ2VvbWV0cnkgKSB7XG5cblx0aWYgKCBnZW9tZXRyeS5ncm91cHMubGVuZ3RoID09PSAwICkge1xuXG5cdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlscy5tZXJnZUdyb3VwcygpOiBObyBncm91cHMgYXJlIGRlZmluZWQuIE5vdGhpbmcgdG8gbWVyZ2UuJyApO1xuXHRcdHJldHVybiBnZW9tZXRyeTtcblxuXHR9XG5cblx0bGV0IGdyb3VwcyA9IGdlb21ldHJ5Lmdyb3VwcztcblxuXHQvLyBzb3J0IGdyb3VwcyBieSBtYXRlcmlhbCBpbmRleFxuXG5cdGdyb3VwcyA9IGdyb3Vwcy5zb3J0KCAoIGEsIGIgKSA9PiB7XG5cblx0XHRpZiAoIGEubWF0ZXJpYWxJbmRleCAhPT0gYi5tYXRlcmlhbEluZGV4ICkgcmV0dXJuIGEubWF0ZXJpYWxJbmRleCAtIGIubWF0ZXJpYWxJbmRleDtcblxuXHRcdHJldHVybiBhLnN0YXJ0IC0gYi5zdGFydDtcblxuXHR9ICk7XG5cblx0Ly8gY3JlYXRlIGluZGV4IGZvciBub24taW5kZXhlZCBnZW9tZXRyaWVzXG5cblx0aWYgKCBnZW9tZXRyeS5nZXRJbmRleCgpID09PSBudWxsICkge1xuXG5cdFx0Y29uc3QgcG9zaXRpb25BdHRyaWJ1dGUgPSBnZW9tZXRyeS5nZXRBdHRyaWJ1dGUoICdwb3NpdGlvbicgKTtcblx0XHRjb25zdCBpbmRpY2VzID0gW107XG5cblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCBwb3NpdGlvbkF0dHJpYnV0ZS5jb3VudDsgaSArPSAzICkge1xuXG5cdFx0XHRpbmRpY2VzLnB1c2goIGksIGkgKyAxLCBpICsgMiApO1xuXG5cdFx0fVxuXG5cdFx0Z2VvbWV0cnkuc2V0SW5kZXgoIGluZGljZXMgKTtcblxuXHR9XG5cblx0Ly8gc29ydCBpbmRleFxuXG5cdGNvbnN0IGluZGV4ID0gZ2VvbWV0cnkuZ2V0SW5kZXgoKTtcblxuXHRjb25zdCBuZXdJbmRpY2VzID0gW107XG5cblx0Zm9yICggbGV0IGkgPSAwOyBpIDwgZ3JvdXBzLmxlbmd0aDsgaSArKyApIHtcblxuXHRcdGNvbnN0IGdyb3VwID0gZ3JvdXBzWyBpIF07XG5cblx0XHRjb25zdCBncm91cFN0YXJ0ID0gZ3JvdXAuc3RhcnQ7XG5cdFx0Y29uc3QgZ3JvdXBMZW5ndGggPSBncm91cFN0YXJ0ICsgZ3JvdXAuY291bnQ7XG5cblx0XHRmb3IgKCBsZXQgaiA9IGdyb3VwU3RhcnQ7IGogPCBncm91cExlbmd0aDsgaiArKyApIHtcblxuXHRcdFx0bmV3SW5kaWNlcy5wdXNoKCBpbmRleC5nZXRYKCBqICkgKTtcblxuXHRcdH1cblxuXHR9XG5cblx0Z2VvbWV0cnkuZGlzcG9zZSgpOyAvLyBSZXF1aXJlZCB0byBmb3JjZSBidWZmZXIgcmVjcmVhdGlvblxuXHRnZW9tZXRyeS5zZXRJbmRleCggbmV3SW5kaWNlcyApO1xuXG5cdC8vIHVwZGF0ZSBncm91cHMgaW5kaWNlc1xuXG5cdGxldCBzdGFydCA9IDA7XG5cblx0Zm9yICggbGV0IGkgPSAwOyBpIDwgZ3JvdXBzLmxlbmd0aDsgaSArKyApIHtcblxuXHRcdGNvbnN0IGdyb3VwID0gZ3JvdXBzWyBpIF07XG5cblx0XHRncm91cC5zdGFydCA9IHN0YXJ0O1xuXHRcdHN0YXJ0ICs9IGdyb3VwLmNvdW50O1xuXG5cdH1cblxuXHQvLyBtZXJnZSBncm91cHNcblxuXHRsZXQgY3VycmVudEdyb3VwID0gZ3JvdXBzWyAwIF07XG5cblx0Z2VvbWV0cnkuZ3JvdXBzID0gWyBjdXJyZW50R3JvdXAgXTtcblxuXHRmb3IgKCBsZXQgaSA9IDE7IGkgPCBncm91cHMubGVuZ3RoOyBpICsrICkge1xuXG5cdFx0Y29uc3QgZ3JvdXAgPSBncm91cHNbIGkgXTtcblxuXHRcdGlmICggY3VycmVudEdyb3VwLm1hdGVyaWFsSW5kZXggPT09IGdyb3VwLm1hdGVyaWFsSW5kZXggKSB7XG5cblx0XHRcdGN1cnJlbnRHcm91cC5jb3VudCArPSBncm91cC5jb3VudDtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdGN1cnJlbnRHcm91cCA9IGdyb3VwO1xuXHRcdFx0Z2VvbWV0cnkuZ3JvdXBzLnB1c2goIGN1cnJlbnRHcm91cCApO1xuXG5cdFx0fVxuXG5cdH1cblxuXHRyZXR1cm4gZ2VvbWV0cnk7XG5cbn1cblxuXG4vLyBDcmVhdGVzIGEgbmV3LCBub24taW5kZXhlZCBnZW9tZXRyeSB3aXRoIHNtb290aCBub3JtYWxzIGV2ZXJ5d2hlcmUgZXhjZXB0IGZhY2VzIHRoYXQgbWVldCBhdFxuLy8gYW4gYW5nbGUgZ3JlYXRlciB0aGFuIHRoZSBjcmVhc2UgYW5nbGUuXG5mdW5jdGlvbiB0b0NyZWFzZWROb3JtYWxzKCBnZW9tZXRyeSwgY3JlYXNlQW5nbGUgPSBNYXRoLlBJIC8gMyAvKiA2MCBkZWdyZWVzICovICkge1xuXG5cdGNvbnN0IGNyZWFzZURvdCA9IE1hdGguY29zKCBjcmVhc2VBbmdsZSApO1xuXHRjb25zdCBoYXNoTXVsdGlwbGllciA9ICggMSArIDFlLTEwICkgKiAxZTI7XG5cblx0Ly8gcmV1c2FibGUgdmVydG9yc1xuXHRjb25zdCB2ZXJ0cyA9IFsgbmV3IFZlY3RvcjMoKSwgbmV3IFZlY3RvcjMoKSwgbmV3IFZlY3RvcjMoKSBdO1xuXHRjb25zdCB0ZW1wVmVjMSA9IG5ldyBWZWN0b3IzKCk7XG5cdGNvbnN0IHRlbXBWZWMyID0gbmV3IFZlY3RvcjMoKTtcblx0Y29uc3QgdGVtcE5vcm0gPSBuZXcgVmVjdG9yMygpO1xuXHRjb25zdCB0ZW1wTm9ybTIgPSBuZXcgVmVjdG9yMygpO1xuXG5cdC8vIGhhc2hlcyBhIHZlY3RvclxuXHRmdW5jdGlvbiBoYXNoVmVydGV4KCB2ICkge1xuXG5cdFx0Y29uc3QgeCA9IH4gfiAoIHYueCAqIGhhc2hNdWx0aXBsaWVyICk7XG5cdFx0Y29uc3QgeSA9IH4gfiAoIHYueSAqIGhhc2hNdWx0aXBsaWVyICk7XG5cdFx0Y29uc3QgeiA9IH4gfiAoIHYueiAqIGhhc2hNdWx0aXBsaWVyICk7XG5cdFx0cmV0dXJuIGAke3h9LCR7eX0sJHt6fWA7XG5cblx0fVxuXG5cdGNvbnN0IHJlc3VsdEdlb21ldHJ5ID0gZ2VvbWV0cnkudG9Ob25JbmRleGVkKCk7XG5cdGNvbnN0IHBvc0F0dHIgPSByZXN1bHRHZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uO1xuXHRjb25zdCB2ZXJ0ZXhNYXAgPSB7fTtcblxuXHQvLyBmaW5kIGFsbCB0aGUgbm9ybWFscyBzaGFyZWQgYnkgY29tbW9ubHkgbG9jYXRlZCB2ZXJ0aWNlc1xuXHRmb3IgKCBsZXQgaSA9IDAsIGwgPSBwb3NBdHRyLmNvdW50IC8gMzsgaSA8IGw7IGkgKysgKSB7XG5cblx0XHRjb25zdCBpMyA9IDMgKiBpO1xuXHRcdGNvbnN0IGEgPSB2ZXJ0c1sgMCBdLmZyb21CdWZmZXJBdHRyaWJ1dGUoIHBvc0F0dHIsIGkzICsgMCApO1xuXHRcdGNvbnN0IGIgPSB2ZXJ0c1sgMSBdLmZyb21CdWZmZXJBdHRyaWJ1dGUoIHBvc0F0dHIsIGkzICsgMSApO1xuXHRcdGNvbnN0IGMgPSB2ZXJ0c1sgMiBdLmZyb21CdWZmZXJBdHRyaWJ1dGUoIHBvc0F0dHIsIGkzICsgMiApO1xuXG5cdFx0dGVtcFZlYzEuc3ViVmVjdG9ycyggYywgYiApO1xuXHRcdHRlbXBWZWMyLnN1YlZlY3RvcnMoIGEsIGIgKTtcblxuXHRcdC8vIGFkZCB0aGUgbm9ybWFsIHRvIHRoZSBtYXAgZm9yIGFsbCB2ZXJ0aWNlc1xuXHRcdGNvbnN0IG5vcm1hbCA9IG5ldyBWZWN0b3IzKCkuY3Jvc3NWZWN0b3JzKCB0ZW1wVmVjMSwgdGVtcFZlYzIgKS5ub3JtYWxpemUoKTtcblx0XHRmb3IgKCBsZXQgbiA9IDA7IG4gPCAzOyBuICsrICkge1xuXG5cdFx0XHRjb25zdCB2ZXJ0ID0gdmVydHNbIG4gXTtcblx0XHRcdGNvbnN0IGhhc2ggPSBoYXNoVmVydGV4KCB2ZXJ0ICk7XG5cdFx0XHRpZiAoICEgKCBoYXNoIGluIHZlcnRleE1hcCApICkge1xuXG5cdFx0XHRcdHZlcnRleE1hcFsgaGFzaCBdID0gW107XG5cblx0XHRcdH1cblxuXHRcdFx0dmVydGV4TWFwWyBoYXNoIF0ucHVzaCggbm9ybWFsICk7XG5cblx0XHR9XG5cblx0fVxuXG5cdC8vIGF2ZXJhZ2Ugbm9ybWFscyBmcm9tIGFsbCB2ZXJ0aWNlcyB0aGF0IHNoYXJlIGEgY29tbW9uIGxvY2F0aW9uIGlmIHRoZXkgYXJlIHdpdGhpbiB0aGVcblx0Ly8gcHJvdmlkZWQgY3JlYXNlIHRocmVzaG9sZFxuXHRjb25zdCBub3JtYWxBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoIHBvc0F0dHIuY291bnQgKiAzICk7XG5cdGNvbnN0IG5vcm1BdHRyID0gbmV3IEJ1ZmZlckF0dHJpYnV0ZSggbm9ybWFsQXJyYXksIDMsIGZhbHNlICk7XG5cdGZvciAoIGxldCBpID0gMCwgbCA9IHBvc0F0dHIuY291bnQgLyAzOyBpIDwgbDsgaSArKyApIHtcblxuXHRcdC8vIGdldCB0aGUgZmFjZSBub3JtYWwgZm9yIHRoaXMgdmVydGV4XG5cdFx0Y29uc3QgaTMgPSAzICogaTtcblx0XHRjb25zdCBhID0gdmVydHNbIDAgXS5mcm9tQnVmZmVyQXR0cmlidXRlKCBwb3NBdHRyLCBpMyArIDAgKTtcblx0XHRjb25zdCBiID0gdmVydHNbIDEgXS5mcm9tQnVmZmVyQXR0cmlidXRlKCBwb3NBdHRyLCBpMyArIDEgKTtcblx0XHRjb25zdCBjID0gdmVydHNbIDIgXS5mcm9tQnVmZmVyQXR0cmlidXRlKCBwb3NBdHRyLCBpMyArIDIgKTtcblxuXHRcdHRlbXBWZWMxLnN1YlZlY3RvcnMoIGMsIGIgKTtcblx0XHR0ZW1wVmVjMi5zdWJWZWN0b3JzKCBhLCBiICk7XG5cblx0XHR0ZW1wTm9ybS5jcm9zc1ZlY3RvcnMoIHRlbXBWZWMxLCB0ZW1wVmVjMiApLm5vcm1hbGl6ZSgpO1xuXG5cdFx0Ly8gYXZlcmFnZSBhbGwgbm9ybWFscyB0aGF0IG1lZXQgdGhlIHRocmVzaG9sZCBhbmQgc2V0IHRoZSBub3JtYWwgdmFsdWVcblx0XHRmb3IgKCBsZXQgbiA9IDA7IG4gPCAzOyBuICsrICkge1xuXG5cdFx0XHRjb25zdCB2ZXJ0ID0gdmVydHNbIG4gXTtcblx0XHRcdGNvbnN0IGhhc2ggPSBoYXNoVmVydGV4KCB2ZXJ0ICk7XG5cdFx0XHRjb25zdCBvdGhlck5vcm1hbHMgPSB2ZXJ0ZXhNYXBbIGhhc2ggXTtcblx0XHRcdHRlbXBOb3JtMi5zZXQoIDAsIDAsIDAgKTtcblxuXHRcdFx0Zm9yICggbGV0IGsgPSAwLCBsayA9IG90aGVyTm9ybWFscy5sZW5ndGg7IGsgPCBsazsgayArKyApIHtcblxuXHRcdFx0XHRjb25zdCBvdGhlck5vcm0gPSBvdGhlck5vcm1hbHNbIGsgXTtcblx0XHRcdFx0aWYgKCB0ZW1wTm9ybS5kb3QoIG90aGVyTm9ybSApID4gY3JlYXNlRG90ICkge1xuXG5cdFx0XHRcdFx0dGVtcE5vcm0yLmFkZCggb3RoZXJOb3JtICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHRcdHRlbXBOb3JtMi5ub3JtYWxpemUoKTtcblx0XHRcdG5vcm1BdHRyLnNldFhZWiggaTMgKyBuLCB0ZW1wTm9ybTIueCwgdGVtcE5vcm0yLnksIHRlbXBOb3JtMi56ICk7XG5cblx0XHR9XG5cblx0fVxuXG5cdHJlc3VsdEdlb21ldHJ5LnNldEF0dHJpYnV0ZSggJ25vcm1hbCcsIG5vcm1BdHRyICk7XG5cdHJldHVybiByZXN1bHRHZW9tZXRyeTtcblxufVxuXG5leHBvcnQge1xuXHRjb21wdXRlVGFuZ2VudHMsXG5cdGNvbXB1dGVNaWtrVFNwYWNlVGFuZ2VudHMsXG5cdG1lcmdlQnVmZmVyR2VvbWV0cmllcyxcblx0bWVyZ2VCdWZmZXJBdHRyaWJ1dGVzLFxuXHRpbnRlcmxlYXZlQXR0cmlidXRlcyxcblx0ZXN0aW1hdGVCeXRlc1VzZWQsXG5cdG1lcmdlVmVydGljZXMsXG5cdHRvVHJpYW5nbGVzRHJhd01vZGUsXG5cdGNvbXB1dGVNb3JwaGVkQXR0cmlidXRlcyxcblx0bWVyZ2VHcm91cHMsXG5cdHRvQ3JlYXNlZE5vcm1hbHNcbn07XG4iLCJpbXBvcnQge1xuXHRBbmltYXRpb25DbGlwLFxuXHRCb25lLFxuXHRCb3gzLFxuXHRCdWZmZXJBdHRyaWJ1dGUsXG5cdEJ1ZmZlckdlb21ldHJ5LFxuXHRDbGFtcFRvRWRnZVdyYXBwaW5nLFxuXHRDb2xvcixcblx0RGlyZWN0aW9uYWxMaWdodCxcblx0RG91YmxlU2lkZSxcblx0RmlsZUxvYWRlcixcblx0RnJvbnRTaWRlLFxuXHRHcm91cCxcblx0SW1hZ2VCaXRtYXBMb2FkZXIsXG5cdEluc3RhbmNlZE1lc2gsXG5cdEludGVybGVhdmVkQnVmZmVyLFxuXHRJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSxcblx0SW50ZXJwb2xhbnQsXG5cdEludGVycG9sYXRlRGlzY3JldGUsXG5cdEludGVycG9sYXRlTGluZWFyLFxuXHRMaW5lLFxuXHRMaW5lQmFzaWNNYXRlcmlhbCxcblx0TGluZUxvb3AsXG5cdExpbmVTZWdtZW50cyxcblx0TGluZWFyRmlsdGVyLFxuXHRMaW5lYXJNaXBtYXBMaW5lYXJGaWx0ZXIsXG5cdExpbmVhck1pcG1hcE5lYXJlc3RGaWx0ZXIsXG5cdExvYWRlcixcblx0TG9hZGVyVXRpbHMsXG5cdE1hdGVyaWFsLFxuXHRNYXRoVXRpbHMsXG5cdE1hdHJpeDQsXG5cdE1lc2gsXG5cdE1lc2hCYXNpY01hdGVyaWFsLFxuXHRNZXNoUGh5c2ljYWxNYXRlcmlhbCxcblx0TWVzaFN0YW5kYXJkTWF0ZXJpYWwsXG5cdE1pcnJvcmVkUmVwZWF0V3JhcHBpbmcsXG5cdE5lYXJlc3RGaWx0ZXIsXG5cdE5lYXJlc3RNaXBtYXBMaW5lYXJGaWx0ZXIsXG5cdE5lYXJlc3RNaXBtYXBOZWFyZXN0RmlsdGVyLFxuXHROdW1iZXJLZXlmcmFtZVRyYWNrLFxuXHRPYmplY3QzRCxcblx0T3J0aG9ncmFwaGljQ2FtZXJhLFxuXHRQZXJzcGVjdGl2ZUNhbWVyYSxcblx0UG9pbnRMaWdodCxcblx0UG9pbnRzLFxuXHRQb2ludHNNYXRlcmlhbCxcblx0UHJvcGVydHlCaW5kaW5nLFxuXHRRdWF0ZXJuaW9uLFxuXHRRdWF0ZXJuaW9uS2V5ZnJhbWVUcmFjayxcblx0UmVwZWF0V3JhcHBpbmcsXG5cdFNrZWxldG9uLFxuXHRTa2lubmVkTWVzaCxcblx0U3BoZXJlLFxuXHRTcG90TGlnaHQsXG5cdFRleHR1cmUsXG5cdFRleHR1cmVMb2FkZXIsXG5cdFRyaWFuZ2xlRmFuRHJhd01vZGUsXG5cdFRyaWFuZ2xlU3RyaXBEcmF3TW9kZSxcblx0VmVjdG9yMixcblx0VmVjdG9yMyxcblx0VmVjdG9yS2V5ZnJhbWVUcmFjayxcblx0c1JHQkVuY29kaW5nXG59IGZyb20gJ3RocmVlJztcbmltcG9ydCB7IHRvVHJpYW5nbGVzRHJhd01vZGUgfSBmcm9tICcuLi91dGlscy9CdWZmZXJHZW9tZXRyeVV0aWxzLmpzJztcblxuY2xhc3MgR0xURkxvYWRlciBleHRlbmRzIExvYWRlciB7XG5cblx0Y29uc3RydWN0b3IoIG1hbmFnZXIgKSB7XG5cblx0XHRzdXBlciggbWFuYWdlciApO1xuXG5cdFx0dGhpcy5kcmFjb0xvYWRlciA9IG51bGw7XG5cdFx0dGhpcy5rdHgyTG9hZGVyID0gbnVsbDtcblx0XHR0aGlzLm1lc2hvcHREZWNvZGVyID0gbnVsbDtcblxuXHRcdHRoaXMucGx1Z2luQ2FsbGJhY2tzID0gW107XG5cblx0XHR0aGlzLnJlZ2lzdGVyKCBmdW5jdGlvbiAoIHBhcnNlciApIHtcblxuXHRcdFx0cmV0dXJuIG5ldyBHTFRGTWF0ZXJpYWxzQ2xlYXJjb2F0RXh0ZW5zaW9uKCBwYXJzZXIgKTtcblxuXHRcdH0gKTtcblxuXHRcdHRoaXMucmVnaXN0ZXIoIGZ1bmN0aW9uICggcGFyc2VyICkge1xuXG5cdFx0XHRyZXR1cm4gbmV3IEdMVEZUZXh0dXJlQmFzaXNVRXh0ZW5zaW9uKCBwYXJzZXIgKTtcblxuXHRcdH0gKTtcblxuXHRcdHRoaXMucmVnaXN0ZXIoIGZ1bmN0aW9uICggcGFyc2VyICkge1xuXG5cdFx0XHRyZXR1cm4gbmV3IEdMVEZUZXh0dXJlV2ViUEV4dGVuc2lvbiggcGFyc2VyICk7XG5cblx0XHR9ICk7XG5cblx0XHR0aGlzLnJlZ2lzdGVyKCBmdW5jdGlvbiAoIHBhcnNlciApIHtcblxuXHRcdFx0cmV0dXJuIG5ldyBHTFRGTWF0ZXJpYWxzU2hlZW5FeHRlbnNpb24oIHBhcnNlciApO1xuXG5cdFx0fSApO1xuXG5cdFx0dGhpcy5yZWdpc3RlciggZnVuY3Rpb24gKCBwYXJzZXIgKSB7XG5cblx0XHRcdHJldHVybiBuZXcgR0xURk1hdGVyaWFsc1RyYW5zbWlzc2lvbkV4dGVuc2lvbiggcGFyc2VyICk7XG5cblx0XHR9ICk7XG5cblx0XHR0aGlzLnJlZ2lzdGVyKCBmdW5jdGlvbiAoIHBhcnNlciApIHtcblxuXHRcdFx0cmV0dXJuIG5ldyBHTFRGTWF0ZXJpYWxzVm9sdW1lRXh0ZW5zaW9uKCBwYXJzZXIgKTtcblxuXHRcdH0gKTtcblxuXHRcdHRoaXMucmVnaXN0ZXIoIGZ1bmN0aW9uICggcGFyc2VyICkge1xuXG5cdFx0XHRyZXR1cm4gbmV3IEdMVEZNYXRlcmlhbHNJb3JFeHRlbnNpb24oIHBhcnNlciApO1xuXG5cdFx0fSApO1xuXG5cdFx0dGhpcy5yZWdpc3RlciggZnVuY3Rpb24gKCBwYXJzZXIgKSB7XG5cblx0XHRcdHJldHVybiBuZXcgR0xURk1hdGVyaWFsc0VtaXNzaXZlU3RyZW5ndGhFeHRlbnNpb24oIHBhcnNlciApO1xuXG5cdFx0fSApO1xuXG5cdFx0dGhpcy5yZWdpc3RlciggZnVuY3Rpb24gKCBwYXJzZXIgKSB7XG5cblx0XHRcdHJldHVybiBuZXcgR0xURk1hdGVyaWFsc1NwZWN1bGFyRXh0ZW5zaW9uKCBwYXJzZXIgKTtcblxuXHRcdH0gKTtcblxuXHRcdHRoaXMucmVnaXN0ZXIoIGZ1bmN0aW9uICggcGFyc2VyICkge1xuXG5cdFx0XHRyZXR1cm4gbmV3IEdMVEZNYXRlcmlhbHNJcmlkZXNjZW5jZUV4dGVuc2lvbiggcGFyc2VyICk7XG5cblx0XHR9ICk7XG5cblx0XHR0aGlzLnJlZ2lzdGVyKCBmdW5jdGlvbiAoIHBhcnNlciApIHtcblxuXHRcdFx0cmV0dXJuIG5ldyBHTFRGTGlnaHRzRXh0ZW5zaW9uKCBwYXJzZXIgKTtcblxuXHRcdH0gKTtcblxuXHRcdHRoaXMucmVnaXN0ZXIoIGZ1bmN0aW9uICggcGFyc2VyICkge1xuXG5cdFx0XHRyZXR1cm4gbmV3IEdMVEZNZXNob3B0Q29tcHJlc3Npb24oIHBhcnNlciApO1xuXG5cdFx0fSApO1xuXG5cdFx0dGhpcy5yZWdpc3RlciggZnVuY3Rpb24gKCBwYXJzZXIgKSB7XG5cblx0XHRcdHJldHVybiBuZXcgR0xURk1lc2hHcHVJbnN0YW5jaW5nKCBwYXJzZXIgKTtcblxuXHRcdH0gKTtcblxuXHR9XG5cblx0bG9hZCggdXJsLCBvbkxvYWQsIG9uUHJvZ3Jlc3MsIG9uRXJyb3IgKSB7XG5cblx0XHRjb25zdCBzY29wZSA9IHRoaXM7XG5cblx0XHRsZXQgcmVzb3VyY2VQYXRoO1xuXG5cdFx0aWYgKCB0aGlzLnJlc291cmNlUGF0aCAhPT0gJycgKSB7XG5cblx0XHRcdHJlc291cmNlUGF0aCA9IHRoaXMucmVzb3VyY2VQYXRoO1xuXG5cdFx0fSBlbHNlIGlmICggdGhpcy5wYXRoICE9PSAnJyApIHtcblxuXHRcdFx0cmVzb3VyY2VQYXRoID0gdGhpcy5wYXRoO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0cmVzb3VyY2VQYXRoID0gTG9hZGVyVXRpbHMuZXh0cmFjdFVybEJhc2UoIHVybCApO1xuXG5cdFx0fVxuXG5cdFx0Ly8gVGVsbHMgdGhlIExvYWRpbmdNYW5hZ2VyIHRvIHRyYWNrIGFuIGV4dHJhIGl0ZW0sIHdoaWNoIHJlc29sdmVzIGFmdGVyXG5cdFx0Ly8gdGhlIG1vZGVsIGlzIGZ1bGx5IGxvYWRlZC4gVGhpcyBtZWFucyB0aGUgY291bnQgb2YgaXRlbXMgbG9hZGVkIHdpbGxcblx0XHQvLyBiZSBpbmNvcnJlY3QsIGJ1dCBlbnN1cmVzIG1hbmFnZXIub25Mb2FkKCkgZG9lcyBub3QgZmlyZSBlYXJseS5cblx0XHR0aGlzLm1hbmFnZXIuaXRlbVN0YXJ0KCB1cmwgKTtcblxuXHRcdGNvbnN0IF9vbkVycm9yID0gZnVuY3Rpb24gKCBlICkge1xuXG5cdFx0XHRpZiAoIG9uRXJyb3IgKSB7XG5cblx0XHRcdFx0b25FcnJvciggZSApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoIGUgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRzY29wZS5tYW5hZ2VyLml0ZW1FcnJvciggdXJsICk7XG5cdFx0XHRzY29wZS5tYW5hZ2VyLml0ZW1FbmQoIHVybCApO1xuXG5cdFx0fTtcblxuXHRcdGNvbnN0IGxvYWRlciA9IG5ldyBGaWxlTG9hZGVyKCB0aGlzLm1hbmFnZXIgKTtcblxuXHRcdGxvYWRlci5zZXRQYXRoKCB0aGlzLnBhdGggKTtcblx0XHRsb2FkZXIuc2V0UmVzcG9uc2VUeXBlKCAnYXJyYXlidWZmZXInICk7XG5cdFx0bG9hZGVyLnNldFJlcXVlc3RIZWFkZXIoIHRoaXMucmVxdWVzdEhlYWRlciApO1xuXHRcdGxvYWRlci5zZXRXaXRoQ3JlZGVudGlhbHMoIHRoaXMud2l0aENyZWRlbnRpYWxzICk7XG5cblx0XHRsb2FkZXIubG9hZCggdXJsLCBmdW5jdGlvbiAoIGRhdGEgKSB7XG5cblx0XHRcdHRyeSB7XG5cblx0XHRcdFx0c2NvcGUucGFyc2UoIGRhdGEsIHJlc291cmNlUGF0aCwgZnVuY3Rpb24gKCBnbHRmICkge1xuXG5cdFx0XHRcdFx0b25Mb2FkKCBnbHRmICk7XG5cblx0XHRcdFx0XHRzY29wZS5tYW5hZ2VyLml0ZW1FbmQoIHVybCApO1xuXG5cdFx0XHRcdH0sIF9vbkVycm9yICk7XG5cblx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdF9vbkVycm9yKCBlICk7XG5cblx0XHRcdH1cblxuXHRcdH0sIG9uUHJvZ3Jlc3MsIF9vbkVycm9yICk7XG5cblx0fVxuXG5cdHNldERSQUNPTG9hZGVyKCBkcmFjb0xvYWRlciApIHtcblxuXHRcdHRoaXMuZHJhY29Mb2FkZXIgPSBkcmFjb0xvYWRlcjtcblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RERTTG9hZGVyKCkge1xuXG5cdFx0dGhyb3cgbmV3IEVycm9yKFxuXG5cdFx0XHQnVEhSRUUuR0xURkxvYWRlcjogXCJNU0ZUX3RleHR1cmVfZGRzXCIgbm8gbG9uZ2VyIHN1cHBvcnRlZC4gUGxlYXNlIHVwZGF0ZSB0byBcIktIUl90ZXh0dXJlX2Jhc2lzdVwiLidcblxuXHRcdCk7XG5cblx0fVxuXG5cdHNldEtUWDJMb2FkZXIoIGt0eDJMb2FkZXIgKSB7XG5cblx0XHR0aGlzLmt0eDJMb2FkZXIgPSBrdHgyTG9hZGVyO1xuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRNZXNob3B0RGVjb2RlciggbWVzaG9wdERlY29kZXIgKSB7XG5cblx0XHR0aGlzLm1lc2hvcHREZWNvZGVyID0gbWVzaG9wdERlY29kZXI7XG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHJlZ2lzdGVyKCBjYWxsYmFjayApIHtcblxuXHRcdGlmICggdGhpcy5wbHVnaW5DYWxsYmFja3MuaW5kZXhPZiggY2FsbGJhY2sgKSA9PT0gLSAxICkge1xuXG5cdFx0XHR0aGlzLnBsdWdpbkNhbGxiYWNrcy5wdXNoKCBjYWxsYmFjayApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHVucmVnaXN0ZXIoIGNhbGxiYWNrICkge1xuXG5cdFx0aWYgKCB0aGlzLnBsdWdpbkNhbGxiYWNrcy5pbmRleE9mKCBjYWxsYmFjayApICE9PSAtIDEgKSB7XG5cblx0XHRcdHRoaXMucGx1Z2luQ2FsbGJhY2tzLnNwbGljZSggdGhpcy5wbHVnaW5DYWxsYmFja3MuaW5kZXhPZiggY2FsbGJhY2sgKSwgMSApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHBhcnNlKCBkYXRhLCBwYXRoLCBvbkxvYWQsIG9uRXJyb3IgKSB7XG5cblx0XHRsZXQganNvbjtcblx0XHRjb25zdCBleHRlbnNpb25zID0ge307XG5cdFx0Y29uc3QgcGx1Z2lucyA9IHt9O1xuXHRcdGNvbnN0IHRleHREZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG5cblx0XHRpZiAoIHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyApIHtcblxuXHRcdFx0anNvbiA9IEpTT04ucGFyc2UoIGRhdGEgKTtcblxuXHRcdH0gZWxzZSBpZiAoIGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciApIHtcblxuXHRcdFx0Y29uc3QgbWFnaWMgPSB0ZXh0RGVjb2Rlci5kZWNvZGUoIG5ldyBVaW50OEFycmF5KCBkYXRhLCAwLCA0ICkgKTtcblxuXHRcdFx0aWYgKCBtYWdpYyA9PT0gQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTUFHSUMgKSB7XG5cblx0XHRcdFx0dHJ5IHtcblxuXHRcdFx0XHRcdGV4dGVuc2lvbnNbIEVYVEVOU0lPTlMuS0hSX0JJTkFSWV9HTFRGIF0gPSBuZXcgR0xURkJpbmFyeUV4dGVuc2lvbiggZGF0YSApO1xuXG5cdFx0XHRcdH0gY2F0Y2ggKCBlcnJvciApIHtcblxuXHRcdFx0XHRcdGlmICggb25FcnJvciApIG9uRXJyb3IoIGVycm9yICk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRqc29uID0gSlNPTi5wYXJzZSggZXh0ZW5zaW9uc1sgRVhURU5TSU9OUy5LSFJfQklOQVJZX0dMVEYgXS5jb250ZW50ICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0anNvbiA9IEpTT04ucGFyc2UoIHRleHREZWNvZGVyLmRlY29kZSggZGF0YSApICk7XG5cblx0XHRcdH1cblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdGpzb24gPSBkYXRhO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBqc29uLmFzc2V0ID09PSB1bmRlZmluZWQgfHwganNvbi5hc3NldC52ZXJzaW9uWyAwIF0gPCAyICkge1xuXG5cdFx0XHRpZiAoIG9uRXJyb3IgKSBvbkVycm9yKCBuZXcgRXJyb3IoICdUSFJFRS5HTFRGTG9hZGVyOiBVbnN1cHBvcnRlZCBhc3NldC4gZ2xURiB2ZXJzaW9ucyA+PTIuMCBhcmUgc3VwcG9ydGVkLicgKSApO1xuXHRcdFx0cmV0dXJuO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgcGFyc2VyID0gbmV3IEdMVEZQYXJzZXIoIGpzb24sIHtcblxuXHRcdFx0cGF0aDogcGF0aCB8fCB0aGlzLnJlc291cmNlUGF0aCB8fCAnJyxcblx0XHRcdGNyb3NzT3JpZ2luOiB0aGlzLmNyb3NzT3JpZ2luLFxuXHRcdFx0cmVxdWVzdEhlYWRlcjogdGhpcy5yZXF1ZXN0SGVhZGVyLFxuXHRcdFx0bWFuYWdlcjogdGhpcy5tYW5hZ2VyLFxuXHRcdFx0a3R4MkxvYWRlcjogdGhpcy5rdHgyTG9hZGVyLFxuXHRcdFx0bWVzaG9wdERlY29kZXI6IHRoaXMubWVzaG9wdERlY29kZXJcblxuXHRcdH0gKTtcblxuXHRcdHBhcnNlci5maWxlTG9hZGVyLnNldFJlcXVlc3RIZWFkZXIoIHRoaXMucmVxdWVzdEhlYWRlciApO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgdGhpcy5wbHVnaW5DYWxsYmFja3MubGVuZ3RoOyBpICsrICkge1xuXG5cdFx0XHRjb25zdCBwbHVnaW4gPSB0aGlzLnBsdWdpbkNhbGxiYWNrc1sgaSBdKCBwYXJzZXIgKTtcblx0XHRcdHBsdWdpbnNbIHBsdWdpbi5uYW1lIF0gPSBwbHVnaW47XG5cblx0XHRcdC8vIFdvcmthcm91bmQgdG8gYXZvaWQgZGV0ZXJtaW5pbmcgYXMgdW5rbm93biBleHRlbnNpb25cblx0XHRcdC8vIGluIGFkZFVua25vd25FeHRlbnNpb25zVG9Vc2VyRGF0YSgpLlxuXHRcdFx0Ly8gUmVtb3ZlIHRoaXMgd29ya2Fyb3VuZCBpZiB3ZSBtb3ZlIGFsbCB0aGUgZXhpc3Rpbmdcblx0XHRcdC8vIGV4dGVuc2lvbiBoYW5kbGVycyB0byBwbHVnaW4gc3lzdGVtXG5cdFx0XHRleHRlbnNpb25zWyBwbHVnaW4ubmFtZSBdID0gdHJ1ZTtcblxuXHRcdH1cblxuXHRcdGlmICgganNvbi5leHRlbnNpb25zVXNlZCApIHtcblxuXHRcdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwganNvbi5leHRlbnNpb25zVXNlZC5sZW5ndGg7ICsrIGkgKSB7XG5cblx0XHRcdFx0Y29uc3QgZXh0ZW5zaW9uTmFtZSA9IGpzb24uZXh0ZW5zaW9uc1VzZWRbIGkgXTtcblx0XHRcdFx0Y29uc3QgZXh0ZW5zaW9uc1JlcXVpcmVkID0ganNvbi5leHRlbnNpb25zUmVxdWlyZWQgfHwgW107XG5cblx0XHRcdFx0c3dpdGNoICggZXh0ZW5zaW9uTmFtZSApIHtcblxuXHRcdFx0XHRcdGNhc2UgRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1VOTElUOlxuXHRcdFx0XHRcdFx0ZXh0ZW5zaW9uc1sgZXh0ZW5zaW9uTmFtZSBdID0gbmV3IEdMVEZNYXRlcmlhbHNVbmxpdEV4dGVuc2lvbigpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRjYXNlIEVYVEVOU0lPTlMuS0hSX0RSQUNPX01FU0hfQ09NUFJFU1NJT046XG5cdFx0XHRcdFx0XHRleHRlbnNpb25zWyBleHRlbnNpb25OYW1lIF0gPSBuZXcgR0xURkRyYWNvTWVzaENvbXByZXNzaW9uRXh0ZW5zaW9uKCBqc29uLCB0aGlzLmRyYWNvTG9hZGVyICk7XG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdGNhc2UgRVhURU5TSU9OUy5LSFJfVEVYVFVSRV9UUkFOU0ZPUk06XG5cdFx0XHRcdFx0XHRleHRlbnNpb25zWyBleHRlbnNpb25OYW1lIF0gPSBuZXcgR0xURlRleHR1cmVUcmFuc2Zvcm1FeHRlbnNpb24oKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0Y2FzZSBFWFRFTlNJT05TLktIUl9NRVNIX1FVQU5USVpBVElPTjpcblx0XHRcdFx0XHRcdGV4dGVuc2lvbnNbIGV4dGVuc2lvbk5hbWUgXSA9IG5ldyBHTFRGTWVzaFF1YW50aXphdGlvbkV4dGVuc2lvbigpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRkZWZhdWx0OlxuXG5cdFx0XHRcdFx0XHRpZiAoIGV4dGVuc2lvbnNSZXF1aXJlZC5pbmRleE9mKCBleHRlbnNpb25OYW1lICkgPj0gMCAmJiBwbHVnaW5zWyBleHRlbnNpb25OYW1lIF0gPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5HTFRGTG9hZGVyOiBVbmtub3duIGV4dGVuc2lvbiBcIicgKyBleHRlbnNpb25OYW1lICsgJ1wiLicgKTtcblxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0cGFyc2VyLnNldEV4dGVuc2lvbnMoIGV4dGVuc2lvbnMgKTtcblx0XHRwYXJzZXIuc2V0UGx1Z2lucyggcGx1Z2lucyApO1xuXHRcdHBhcnNlci5wYXJzZSggb25Mb2FkLCBvbkVycm9yICk7XG5cblx0fVxuXG5cdHBhcnNlQXN5bmMoIGRhdGEsIHBhdGggKSB7XG5cblx0XHRjb25zdCBzY29wZSA9IHRoaXM7XG5cblx0XHRyZXR1cm4gbmV3IFByb21pc2UoIGZ1bmN0aW9uICggcmVzb2x2ZSwgcmVqZWN0ICkge1xuXG5cdFx0XHRzY29wZS5wYXJzZSggZGF0YSwgcGF0aCwgcmVzb2x2ZSwgcmVqZWN0ICk7XG5cblx0XHR9ICk7XG5cblx0fVxuXG59XG5cbi8qIEdMVEZSRUdJU1RSWSAqL1xuXG5mdW5jdGlvbiBHTFRGUmVnaXN0cnkoKSB7XG5cblx0bGV0IG9iamVjdHMgPSB7fTtcblxuXHRyZXR1cm5cdHtcblxuXHRcdGdldDogZnVuY3Rpb24gKCBrZXkgKSB7XG5cblx0XHRcdHJldHVybiBvYmplY3RzWyBrZXkgXTtcblxuXHRcdH0sXG5cblx0XHRhZGQ6IGZ1bmN0aW9uICgga2V5LCBvYmplY3QgKSB7XG5cblx0XHRcdG9iamVjdHNbIGtleSBdID0gb2JqZWN0O1xuXG5cdFx0fSxcblxuXHRcdHJlbW92ZTogZnVuY3Rpb24gKCBrZXkgKSB7XG5cblx0XHRcdGRlbGV0ZSBvYmplY3RzWyBrZXkgXTtcblxuXHRcdH0sXG5cblx0XHRyZW1vdmVBbGw6IGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0b2JqZWN0cyA9IHt9O1xuXG5cdFx0fVxuXG5cdH07XG5cbn1cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKioqKioqIEVYVEVOU0lPTlMgKioqKioqKioqKiovXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5jb25zdCBFWFRFTlNJT05TID0ge1xuXHRLSFJfQklOQVJZX0dMVEY6ICdLSFJfYmluYXJ5X2dsVEYnLFxuXHRLSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTjogJ0tIUl9kcmFjb19tZXNoX2NvbXByZXNzaW9uJyxcblx0S0hSX0xJR0hUU19QVU5DVFVBTDogJ0tIUl9saWdodHNfcHVuY3R1YWwnLFxuXHRLSFJfTUFURVJJQUxTX0NMRUFSQ09BVDogJ0tIUl9tYXRlcmlhbHNfY2xlYXJjb2F0Jyxcblx0S0hSX01BVEVSSUFMU19JT1I6ICdLSFJfbWF0ZXJpYWxzX2lvcicsXG5cdEtIUl9NQVRFUklBTFNfU0hFRU46ICdLSFJfbWF0ZXJpYWxzX3NoZWVuJyxcblx0S0hSX01BVEVSSUFMU19TUEVDVUxBUjogJ0tIUl9tYXRlcmlhbHNfc3BlY3VsYXInLFxuXHRLSFJfTUFURVJJQUxTX1RSQU5TTUlTU0lPTjogJ0tIUl9tYXRlcmlhbHNfdHJhbnNtaXNzaW9uJyxcblx0S0hSX01BVEVSSUFMU19JUklERVNDRU5DRTogJ0tIUl9tYXRlcmlhbHNfaXJpZGVzY2VuY2UnLFxuXHRLSFJfTUFURVJJQUxTX1VOTElUOiAnS0hSX21hdGVyaWFsc191bmxpdCcsXG5cdEtIUl9NQVRFUklBTFNfVk9MVU1FOiAnS0hSX21hdGVyaWFsc192b2x1bWUnLFxuXHRLSFJfVEVYVFVSRV9CQVNJU1U6ICdLSFJfdGV4dHVyZV9iYXNpc3UnLFxuXHRLSFJfVEVYVFVSRV9UUkFOU0ZPUk06ICdLSFJfdGV4dHVyZV90cmFuc2Zvcm0nLFxuXHRLSFJfTUVTSF9RVUFOVElaQVRJT046ICdLSFJfbWVzaF9xdWFudGl6YXRpb24nLFxuXHRLSFJfTUFURVJJQUxTX0VNSVNTSVZFX1NUUkVOR1RIOiAnS0hSX21hdGVyaWFsc19lbWlzc2l2ZV9zdHJlbmd0aCcsXG5cdEVYVF9URVhUVVJFX1dFQlA6ICdFWFRfdGV4dHVyZV93ZWJwJyxcblx0RVhUX01FU0hPUFRfQ09NUFJFU1NJT046ICdFWFRfbWVzaG9wdF9jb21wcmVzc2lvbicsXG5cdEVYVF9NRVNIX0dQVV9JTlNUQU5DSU5HOiAnRVhUX21lc2hfZ3B1X2luc3RhbmNpbmcnXG59O1xuXG4vKipcbiAqIFB1bmN0dWFsIExpZ2h0cyBFeHRlbnNpb25cbiAqXG4gKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfbGlnaHRzX3B1bmN0dWFsXG4gKi9cbmNsYXNzIEdMVEZMaWdodHNFeHRlbnNpb24ge1xuXG5cdGNvbnN0cnVjdG9yKCBwYXJzZXIgKSB7XG5cblx0XHR0aGlzLnBhcnNlciA9IHBhcnNlcjtcblx0XHR0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9MSUdIVFNfUFVOQ1RVQUw7XG5cblx0XHQvLyBPYmplY3QzRCBpbnN0YW5jZSBjYWNoZXNcblx0XHR0aGlzLmNhY2hlID0geyByZWZzOiB7fSwgdXNlczoge30gfTtcblxuXHR9XG5cblx0X21hcmtEZWZzKCkge1xuXG5cdFx0Y29uc3QgcGFyc2VyID0gdGhpcy5wYXJzZXI7XG5cdFx0Y29uc3Qgbm9kZURlZnMgPSB0aGlzLnBhcnNlci5qc29uLm5vZGVzIHx8IFtdO1xuXG5cdFx0Zm9yICggbGV0IG5vZGVJbmRleCA9IDAsIG5vZGVMZW5ndGggPSBub2RlRGVmcy5sZW5ndGg7IG5vZGVJbmRleCA8IG5vZGVMZW5ndGg7IG5vZGVJbmRleCArKyApIHtcblxuXHRcdFx0Y29uc3Qgbm9kZURlZiA9IG5vZGVEZWZzWyBub2RlSW5kZXggXTtcblxuXHRcdFx0aWYgKCBub2RlRGVmLmV4dGVuc2lvbnNcblx0XHRcdFx0XHQmJiBub2RlRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdXG5cdFx0XHRcdFx0JiYgbm9kZURlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXS5saWdodCAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdHBhcnNlci5fYWRkTm9kZVJlZiggdGhpcy5jYWNoZSwgbm9kZURlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXS5saWdodCApO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0fVxuXG5cdF9sb2FkTGlnaHQoIGxpZ2h0SW5kZXggKSB7XG5cblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjtcblx0XHRjb25zdCBjYWNoZUtleSA9ICdsaWdodDonICsgbGlnaHRJbmRleDtcblx0XHRsZXQgZGVwZW5kZW5jeSA9IHBhcnNlci5jYWNoZS5nZXQoIGNhY2hlS2V5ICk7XG5cblx0XHRpZiAoIGRlcGVuZGVuY3kgKSByZXR1cm4gZGVwZW5kZW5jeTtcblxuXHRcdGNvbnN0IGpzb24gPSBwYXJzZXIuanNvbjtcblx0XHRjb25zdCBleHRlbnNpb25zID0gKCBqc29uLmV4dGVuc2lvbnMgJiYganNvbi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXSApIHx8IHt9O1xuXHRcdGNvbnN0IGxpZ2h0RGVmcyA9IGV4dGVuc2lvbnMubGlnaHRzIHx8IFtdO1xuXHRcdGNvbnN0IGxpZ2h0RGVmID0gbGlnaHREZWZzWyBsaWdodEluZGV4IF07XG5cdFx0bGV0IGxpZ2h0Tm9kZTtcblxuXHRcdGNvbnN0IGNvbG9yID0gbmV3IENvbG9yKCAweGZmZmZmZiApO1xuXG5cdFx0aWYgKCBsaWdodERlZi5jb2xvciAhPT0gdW5kZWZpbmVkICkgY29sb3IuZnJvbUFycmF5KCBsaWdodERlZi5jb2xvciApO1xuXG5cdFx0Y29uc3QgcmFuZ2UgPSBsaWdodERlZi5yYW5nZSAhPT0gdW5kZWZpbmVkID8gbGlnaHREZWYucmFuZ2UgOiAwO1xuXG5cdFx0c3dpdGNoICggbGlnaHREZWYudHlwZSApIHtcblxuXHRcdFx0Y2FzZSAnZGlyZWN0aW9uYWwnOlxuXHRcdFx0XHRsaWdodE5vZGUgPSBuZXcgRGlyZWN0aW9uYWxMaWdodCggY29sb3IgKTtcblx0XHRcdFx0bGlnaHROb2RlLnRhcmdldC5wb3NpdGlvbi5zZXQoIDAsIDAsIC0gMSApO1xuXHRcdFx0XHRsaWdodE5vZGUuYWRkKCBsaWdodE5vZGUudGFyZ2V0ICk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdwb2ludCc6XG5cdFx0XHRcdGxpZ2h0Tm9kZSA9IG5ldyBQb2ludExpZ2h0KCBjb2xvciApO1xuXHRcdFx0XHRsaWdodE5vZGUuZGlzdGFuY2UgPSByYW5nZTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ3Nwb3QnOlxuXHRcdFx0XHRsaWdodE5vZGUgPSBuZXcgU3BvdExpZ2h0KCBjb2xvciApO1xuXHRcdFx0XHRsaWdodE5vZGUuZGlzdGFuY2UgPSByYW5nZTtcblx0XHRcdFx0Ly8gSGFuZGxlIHNwb3RsaWdodCBwcm9wZXJ0aWVzLlxuXHRcdFx0XHRsaWdodERlZi5zcG90ID0gbGlnaHREZWYuc3BvdCB8fCB7fTtcblx0XHRcdFx0bGlnaHREZWYuc3BvdC5pbm5lckNvbmVBbmdsZSA9IGxpZ2h0RGVmLnNwb3QuaW5uZXJDb25lQW5nbGUgIT09IHVuZGVmaW5lZCA/IGxpZ2h0RGVmLnNwb3QuaW5uZXJDb25lQW5nbGUgOiAwO1xuXHRcdFx0XHRsaWdodERlZi5zcG90Lm91dGVyQ29uZUFuZ2xlID0gbGlnaHREZWYuc3BvdC5vdXRlckNvbmVBbmdsZSAhPT0gdW5kZWZpbmVkID8gbGlnaHREZWYuc3BvdC5vdXRlckNvbmVBbmdsZSA6IE1hdGguUEkgLyA0LjA7XG5cdFx0XHRcdGxpZ2h0Tm9kZS5hbmdsZSA9IGxpZ2h0RGVmLnNwb3Qub3V0ZXJDb25lQW5nbGU7XG5cdFx0XHRcdGxpZ2h0Tm9kZS5wZW51bWJyYSA9IDEuMCAtIGxpZ2h0RGVmLnNwb3QuaW5uZXJDb25lQW5nbGUgLyBsaWdodERlZi5zcG90Lm91dGVyQ29uZUFuZ2xlO1xuXHRcdFx0XHRsaWdodE5vZGUudGFyZ2V0LnBvc2l0aW9uLnNldCggMCwgMCwgLSAxICk7XG5cdFx0XHRcdGxpZ2h0Tm9kZS5hZGQoIGxpZ2h0Tm9kZS50YXJnZXQgKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvciggJ1RIUkVFLkdMVEZMb2FkZXI6IFVuZXhwZWN0ZWQgbGlnaHQgdHlwZTogJyArIGxpZ2h0RGVmLnR5cGUgKTtcblxuXHRcdH1cblxuXHRcdC8vIFNvbWUgbGlnaHRzIChlLmcuIHNwb3QpIGRlZmF1bHQgdG8gYSBwb3NpdGlvbiBvdGhlciB0aGFuIHRoZSBvcmlnaW4uIFJlc2V0IHRoZSBwb3NpdGlvblxuXHRcdC8vIGhlcmUsIGJlY2F1c2Ugbm9kZS1sZXZlbCBwYXJzaW5nIHdpbGwgb25seSBvdmVycmlkZSBwb3NpdGlvbiBpZiBleHBsaWNpdGx5IHNwZWNpZmllZC5cblx0XHRsaWdodE5vZGUucG9zaXRpb24uc2V0KCAwLCAwLCAwICk7XG5cblx0XHRsaWdodE5vZGUuZGVjYXkgPSAyO1xuXG5cdFx0YXNzaWduRXh0cmFzVG9Vc2VyRGF0YSggbGlnaHROb2RlLCBsaWdodERlZiApO1xuXG5cdFx0aWYgKCBsaWdodERlZi5pbnRlbnNpdHkgIT09IHVuZGVmaW5lZCApIGxpZ2h0Tm9kZS5pbnRlbnNpdHkgPSBsaWdodERlZi5pbnRlbnNpdHk7XG5cblx0XHRsaWdodE5vZGUubmFtZSA9IHBhcnNlci5jcmVhdGVVbmlxdWVOYW1lKCBsaWdodERlZi5uYW1lIHx8ICggJ2xpZ2h0XycgKyBsaWdodEluZGV4ICkgKTtcblxuXHRcdGRlcGVuZGVuY3kgPSBQcm9taXNlLnJlc29sdmUoIGxpZ2h0Tm9kZSApO1xuXG5cdFx0cGFyc2VyLmNhY2hlLmFkZCggY2FjaGVLZXksIGRlcGVuZGVuY3kgKTtcblxuXHRcdHJldHVybiBkZXBlbmRlbmN5O1xuXG5cdH1cblxuXHRnZXREZXBlbmRlbmN5KCB0eXBlLCBpbmRleCApIHtcblxuXHRcdGlmICggdHlwZSAhPT0gJ2xpZ2h0JyApIHJldHVybjtcblxuXHRcdHJldHVybiB0aGlzLl9sb2FkTGlnaHQoIGluZGV4ICk7XG5cblx0fVxuXG5cdGNyZWF0ZU5vZGVBdHRhY2htZW50KCBub2RlSW5kZXggKSB7XG5cblx0XHRjb25zdCBzZWxmID0gdGhpcztcblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjtcblx0XHRjb25zdCBqc29uID0gcGFyc2VyLmpzb247XG5cdFx0Y29uc3Qgbm9kZURlZiA9IGpzb24ubm9kZXNbIG5vZGVJbmRleCBdO1xuXHRcdGNvbnN0IGxpZ2h0RGVmID0gKCBub2RlRGVmLmV4dGVuc2lvbnMgJiYgbm9kZURlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXSApIHx8IHt9O1xuXHRcdGNvbnN0IGxpZ2h0SW5kZXggPSBsaWdodERlZi5saWdodDtcblxuXHRcdGlmICggbGlnaHRJbmRleCA9PT0gdW5kZWZpbmVkICkgcmV0dXJuIG51bGw7XG5cblx0XHRyZXR1cm4gdGhpcy5fbG9hZExpZ2h0KCBsaWdodEluZGV4ICkudGhlbiggZnVuY3Rpb24gKCBsaWdodCApIHtcblxuXHRcdFx0cmV0dXJuIHBhcnNlci5fZ2V0Tm9kZVJlZiggc2VsZi5jYWNoZSwgbGlnaHRJbmRleCwgbGlnaHQgKTtcblxuXHRcdH0gKTtcblxuXHR9XG5cbn1cblxuLyoqXG4gKiBVbmxpdCBNYXRlcmlhbHMgRXh0ZW5zaW9uXG4gKlxuICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX21hdGVyaWFsc191bmxpdFxuICovXG5jbGFzcyBHTFRGTWF0ZXJpYWxzVW5saXRFeHRlbnNpb24ge1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuXG5cdFx0dGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1VOTElUO1xuXG5cdH1cblxuXHRnZXRNYXRlcmlhbFR5cGUoKSB7XG5cblx0XHRyZXR1cm4gTWVzaEJhc2ljTWF0ZXJpYWw7XG5cblx0fVxuXG5cdGV4dGVuZFBhcmFtcyggbWF0ZXJpYWxQYXJhbXMsIG1hdGVyaWFsRGVmLCBwYXJzZXIgKSB7XG5cblx0XHRjb25zdCBwZW5kaW5nID0gW107XG5cblx0XHRtYXRlcmlhbFBhcmFtcy5jb2xvciA9IG5ldyBDb2xvciggMS4wLCAxLjAsIDEuMCApO1xuXHRcdG1hdGVyaWFsUGFyYW1zLm9wYWNpdHkgPSAxLjA7XG5cblx0XHRjb25zdCBtZXRhbGxpY1JvdWdobmVzcyA9IG1hdGVyaWFsRGVmLnBick1ldGFsbGljUm91Z2huZXNzO1xuXG5cdFx0aWYgKCBtZXRhbGxpY1JvdWdobmVzcyApIHtcblxuXHRcdFx0aWYgKCBBcnJheS5pc0FycmF5KCBtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JGYWN0b3IgKSApIHtcblxuXHRcdFx0XHRjb25zdCBhcnJheSA9IG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvckZhY3RvcjtcblxuXHRcdFx0XHRtYXRlcmlhbFBhcmFtcy5jb2xvci5mcm9tQXJyYXkoIGFycmF5ICk7XG5cdFx0XHRcdG1hdGVyaWFsUGFyYW1zLm9wYWNpdHkgPSBhcnJheVsgMyBdO1xuXG5cdFx0XHR9XG5cblx0XHRcdGlmICggbWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yVGV4dHVyZSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdHBlbmRpbmcucHVzaCggcGFyc2VyLmFzc2lnblRleHR1cmUoIG1hdGVyaWFsUGFyYW1zLCAnbWFwJywgbWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yVGV4dHVyZSwgc1JHQkVuY29kaW5nICkgKTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIFByb21pc2UuYWxsKCBwZW5kaW5nICk7XG5cblx0fVxuXG59XG5cbi8qKlxuICogTWF0ZXJpYWxzIEVtaXNzaXZlIFN0cmVuZ3RoIEV4dGVuc2lvblxuICpcbiAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iLzU3NjhiM2NlMGVmMzJiYzM5Y2RmMWJlZjEwYjk0ODU4NjYzNWVhZDMvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfbWF0ZXJpYWxzX2VtaXNzaXZlX3N0cmVuZ3RoL1JFQURNRS5tZFxuICovXG5jbGFzcyBHTFRGTWF0ZXJpYWxzRW1pc3NpdmVTdHJlbmd0aEV4dGVuc2lvbiB7XG5cblx0Y29uc3RydWN0b3IoIHBhcnNlciApIHtcblxuXHRcdHRoaXMucGFyc2VyID0gcGFyc2VyO1xuXHRcdHRoaXMubmFtZSA9IEVYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19FTUlTU0lWRV9TVFJFTkdUSDtcblxuXHR9XG5cblx0ZXh0ZW5kTWF0ZXJpYWxQYXJhbXMoIG1hdGVyaWFsSW5kZXgsIG1hdGVyaWFsUGFyYW1zICkge1xuXG5cdFx0Y29uc3QgcGFyc2VyID0gdGhpcy5wYXJzZXI7XG5cdFx0Y29uc3QgbWF0ZXJpYWxEZWYgPSBwYXJzZXIuanNvbi5tYXRlcmlhbHNbIG1hdGVyaWFsSW5kZXggXTtcblxuXHRcdGlmICggISBtYXRlcmlhbERlZi5leHRlbnNpb25zIHx8ICEgbWF0ZXJpYWxEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF0gKSB7XG5cblx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IGVtaXNzaXZlU3RyZW5ndGggPSBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXS5lbWlzc2l2ZVN0cmVuZ3RoO1xuXG5cdFx0aWYgKCBlbWlzc2l2ZVN0cmVuZ3RoICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdG1hdGVyaWFsUGFyYW1zLmVtaXNzaXZlSW50ZW5zaXR5ID0gZW1pc3NpdmVTdHJlbmd0aDtcblxuXHRcdH1cblxuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcblxuXHR9XG5cbn1cblxuLyoqXG4gKiBDbGVhcmNvYXQgTWF0ZXJpYWxzIEV4dGVuc2lvblxuICpcbiAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9tYXRlcmlhbHNfY2xlYXJjb2F0XG4gKi9cbmNsYXNzIEdMVEZNYXRlcmlhbHNDbGVhcmNvYXRFeHRlbnNpb24ge1xuXG5cdGNvbnN0cnVjdG9yKCBwYXJzZXIgKSB7XG5cblx0XHR0aGlzLnBhcnNlciA9IHBhcnNlcjtcblx0XHR0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfQ0xFQVJDT0FUO1xuXG5cdH1cblxuXHRnZXRNYXRlcmlhbFR5cGUoIG1hdGVyaWFsSW5kZXggKSB7XG5cblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjtcblx0XHRjb25zdCBtYXRlcmlhbERlZiA9IHBhcnNlci5qc29uLm1hdGVyaWFsc1sgbWF0ZXJpYWxJbmRleCBdO1xuXG5cdFx0aWYgKCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnMgfHwgISBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXSApIHJldHVybiBudWxsO1xuXG5cdFx0cmV0dXJuIE1lc2hQaHlzaWNhbE1hdGVyaWFsO1xuXG5cdH1cblxuXHRleHRlbmRNYXRlcmlhbFBhcmFtcyggbWF0ZXJpYWxJbmRleCwgbWF0ZXJpYWxQYXJhbXMgKSB7XG5cblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjtcblx0XHRjb25zdCBtYXRlcmlhbERlZiA9IHBhcnNlci5qc29uLm1hdGVyaWFsc1sgbWF0ZXJpYWxJbmRleCBdO1xuXG5cdFx0aWYgKCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnMgfHwgISBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXSApIHtcblxuXHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgcGVuZGluZyA9IFtdO1xuXG5cdFx0Y29uc3QgZXh0ZW5zaW9uID0gbWF0ZXJpYWxEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF07XG5cblx0XHRpZiAoIGV4dGVuc2lvbi5jbGVhcmNvYXRGYWN0b3IgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0bWF0ZXJpYWxQYXJhbXMuY2xlYXJjb2F0ID0gZXh0ZW5zaW9uLmNsZWFyY29hdEZhY3RvcjtcblxuXHRcdH1cblxuXHRcdGlmICggZXh0ZW5zaW9uLmNsZWFyY29hdFRleHR1cmUgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0cGVuZGluZy5wdXNoKCBwYXJzZXIuYXNzaWduVGV4dHVyZSggbWF0ZXJpYWxQYXJhbXMsICdjbGVhcmNvYXRNYXAnLCBleHRlbnNpb24uY2xlYXJjb2F0VGV4dHVyZSApICk7XG5cblx0XHR9XG5cblx0XHRpZiAoIGV4dGVuc2lvbi5jbGVhcmNvYXRSb3VnaG5lc3NGYWN0b3IgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0bWF0ZXJpYWxQYXJhbXMuY2xlYXJjb2F0Um91Z2huZXNzID0gZXh0ZW5zaW9uLmNsZWFyY29hdFJvdWdobmVzc0ZhY3RvcjtcblxuXHRcdH1cblxuXHRcdGlmICggZXh0ZW5zaW9uLmNsZWFyY29hdFJvdWdobmVzc1RleHR1cmUgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0cGVuZGluZy5wdXNoKCBwYXJzZXIuYXNzaWduVGV4dHVyZSggbWF0ZXJpYWxQYXJhbXMsICdjbGVhcmNvYXRSb3VnaG5lc3NNYXAnLCBleHRlbnNpb24uY2xlYXJjb2F0Um91Z2huZXNzVGV4dHVyZSApICk7XG5cblx0XHR9XG5cblx0XHRpZiAoIGV4dGVuc2lvbi5jbGVhcmNvYXROb3JtYWxUZXh0dXJlICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdHBlbmRpbmcucHVzaCggcGFyc2VyLmFzc2lnblRleHR1cmUoIG1hdGVyaWFsUGFyYW1zLCAnY2xlYXJjb2F0Tm9ybWFsTWFwJywgZXh0ZW5zaW9uLmNsZWFyY29hdE5vcm1hbFRleHR1cmUgKSApO1xuXG5cdFx0XHRpZiAoIGV4dGVuc2lvbi5jbGVhcmNvYXROb3JtYWxUZXh0dXJlLnNjYWxlICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0Y29uc3Qgc2NhbGUgPSBleHRlbnNpb24uY2xlYXJjb2F0Tm9ybWFsVGV4dHVyZS5zY2FsZTtcblxuXHRcdFx0XHRtYXRlcmlhbFBhcmFtcy5jbGVhcmNvYXROb3JtYWxTY2FsZSA9IG5ldyBWZWN0b3IyKCBzY2FsZSwgc2NhbGUgKTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIFByb21pc2UuYWxsKCBwZW5kaW5nICk7XG5cblx0fVxuXG59XG5cbi8qKlxuICogSXJpZGVzY2VuY2UgTWF0ZXJpYWxzIEV4dGVuc2lvblxuICpcbiAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9tYXRlcmlhbHNfaXJpZGVzY2VuY2VcbiAqL1xuY2xhc3MgR0xURk1hdGVyaWFsc0lyaWRlc2NlbmNlRXh0ZW5zaW9uIHtcblxuXHRjb25zdHJ1Y3RvciggcGFyc2VyICkge1xuXG5cdFx0dGhpcy5wYXJzZXIgPSBwYXJzZXI7XG5cdFx0dGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX0lSSURFU0NFTkNFO1xuXG5cdH1cblxuXHRnZXRNYXRlcmlhbFR5cGUoIG1hdGVyaWFsSW5kZXggKSB7XG5cblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjtcblx0XHRjb25zdCBtYXRlcmlhbERlZiA9IHBhcnNlci5qc29uLm1hdGVyaWFsc1sgbWF0ZXJpYWxJbmRleCBdO1xuXG5cdFx0aWYgKCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnMgfHwgISBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXSApIHJldHVybiBudWxsO1xuXG5cdFx0cmV0dXJuIE1lc2hQaHlzaWNhbE1hdGVyaWFsO1xuXG5cdH1cblxuXHRleHRlbmRNYXRlcmlhbFBhcmFtcyggbWF0ZXJpYWxJbmRleCwgbWF0ZXJpYWxQYXJhbXMgKSB7XG5cblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjtcblx0XHRjb25zdCBtYXRlcmlhbERlZiA9IHBhcnNlci5qc29uLm1hdGVyaWFsc1sgbWF0ZXJpYWxJbmRleCBdO1xuXG5cdFx0aWYgKCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnMgfHwgISBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXSApIHtcblxuXHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgcGVuZGluZyA9IFtdO1xuXG5cdFx0Y29uc3QgZXh0ZW5zaW9uID0gbWF0ZXJpYWxEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF07XG5cblx0XHRpZiAoIGV4dGVuc2lvbi5pcmlkZXNjZW5jZUZhY3RvciAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRtYXRlcmlhbFBhcmFtcy5pcmlkZXNjZW5jZSA9IGV4dGVuc2lvbi5pcmlkZXNjZW5jZUZhY3RvcjtcblxuXHRcdH1cblxuXHRcdGlmICggZXh0ZW5zaW9uLmlyaWRlc2NlbmNlVGV4dHVyZSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRwZW5kaW5nLnB1c2goIHBhcnNlci5hc3NpZ25UZXh0dXJlKCBtYXRlcmlhbFBhcmFtcywgJ2lyaWRlc2NlbmNlTWFwJywgZXh0ZW5zaW9uLmlyaWRlc2NlbmNlVGV4dHVyZSApICk7XG5cblx0XHR9XG5cblx0XHRpZiAoIGV4dGVuc2lvbi5pcmlkZXNjZW5jZUlvciAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRtYXRlcmlhbFBhcmFtcy5pcmlkZXNjZW5jZUlPUiA9IGV4dGVuc2lvbi5pcmlkZXNjZW5jZUlvcjtcblxuXHRcdH1cblxuXHRcdGlmICggbWF0ZXJpYWxQYXJhbXMuaXJpZGVzY2VuY2VUaGlja25lc3NSYW5nZSA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRtYXRlcmlhbFBhcmFtcy5pcmlkZXNjZW5jZVRoaWNrbmVzc1JhbmdlID0gWyAxMDAsIDQwMCBdO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBleHRlbnNpb24uaXJpZGVzY2VuY2VUaGlja25lc3NNaW5pbXVtICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdG1hdGVyaWFsUGFyYW1zLmlyaWRlc2NlbmNlVGhpY2tuZXNzUmFuZ2VbIDAgXSA9IGV4dGVuc2lvbi5pcmlkZXNjZW5jZVRoaWNrbmVzc01pbmltdW07XG5cblx0XHR9XG5cblx0XHRpZiAoIGV4dGVuc2lvbi5pcmlkZXNjZW5jZVRoaWNrbmVzc01heGltdW0gIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0bWF0ZXJpYWxQYXJhbXMuaXJpZGVzY2VuY2VUaGlja25lc3NSYW5nZVsgMSBdID0gZXh0ZW5zaW9uLmlyaWRlc2NlbmNlVGhpY2tuZXNzTWF4aW11bTtcblxuXHRcdH1cblxuXHRcdGlmICggZXh0ZW5zaW9uLmlyaWRlc2NlbmNlVGhpY2tuZXNzVGV4dHVyZSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRwZW5kaW5nLnB1c2goIHBhcnNlci5hc3NpZ25UZXh0dXJlKCBtYXRlcmlhbFBhcmFtcywgJ2lyaWRlc2NlbmNlVGhpY2tuZXNzTWFwJywgZXh0ZW5zaW9uLmlyaWRlc2NlbmNlVGhpY2tuZXNzVGV4dHVyZSApICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gUHJvbWlzZS5hbGwoIHBlbmRpbmcgKTtcblxuXHR9XG5cbn1cblxuLyoqXG4gKiBTaGVlbiBNYXRlcmlhbHMgRXh0ZW5zaW9uXG4gKlxuICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFpbi9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9tYXRlcmlhbHNfc2hlZW5cbiAqL1xuY2xhc3MgR0xURk1hdGVyaWFsc1NoZWVuRXh0ZW5zaW9uIHtcblxuXHRjb25zdHJ1Y3RvciggcGFyc2VyICkge1xuXG5cdFx0dGhpcy5wYXJzZXIgPSBwYXJzZXI7XG5cdFx0dGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1NIRUVOO1xuXG5cdH1cblxuXHRnZXRNYXRlcmlhbFR5cGUoIG1hdGVyaWFsSW5kZXggKSB7XG5cblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjtcblx0XHRjb25zdCBtYXRlcmlhbERlZiA9IHBhcnNlci5qc29uLm1hdGVyaWFsc1sgbWF0ZXJpYWxJbmRleCBdO1xuXG5cdFx0aWYgKCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnMgfHwgISBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXSApIHJldHVybiBudWxsO1xuXG5cdFx0cmV0dXJuIE1lc2hQaHlzaWNhbE1hdGVyaWFsO1xuXG5cdH1cblxuXHRleHRlbmRNYXRlcmlhbFBhcmFtcyggbWF0ZXJpYWxJbmRleCwgbWF0ZXJpYWxQYXJhbXMgKSB7XG5cblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjtcblx0XHRjb25zdCBtYXRlcmlhbERlZiA9IHBhcnNlci5qc29uLm1hdGVyaWFsc1sgbWF0ZXJpYWxJbmRleCBdO1xuXG5cdFx0aWYgKCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnMgfHwgISBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXSApIHtcblxuXHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgcGVuZGluZyA9IFtdO1xuXG5cdFx0bWF0ZXJpYWxQYXJhbXMuc2hlZW5Db2xvciA9IG5ldyBDb2xvciggMCwgMCwgMCApO1xuXHRcdG1hdGVyaWFsUGFyYW1zLnNoZWVuUm91Z2huZXNzID0gMDtcblx0XHRtYXRlcmlhbFBhcmFtcy5zaGVlbiA9IDE7XG5cblx0XHRjb25zdCBleHRlbnNpb24gPSBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXTtcblxuXHRcdGlmICggZXh0ZW5zaW9uLnNoZWVuQ29sb3JGYWN0b3IgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0bWF0ZXJpYWxQYXJhbXMuc2hlZW5Db2xvci5mcm9tQXJyYXkoIGV4dGVuc2lvbi5zaGVlbkNvbG9yRmFjdG9yICk7XG5cblx0XHR9XG5cblx0XHRpZiAoIGV4dGVuc2lvbi5zaGVlblJvdWdobmVzc0ZhY3RvciAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRtYXRlcmlhbFBhcmFtcy5zaGVlblJvdWdobmVzcyA9IGV4dGVuc2lvbi5zaGVlblJvdWdobmVzc0ZhY3RvcjtcblxuXHRcdH1cblxuXHRcdGlmICggZXh0ZW5zaW9uLnNoZWVuQ29sb3JUZXh0dXJlICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdHBlbmRpbmcucHVzaCggcGFyc2VyLmFzc2lnblRleHR1cmUoIG1hdGVyaWFsUGFyYW1zLCAnc2hlZW5Db2xvck1hcCcsIGV4dGVuc2lvbi5zaGVlbkNvbG9yVGV4dHVyZSwgc1JHQkVuY29kaW5nICkgKTtcblxuXHRcdH1cblxuXHRcdGlmICggZXh0ZW5zaW9uLnNoZWVuUm91Z2huZXNzVGV4dHVyZSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRwZW5kaW5nLnB1c2goIHBhcnNlci5hc3NpZ25UZXh0dXJlKCBtYXRlcmlhbFBhcmFtcywgJ3NoZWVuUm91Z2huZXNzTWFwJywgZXh0ZW5zaW9uLnNoZWVuUm91Z2huZXNzVGV4dHVyZSApICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gUHJvbWlzZS5hbGwoIHBlbmRpbmcgKTtcblxuXHR9XG5cbn1cblxuLyoqXG4gKiBUcmFuc21pc3Npb24gTWF0ZXJpYWxzIEV4dGVuc2lvblxuICpcbiAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9tYXRlcmlhbHNfdHJhbnNtaXNzaW9uXG4gKiBEcmFmdDogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3B1bGwvMTY5OFxuICovXG5jbGFzcyBHTFRGTWF0ZXJpYWxzVHJhbnNtaXNzaW9uRXh0ZW5zaW9uIHtcblxuXHRjb25zdHJ1Y3RvciggcGFyc2VyICkge1xuXG5cdFx0dGhpcy5wYXJzZXIgPSBwYXJzZXI7XG5cdFx0dGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1RSQU5TTUlTU0lPTjtcblxuXHR9XG5cblx0Z2V0TWF0ZXJpYWxUeXBlKCBtYXRlcmlhbEluZGV4ICkge1xuXG5cdFx0Y29uc3QgcGFyc2VyID0gdGhpcy5wYXJzZXI7XG5cdFx0Y29uc3QgbWF0ZXJpYWxEZWYgPSBwYXJzZXIuanNvbi5tYXRlcmlhbHNbIG1hdGVyaWFsSW5kZXggXTtcblxuXHRcdGlmICggISBtYXRlcmlhbERlZi5leHRlbnNpb25zIHx8ICEgbWF0ZXJpYWxEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF0gKSByZXR1cm4gbnVsbDtcblxuXHRcdHJldHVybiBNZXNoUGh5c2ljYWxNYXRlcmlhbDtcblxuXHR9XG5cblx0ZXh0ZW5kTWF0ZXJpYWxQYXJhbXMoIG1hdGVyaWFsSW5kZXgsIG1hdGVyaWFsUGFyYW1zICkge1xuXG5cdFx0Y29uc3QgcGFyc2VyID0gdGhpcy5wYXJzZXI7XG5cdFx0Y29uc3QgbWF0ZXJpYWxEZWYgPSBwYXJzZXIuanNvbi5tYXRlcmlhbHNbIG1hdGVyaWFsSW5kZXggXTtcblxuXHRcdGlmICggISBtYXRlcmlhbERlZi5leHRlbnNpb25zIHx8ICEgbWF0ZXJpYWxEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF0gKSB7XG5cblx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IHBlbmRpbmcgPSBbXTtcblxuXHRcdGNvbnN0IGV4dGVuc2lvbiA9IG1hdGVyaWFsRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdO1xuXG5cdFx0aWYgKCBleHRlbnNpb24udHJhbnNtaXNzaW9uRmFjdG9yICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdG1hdGVyaWFsUGFyYW1zLnRyYW5zbWlzc2lvbiA9IGV4dGVuc2lvbi50cmFuc21pc3Npb25GYWN0b3I7XG5cblx0XHR9XG5cblx0XHRpZiAoIGV4dGVuc2lvbi50cmFuc21pc3Npb25UZXh0dXJlICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdHBlbmRpbmcucHVzaCggcGFyc2VyLmFzc2lnblRleHR1cmUoIG1hdGVyaWFsUGFyYW1zLCAndHJhbnNtaXNzaW9uTWFwJywgZXh0ZW5zaW9uLnRyYW5zbWlzc2lvblRleHR1cmUgKSApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIFByb21pc2UuYWxsKCBwZW5kaW5nICk7XG5cblx0fVxuXG59XG5cbi8qKlxuICogTWF0ZXJpYWxzIFZvbHVtZSBFeHRlbnNpb25cbiAqXG4gKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfbWF0ZXJpYWxzX3ZvbHVtZVxuICovXG5jbGFzcyBHTFRGTWF0ZXJpYWxzVm9sdW1lRXh0ZW5zaW9uIHtcblxuXHRjb25zdHJ1Y3RvciggcGFyc2VyICkge1xuXG5cdFx0dGhpcy5wYXJzZXIgPSBwYXJzZXI7XG5cdFx0dGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1ZPTFVNRTtcblxuXHR9XG5cblx0Z2V0TWF0ZXJpYWxUeXBlKCBtYXRlcmlhbEluZGV4ICkge1xuXG5cdFx0Y29uc3QgcGFyc2VyID0gdGhpcy5wYXJzZXI7XG5cdFx0Y29uc3QgbWF0ZXJpYWxEZWYgPSBwYXJzZXIuanNvbi5tYXRlcmlhbHNbIG1hdGVyaWFsSW5kZXggXTtcblxuXHRcdGlmICggISBtYXRlcmlhbERlZi5leHRlbnNpb25zIHx8ICEgbWF0ZXJpYWxEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF0gKSByZXR1cm4gbnVsbDtcblxuXHRcdHJldHVybiBNZXNoUGh5c2ljYWxNYXRlcmlhbDtcblxuXHR9XG5cblx0ZXh0ZW5kTWF0ZXJpYWxQYXJhbXMoIG1hdGVyaWFsSW5kZXgsIG1hdGVyaWFsUGFyYW1zICkge1xuXG5cdFx0Y29uc3QgcGFyc2VyID0gdGhpcy5wYXJzZXI7XG5cdFx0Y29uc3QgbWF0ZXJpYWxEZWYgPSBwYXJzZXIuanNvbi5tYXRlcmlhbHNbIG1hdGVyaWFsSW5kZXggXTtcblxuXHRcdGlmICggISBtYXRlcmlhbERlZi5leHRlbnNpb25zIHx8ICEgbWF0ZXJpYWxEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF0gKSB7XG5cblx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IHBlbmRpbmcgPSBbXTtcblxuXHRcdGNvbnN0IGV4dGVuc2lvbiA9IG1hdGVyaWFsRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdO1xuXG5cdFx0bWF0ZXJpYWxQYXJhbXMudGhpY2tuZXNzID0gZXh0ZW5zaW9uLnRoaWNrbmVzc0ZhY3RvciAhPT0gdW5kZWZpbmVkID8gZXh0ZW5zaW9uLnRoaWNrbmVzc0ZhY3RvciA6IDA7XG5cblx0XHRpZiAoIGV4dGVuc2lvbi50aGlja25lc3NUZXh0dXJlICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdHBlbmRpbmcucHVzaCggcGFyc2VyLmFzc2lnblRleHR1cmUoIG1hdGVyaWFsUGFyYW1zLCAndGhpY2tuZXNzTWFwJywgZXh0ZW5zaW9uLnRoaWNrbmVzc1RleHR1cmUgKSApO1xuXG5cdFx0fVxuXG5cdFx0bWF0ZXJpYWxQYXJhbXMuYXR0ZW51YXRpb25EaXN0YW5jZSA9IGV4dGVuc2lvbi5hdHRlbnVhdGlvbkRpc3RhbmNlIHx8IEluZmluaXR5O1xuXG5cdFx0Y29uc3QgY29sb3JBcnJheSA9IGV4dGVuc2lvbi5hdHRlbnVhdGlvbkNvbG9yIHx8IFsgMSwgMSwgMSBdO1xuXHRcdG1hdGVyaWFsUGFyYW1zLmF0dGVudWF0aW9uQ29sb3IgPSBuZXcgQ29sb3IoIGNvbG9yQXJyYXlbIDAgXSwgY29sb3JBcnJheVsgMSBdLCBjb2xvckFycmF5WyAyIF0gKTtcblxuXHRcdHJldHVybiBQcm9taXNlLmFsbCggcGVuZGluZyApO1xuXG5cdH1cblxufVxuXG4vKipcbiAqIE1hdGVyaWFscyBpb3IgRXh0ZW5zaW9uXG4gKlxuICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX21hdGVyaWFsc19pb3JcbiAqL1xuY2xhc3MgR0xURk1hdGVyaWFsc0lvckV4dGVuc2lvbiB7XG5cblx0Y29uc3RydWN0b3IoIHBhcnNlciApIHtcblxuXHRcdHRoaXMucGFyc2VyID0gcGFyc2VyO1xuXHRcdHRoaXMubmFtZSA9IEVYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19JT1I7XG5cblx0fVxuXG5cdGdldE1hdGVyaWFsVHlwZSggbWF0ZXJpYWxJbmRleCApIHtcblxuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXMucGFyc2VyO1xuXHRcdGNvbnN0IG1hdGVyaWFsRGVmID0gcGFyc2VyLmpzb24ubWF0ZXJpYWxzWyBtYXRlcmlhbEluZGV4IF07XG5cblx0XHRpZiAoICEgbWF0ZXJpYWxEZWYuZXh0ZW5zaW9ucyB8fCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdICkgcmV0dXJuIG51bGw7XG5cblx0XHRyZXR1cm4gTWVzaFBoeXNpY2FsTWF0ZXJpYWw7XG5cblx0fVxuXG5cdGV4dGVuZE1hdGVyaWFsUGFyYW1zKCBtYXRlcmlhbEluZGV4LCBtYXRlcmlhbFBhcmFtcyApIHtcblxuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXMucGFyc2VyO1xuXHRcdGNvbnN0IG1hdGVyaWFsRGVmID0gcGFyc2VyLmpzb24ubWF0ZXJpYWxzWyBtYXRlcmlhbEluZGV4IF07XG5cblx0XHRpZiAoICEgbWF0ZXJpYWxEZWYuZXh0ZW5zaW9ucyB8fCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdICkge1xuXG5cdFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG5cblx0XHR9XG5cblx0XHRjb25zdCBleHRlbnNpb24gPSBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXTtcblxuXHRcdG1hdGVyaWFsUGFyYW1zLmlvciA9IGV4dGVuc2lvbi5pb3IgIT09IHVuZGVmaW5lZCA/IGV4dGVuc2lvbi5pb3IgOiAxLjU7XG5cblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG5cblx0fVxuXG59XG5cbi8qKlxuICogTWF0ZXJpYWxzIHNwZWN1bGFyIEV4dGVuc2lvblxuICpcbiAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9tYXRlcmlhbHNfc3BlY3VsYXJcbiAqL1xuY2xhc3MgR0xURk1hdGVyaWFsc1NwZWN1bGFyRXh0ZW5zaW9uIHtcblxuXHRjb25zdHJ1Y3RvciggcGFyc2VyICkge1xuXG5cdFx0dGhpcy5wYXJzZXIgPSBwYXJzZXI7XG5cdFx0dGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1NQRUNVTEFSO1xuXG5cdH1cblxuXHRnZXRNYXRlcmlhbFR5cGUoIG1hdGVyaWFsSW5kZXggKSB7XG5cblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjtcblx0XHRjb25zdCBtYXRlcmlhbERlZiA9IHBhcnNlci5qc29uLm1hdGVyaWFsc1sgbWF0ZXJpYWxJbmRleCBdO1xuXG5cdFx0aWYgKCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnMgfHwgISBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXSApIHJldHVybiBudWxsO1xuXG5cdFx0cmV0dXJuIE1lc2hQaHlzaWNhbE1hdGVyaWFsO1xuXG5cdH1cblxuXHRleHRlbmRNYXRlcmlhbFBhcmFtcyggbWF0ZXJpYWxJbmRleCwgbWF0ZXJpYWxQYXJhbXMgKSB7XG5cblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjtcblx0XHRjb25zdCBtYXRlcmlhbERlZiA9IHBhcnNlci5qc29uLm1hdGVyaWFsc1sgbWF0ZXJpYWxJbmRleCBdO1xuXG5cdFx0aWYgKCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnMgfHwgISBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXSApIHtcblxuXHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgcGVuZGluZyA9IFtdO1xuXG5cdFx0Y29uc3QgZXh0ZW5zaW9uID0gbWF0ZXJpYWxEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF07XG5cblx0XHRtYXRlcmlhbFBhcmFtcy5zcGVjdWxhckludGVuc2l0eSA9IGV4dGVuc2lvbi5zcGVjdWxhckZhY3RvciAhPT0gdW5kZWZpbmVkID8gZXh0ZW5zaW9uLnNwZWN1bGFyRmFjdG9yIDogMS4wO1xuXG5cdFx0aWYgKCBleHRlbnNpb24uc3BlY3VsYXJUZXh0dXJlICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdHBlbmRpbmcucHVzaCggcGFyc2VyLmFzc2lnblRleHR1cmUoIG1hdGVyaWFsUGFyYW1zLCAnc3BlY3VsYXJJbnRlbnNpdHlNYXAnLCBleHRlbnNpb24uc3BlY3VsYXJUZXh0dXJlICkgKTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IGNvbG9yQXJyYXkgPSBleHRlbnNpb24uc3BlY3VsYXJDb2xvckZhY3RvciB8fCBbIDEsIDEsIDEgXTtcblx0XHRtYXRlcmlhbFBhcmFtcy5zcGVjdWxhckNvbG9yID0gbmV3IENvbG9yKCBjb2xvckFycmF5WyAwIF0sIGNvbG9yQXJyYXlbIDEgXSwgY29sb3JBcnJheVsgMiBdICk7XG5cblx0XHRpZiAoIGV4dGVuc2lvbi5zcGVjdWxhckNvbG9yVGV4dHVyZSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRwZW5kaW5nLnB1c2goIHBhcnNlci5hc3NpZ25UZXh0dXJlKCBtYXRlcmlhbFBhcmFtcywgJ3NwZWN1bGFyQ29sb3JNYXAnLCBleHRlbnNpb24uc3BlY3VsYXJDb2xvclRleHR1cmUsIHNSR0JFbmNvZGluZyApICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gUHJvbWlzZS5hbGwoIHBlbmRpbmcgKTtcblxuXHR9XG5cbn1cblxuLyoqXG4gKiBCYXNpc1UgVGV4dHVyZSBFeHRlbnNpb25cbiAqXG4gKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfdGV4dHVyZV9iYXNpc3VcbiAqL1xuY2xhc3MgR0xURlRleHR1cmVCYXNpc1VFeHRlbnNpb24ge1xuXG5cdGNvbnN0cnVjdG9yKCBwYXJzZXIgKSB7XG5cblx0XHR0aGlzLnBhcnNlciA9IHBhcnNlcjtcblx0XHR0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9URVhUVVJFX0JBU0lTVTtcblxuXHR9XG5cblx0bG9hZFRleHR1cmUoIHRleHR1cmVJbmRleCApIHtcblxuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXMucGFyc2VyO1xuXHRcdGNvbnN0IGpzb24gPSBwYXJzZXIuanNvbjtcblxuXHRcdGNvbnN0IHRleHR1cmVEZWYgPSBqc29uLnRleHR1cmVzWyB0ZXh0dXJlSW5kZXggXTtcblxuXHRcdGlmICggISB0ZXh0dXJlRGVmLmV4dGVuc2lvbnMgfHwgISB0ZXh0dXJlRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdICkge1xuXG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdH1cblxuXHRcdGNvbnN0IGV4dGVuc2lvbiA9IHRleHR1cmVEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF07XG5cdFx0Y29uc3QgbG9hZGVyID0gcGFyc2VyLm9wdGlvbnMua3R4MkxvYWRlcjtcblxuXHRcdGlmICggISBsb2FkZXIgKSB7XG5cblx0XHRcdGlmICgganNvbi5leHRlbnNpb25zUmVxdWlyZWQgJiYganNvbi5leHRlbnNpb25zUmVxdWlyZWQuaW5kZXhPZiggdGhpcy5uYW1lICkgPj0gMCApIHtcblxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoICdUSFJFRS5HTFRGTG9hZGVyOiBzZXRLVFgyTG9hZGVyIG11c3QgYmUgY2FsbGVkIGJlZm9yZSBsb2FkaW5nIEtUWDIgdGV4dHVyZXMnICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gQXNzdW1lcyB0aGF0IHRoZSBleHRlbnNpb24gaXMgb3B0aW9uYWwgYW5kIHRoYXQgYSBmYWxsYmFjayB0ZXh0dXJlIGlzIHByZXNlbnRcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdHJldHVybiBwYXJzZXIubG9hZFRleHR1cmVJbWFnZSggdGV4dHVyZUluZGV4LCBleHRlbnNpb24uc291cmNlLCBsb2FkZXIgKTtcblxuXHR9XG5cbn1cblxuLyoqXG4gKiBXZWJQIFRleHR1cmUgRXh0ZW5zaW9uXG4gKlxuICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL1ZlbmRvci9FWFRfdGV4dHVyZV93ZWJwXG4gKi9cbmNsYXNzIEdMVEZUZXh0dXJlV2ViUEV4dGVuc2lvbiB7XG5cblx0Y29uc3RydWN0b3IoIHBhcnNlciApIHtcblxuXHRcdHRoaXMucGFyc2VyID0gcGFyc2VyO1xuXHRcdHRoaXMubmFtZSA9IEVYVEVOU0lPTlMuRVhUX1RFWFRVUkVfV0VCUDtcblx0XHR0aGlzLmlzU3VwcG9ydGVkID0gbnVsbDtcblxuXHR9XG5cblx0bG9hZFRleHR1cmUoIHRleHR1cmVJbmRleCApIHtcblxuXHRcdGNvbnN0IG5hbWUgPSB0aGlzLm5hbWU7XG5cdFx0Y29uc3QgcGFyc2VyID0gdGhpcy5wYXJzZXI7XG5cdFx0Y29uc3QganNvbiA9IHBhcnNlci5qc29uO1xuXG5cdFx0Y29uc3QgdGV4dHVyZURlZiA9IGpzb24udGV4dHVyZXNbIHRleHR1cmVJbmRleCBdO1xuXG5cdFx0aWYgKCAhIHRleHR1cmVEZWYuZXh0ZW5zaW9ucyB8fCAhIHRleHR1cmVEZWYuZXh0ZW5zaW9uc1sgbmFtZSBdICkge1xuXG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdH1cblxuXHRcdGNvbnN0IGV4dGVuc2lvbiA9IHRleHR1cmVEZWYuZXh0ZW5zaW9uc1sgbmFtZSBdO1xuXHRcdGNvbnN0IHNvdXJjZSA9IGpzb24uaW1hZ2VzWyBleHRlbnNpb24uc291cmNlIF07XG5cblx0XHRsZXQgbG9hZGVyID0gcGFyc2VyLnRleHR1cmVMb2FkZXI7XG5cdFx0aWYgKCBzb3VyY2UudXJpICkge1xuXG5cdFx0XHRjb25zdCBoYW5kbGVyID0gcGFyc2VyLm9wdGlvbnMubWFuYWdlci5nZXRIYW5kbGVyKCBzb3VyY2UudXJpICk7XG5cdFx0XHRpZiAoIGhhbmRsZXIgIT09IG51bGwgKSBsb2FkZXIgPSBoYW5kbGVyO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZGV0ZWN0U3VwcG9ydCgpLnRoZW4oIGZ1bmN0aW9uICggaXNTdXBwb3J0ZWQgKSB7XG5cblx0XHRcdGlmICggaXNTdXBwb3J0ZWQgKSByZXR1cm4gcGFyc2VyLmxvYWRUZXh0dXJlSW1hZ2UoIHRleHR1cmVJbmRleCwgZXh0ZW5zaW9uLnNvdXJjZSwgbG9hZGVyICk7XG5cblx0XHRcdGlmICgganNvbi5leHRlbnNpb25zUmVxdWlyZWQgJiYganNvbi5leHRlbnNpb25zUmVxdWlyZWQuaW5kZXhPZiggbmFtZSApID49IDAgKSB7XG5cblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCAnVEhSRUUuR0xURkxvYWRlcjogV2ViUCByZXF1aXJlZCBieSBhc3NldCBidXQgdW5zdXBwb3J0ZWQuJyApO1xuXG5cdFx0XHR9XG5cblx0XHRcdC8vIEZhbGwgYmFjayB0byBQTkcgb3IgSlBFRy5cblx0XHRcdHJldHVybiBwYXJzZXIubG9hZFRleHR1cmUoIHRleHR1cmVJbmRleCApO1xuXG5cdFx0fSApO1xuXG5cdH1cblxuXHRkZXRlY3RTdXBwb3J0KCkge1xuXG5cdFx0aWYgKCAhIHRoaXMuaXNTdXBwb3J0ZWQgKSB7XG5cblx0XHRcdHRoaXMuaXNTdXBwb3J0ZWQgPSBuZXcgUHJvbWlzZSggZnVuY3Rpb24gKCByZXNvbHZlICkge1xuXG5cdFx0XHRcdGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XG5cblx0XHRcdFx0Ly8gTG9zc3kgdGVzdCBpbWFnZS4gU3VwcG9ydCBmb3IgbG9zc3kgaW1hZ2VzIGRvZXNuJ3QgZ3VhcmFudGVlIHN1cHBvcnQgZm9yIGFsbFxuXHRcdFx0XHQvLyBXZWJQIGltYWdlcywgdW5mb3J0dW5hdGVseS5cblx0XHRcdFx0aW1hZ2Uuc3JjID0gJ2RhdGE6aW1hZ2Uvd2VicDtiYXNlNjQsVWtsR1JpSUFBQUJYUlVKUVZsQTRJQllBQUFBd0FRQ2RBU29CQUFFQURzRCtKYVFBQTNBQUFBQUEnO1xuXG5cdFx0XHRcdGltYWdlLm9ubG9hZCA9IGltYWdlLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdFx0XHRyZXNvbHZlKCBpbWFnZS5oZWlnaHQgPT09IDEgKTtcblxuXHRcdFx0XHR9O1xuXG5cdFx0XHR9ICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5pc1N1cHBvcnRlZDtcblxuXHR9XG5cbn1cblxuLyoqXG4gKiBtZXNob3B0IEJ1ZmZlclZpZXcgQ29tcHJlc3Npb24gRXh0ZW5zaW9uXG4gKlxuICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL1ZlbmRvci9FWFRfbWVzaG9wdF9jb21wcmVzc2lvblxuICovXG5jbGFzcyBHTFRGTWVzaG9wdENvbXByZXNzaW9uIHtcblxuXHRjb25zdHJ1Y3RvciggcGFyc2VyICkge1xuXG5cdFx0dGhpcy5uYW1lID0gRVhURU5TSU9OUy5FWFRfTUVTSE9QVF9DT01QUkVTU0lPTjtcblx0XHR0aGlzLnBhcnNlciA9IHBhcnNlcjtcblxuXHR9XG5cblx0bG9hZEJ1ZmZlclZpZXcoIGluZGV4ICkge1xuXG5cdFx0Y29uc3QganNvbiA9IHRoaXMucGFyc2VyLmpzb247XG5cdFx0Y29uc3QgYnVmZmVyVmlldyA9IGpzb24uYnVmZmVyVmlld3NbIGluZGV4IF07XG5cblx0XHRpZiAoIGJ1ZmZlclZpZXcuZXh0ZW5zaW9ucyAmJiBidWZmZXJWaWV3LmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdICkge1xuXG5cdFx0XHRjb25zdCBleHRlbnNpb25EZWYgPSBidWZmZXJWaWV3LmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdO1xuXG5cdFx0XHRjb25zdCBidWZmZXIgPSB0aGlzLnBhcnNlci5nZXREZXBlbmRlbmN5KCAnYnVmZmVyJywgZXh0ZW5zaW9uRGVmLmJ1ZmZlciApO1xuXHRcdFx0Y29uc3QgZGVjb2RlciA9IHRoaXMucGFyc2VyLm9wdGlvbnMubWVzaG9wdERlY29kZXI7XG5cblx0XHRcdGlmICggISBkZWNvZGVyIHx8ICEgZGVjb2Rlci5zdXBwb3J0ZWQgKSB7XG5cblx0XHRcdFx0aWYgKCBqc29uLmV4dGVuc2lvbnNSZXF1aXJlZCAmJiBqc29uLmV4dGVuc2lvbnNSZXF1aXJlZC5pbmRleE9mKCB0aGlzLm5hbWUgKSA+PSAwICkge1xuXG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCAnVEhSRUUuR0xURkxvYWRlcjogc2V0TWVzaG9wdERlY29kZXIgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIGxvYWRpbmcgY29tcHJlc3NlZCBmaWxlcycgKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0Ly8gQXNzdW1lcyB0aGF0IHRoZSBleHRlbnNpb24gaXMgb3B0aW9uYWwgYW5kIHRoYXQgZmFsbGJhY2sgYnVmZmVyIGRhdGEgaXMgcHJlc2VudFxuXHRcdFx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gYnVmZmVyLnRoZW4oIGZ1bmN0aW9uICggcmVzICkge1xuXG5cdFx0XHRcdGNvbnN0IGJ5dGVPZmZzZXQgPSBleHRlbnNpb25EZWYuYnl0ZU9mZnNldCB8fCAwO1xuXHRcdFx0XHRjb25zdCBieXRlTGVuZ3RoID0gZXh0ZW5zaW9uRGVmLmJ5dGVMZW5ndGggfHwgMDtcblxuXHRcdFx0XHRjb25zdCBjb3VudCA9IGV4dGVuc2lvbkRlZi5jb3VudDtcblx0XHRcdFx0Y29uc3Qgc3RyaWRlID0gZXh0ZW5zaW9uRGVmLmJ5dGVTdHJpZGU7XG5cblx0XHRcdFx0Y29uc3Qgc291cmNlID0gbmV3IFVpbnQ4QXJyYXkoIHJlcywgYnl0ZU9mZnNldCwgYnl0ZUxlbmd0aCApO1xuXG5cdFx0XHRcdGlmICggZGVjb2Rlci5kZWNvZGVHbHRmQnVmZmVyQXN5bmMgKSB7XG5cblx0XHRcdFx0XHRyZXR1cm4gZGVjb2Rlci5kZWNvZGVHbHRmQnVmZmVyQXN5bmMoIGNvdW50LCBzdHJpZGUsIHNvdXJjZSwgZXh0ZW5zaW9uRGVmLm1vZGUsIGV4dGVuc2lvbkRlZi5maWx0ZXIgKS50aGVuKCBmdW5jdGlvbiAoIHJlcyApIHtcblxuXHRcdFx0XHRcdFx0cmV0dXJuIHJlcy5idWZmZXI7XG5cblx0XHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQgZm9yIE1lc2hvcHREZWNvZGVyIDAuMTggb3IgZWFybGllciwgd2l0aG91dCBkZWNvZGVHbHRmQnVmZmVyQXN5bmNcblx0XHRcdFx0XHRyZXR1cm4gZGVjb2Rlci5yZWFkeS50aGVuKCBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdFx0XHRcdGNvbnN0IHJlc3VsdCA9IG5ldyBBcnJheUJ1ZmZlciggY291bnQgKiBzdHJpZGUgKTtcblx0XHRcdFx0XHRcdGRlY29kZXIuZGVjb2RlR2x0ZkJ1ZmZlciggbmV3IFVpbnQ4QXJyYXkoIHJlc3VsdCApLCBjb3VudCwgc3RyaWRlLCBzb3VyY2UsIGV4dGVuc2lvbkRlZi5tb2RlLCBleHRlbnNpb25EZWYuZmlsdGVyICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0O1xuXG5cdFx0XHRcdFx0fSApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fSApO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHR9XG5cblx0fVxuXG59XG5cbi8qKlxuICogR1BVIEluc3RhbmNpbmcgRXh0ZW5zaW9uXG4gKlxuICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL1ZlbmRvci9FWFRfbWVzaF9ncHVfaW5zdGFuY2luZ1xuICpcbiAqL1xuY2xhc3MgR0xURk1lc2hHcHVJbnN0YW5jaW5nIHtcblxuXHRjb25zdHJ1Y3RvciggcGFyc2VyICkge1xuXG5cdFx0dGhpcy5uYW1lID0gRVhURU5TSU9OUy5FWFRfTUVTSF9HUFVfSU5TVEFOQ0lORztcblx0XHR0aGlzLnBhcnNlciA9IHBhcnNlcjtcblxuXHR9XG5cblx0Y3JlYXRlTm9kZU1lc2goIG5vZGVJbmRleCApIHtcblxuXHRcdGNvbnN0IGpzb24gPSB0aGlzLnBhcnNlci5qc29uO1xuXHRcdGNvbnN0IG5vZGVEZWYgPSBqc29uLm5vZGVzWyBub2RlSW5kZXggXTtcblxuXHRcdGlmICggISBub2RlRGVmLmV4dGVuc2lvbnMgfHwgISBub2RlRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdIHx8XG5cdFx0XHRub2RlRGVmLm1lc2ggPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHR9XG5cblx0XHRjb25zdCBtZXNoRGVmID0ganNvbi5tZXNoZXNbIG5vZGVEZWYubWVzaCBdO1xuXG5cdFx0Ly8gTm8gUG9pbnRzIG9yIExpbmVzICsgSW5zdGFuY2luZyBzdXBwb3J0IHlldFxuXG5cdFx0Zm9yICggY29uc3QgcHJpbWl0aXZlIG9mIG1lc2hEZWYucHJpbWl0aXZlcyApIHtcblxuXHRcdFx0aWYgKCBwcmltaXRpdmUubW9kZSAhPT0gV0VCR0xfQ09OU1RBTlRTLlRSSUFOR0xFUyAmJlxuXHRcdFx0XHQgcHJpbWl0aXZlLm1vZGUgIT09IFdFQkdMX0NPTlNUQU5UUy5UUklBTkdMRV9TVFJJUCAmJlxuXHRcdFx0XHQgcHJpbWl0aXZlLm1vZGUgIT09IFdFQkdMX0NPTlNUQU5UUy5UUklBTkdMRV9GQU4gJiZcblx0XHRcdFx0IHByaW1pdGl2ZS5tb2RlICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdGNvbnN0IGV4dGVuc2lvbkRlZiA9IG5vZGVEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF07XG5cdFx0Y29uc3QgYXR0cmlidXRlc0RlZiA9IGV4dGVuc2lvbkRlZi5hdHRyaWJ1dGVzO1xuXG5cdFx0Ly8gQFRPRE86IENhbiB3ZSBzdXBwb3J0IEluc3RhbmNlZE1lc2ggKyBTa2lubmVkTWVzaD9cblxuXHRcdGNvbnN0IHBlbmRpbmcgPSBbXTtcblx0XHRjb25zdCBhdHRyaWJ1dGVzID0ge307XG5cblx0XHRmb3IgKCBjb25zdCBrZXkgaW4gYXR0cmlidXRlc0RlZiApIHtcblxuXHRcdFx0cGVuZGluZy5wdXNoKCB0aGlzLnBhcnNlci5nZXREZXBlbmRlbmN5KCAnYWNjZXNzb3InLCBhdHRyaWJ1dGVzRGVmWyBrZXkgXSApLnRoZW4oIGFjY2Vzc29yID0+IHtcblxuXHRcdFx0XHRhdHRyaWJ1dGVzWyBrZXkgXSA9IGFjY2Vzc29yO1xuXHRcdFx0XHRyZXR1cm4gYXR0cmlidXRlc1sga2V5IF07XG5cblx0XHRcdH0gKSApO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBwZW5kaW5nLmxlbmd0aCA8IDEgKSB7XG5cblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0cGVuZGluZy5wdXNoKCB0aGlzLnBhcnNlci5jcmVhdGVOb2RlTWVzaCggbm9kZUluZGV4ICkgKTtcblxuXHRcdHJldHVybiBQcm9taXNlLmFsbCggcGVuZGluZyApLnRoZW4oIHJlc3VsdHMgPT4ge1xuXG5cdFx0XHRjb25zdCBub2RlT2JqZWN0ID0gcmVzdWx0cy5wb3AoKTtcblx0XHRcdGNvbnN0IG1lc2hlcyA9IG5vZGVPYmplY3QuaXNHcm91cCA/IG5vZGVPYmplY3QuY2hpbGRyZW4gOiBbIG5vZGVPYmplY3QgXTtcblx0XHRcdGNvbnN0IGNvdW50ID0gcmVzdWx0c1sgMCBdLmNvdW50OyAvLyBBbGwgYXR0cmlidXRlIGNvdW50cyBzaG91bGQgYmUgc2FtZVxuXHRcdFx0Y29uc3QgaW5zdGFuY2VkTWVzaGVzID0gW107XG5cblx0XHRcdGZvciAoIGNvbnN0IG1lc2ggb2YgbWVzaGVzICkge1xuXG5cdFx0XHRcdC8vIFRlbXBvcmFsIHZhcmlhYmxlc1xuXHRcdFx0XHRjb25zdCBtID0gbmV3IE1hdHJpeDQoKTtcblx0XHRcdFx0Y29uc3QgcCA9IG5ldyBWZWN0b3IzKCk7XG5cdFx0XHRcdGNvbnN0IHEgPSBuZXcgUXVhdGVybmlvbigpO1xuXHRcdFx0XHRjb25zdCBzID0gbmV3IFZlY3RvcjMoIDEsIDEsIDEgKTtcblxuXHRcdFx0XHRjb25zdCBpbnN0YW5jZWRNZXNoID0gbmV3IEluc3RhbmNlZE1lc2goIG1lc2guZ2VvbWV0cnksIG1lc2gubWF0ZXJpYWwsIGNvdW50ICk7XG5cblx0XHRcdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgY291bnQ7IGkgKysgKSB7XG5cblx0XHRcdFx0XHRpZiAoIGF0dHJpYnV0ZXMuVFJBTlNMQVRJT04gKSB7XG5cblx0XHRcdFx0XHRcdHAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSggYXR0cmlidXRlcy5UUkFOU0xBVElPTiwgaSApO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCBhdHRyaWJ1dGVzLlJPVEFUSU9OICkge1xuXG5cdFx0XHRcdFx0XHRxLmZyb21CdWZmZXJBdHRyaWJ1dGUoIGF0dHJpYnV0ZXMuUk9UQVRJT04sIGkgKTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICggYXR0cmlidXRlcy5TQ0FMRSApIHtcblxuXHRcdFx0XHRcdFx0cy5mcm9tQnVmZmVyQXR0cmlidXRlKCBhdHRyaWJ1dGVzLlNDQUxFLCBpICk7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpbnN0YW5jZWRNZXNoLnNldE1hdHJpeEF0KCBpLCBtLmNvbXBvc2UoIHAsIHEsIHMgKSApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBBZGQgaW5zdGFuY2UgYXR0cmlidXRlcyB0byB0aGUgZ2VvbWV0cnksIGV4Y2x1ZGluZyBUUlMuXG5cdFx0XHRcdGZvciAoIGNvbnN0IGF0dHJpYnV0ZU5hbWUgaW4gYXR0cmlidXRlcyApIHtcblxuXHRcdFx0XHRcdGlmICggYXR0cmlidXRlTmFtZSAhPT0gJ1RSQU5TTEFUSU9OJyAmJlxuXHRcdFx0XHRcdFx0IGF0dHJpYnV0ZU5hbWUgIT09ICdST1RBVElPTicgJiZcblx0XHRcdFx0XHRcdCBhdHRyaWJ1dGVOYW1lICE9PSAnU0NBTEUnICkge1xuXG5cdFx0XHRcdFx0XHRtZXNoLmdlb21ldHJ5LnNldEF0dHJpYnV0ZSggYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlc1sgYXR0cmlidXRlTmFtZSBdICk7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEp1c3QgaW4gY2FzZVxuXHRcdFx0XHRPYmplY3QzRC5wcm90b3R5cGUuY29weS5jYWxsKCBpbnN0YW5jZWRNZXNoLCBtZXNoICk7XG5cblx0XHRcdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9pc3N1ZXMvMTgzMzRcblx0XHRcdFx0aW5zdGFuY2VkTWVzaC5mcnVzdHVtQ3VsbGVkID0gZmFsc2U7XG5cdFx0XHRcdHRoaXMucGFyc2VyLmFzc2lnbkZpbmFsTWF0ZXJpYWwoIGluc3RhbmNlZE1lc2ggKTtcblxuXHRcdFx0XHRpbnN0YW5jZWRNZXNoZXMucHVzaCggaW5zdGFuY2VkTWVzaCApO1xuXG5cdFx0XHR9XG5cblx0XHRcdGlmICggbm9kZU9iamVjdC5pc0dyb3VwICkge1xuXG5cdFx0XHRcdG5vZGVPYmplY3QuY2xlYXIoKTtcblxuXHRcdFx0XHRub2RlT2JqZWN0LmFkZCggLi4uIGluc3RhbmNlZE1lc2hlcyApO1xuXG5cdFx0XHRcdHJldHVybiBub2RlT2JqZWN0O1xuXG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBpbnN0YW5jZWRNZXNoZXNbIDAgXTtcblxuXHRcdH0gKTtcblxuXHR9XG5cbn1cblxuLyogQklOQVJZIEVYVEVOU0lPTiAqL1xuY29uc3QgQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTUFHSUMgPSAnZ2xURic7XG5jb25zdCBCSU5BUllfRVhURU5TSU9OX0hFQURFUl9MRU5HVEggPSAxMjtcbmNvbnN0IEJJTkFSWV9FWFRFTlNJT05fQ0hVTktfVFlQRVMgPSB7IEpTT046IDB4NEU0RjUzNEEsIEJJTjogMHgwMDRFNDk0MiB9O1xuXG5jbGFzcyBHTFRGQmluYXJ5RXh0ZW5zaW9uIHtcblxuXHRjb25zdHJ1Y3RvciggZGF0YSApIHtcblxuXHRcdHRoaXMubmFtZSA9IEVYVEVOU0lPTlMuS0hSX0JJTkFSWV9HTFRGO1xuXHRcdHRoaXMuY29udGVudCA9IG51bGw7XG5cdFx0dGhpcy5ib2R5ID0gbnVsbDtcblxuXHRcdGNvbnN0IGhlYWRlclZpZXcgPSBuZXcgRGF0YVZpZXcoIGRhdGEsIDAsIEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX0xFTkdUSCApO1xuXHRcdGNvbnN0IHRleHREZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG5cblx0XHR0aGlzLmhlYWRlciA9IHtcblx0XHRcdG1hZ2ljOiB0ZXh0RGVjb2Rlci5kZWNvZGUoIG5ldyBVaW50OEFycmF5KCBkYXRhLnNsaWNlKCAwLCA0ICkgKSApLFxuXHRcdFx0dmVyc2lvbjogaGVhZGVyVmlldy5nZXRVaW50MzIoIDQsIHRydWUgKSxcblx0XHRcdGxlbmd0aDogaGVhZGVyVmlldy5nZXRVaW50MzIoIDgsIHRydWUgKVxuXHRcdH07XG5cblx0XHRpZiAoIHRoaXMuaGVhZGVyLm1hZ2ljICE9PSBCSU5BUllfRVhURU5TSU9OX0hFQURFUl9NQUdJQyApIHtcblxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCAnVEhSRUUuR0xURkxvYWRlcjogVW5zdXBwb3J0ZWQgZ2xURi1CaW5hcnkgaGVhZGVyLicgKTtcblxuXHRcdH0gZWxzZSBpZiAoIHRoaXMuaGVhZGVyLnZlcnNpb24gPCAyLjAgKSB7XG5cblx0XHRcdHRocm93IG5ldyBFcnJvciggJ1RIUkVFLkdMVEZMb2FkZXI6IExlZ2FjeSBiaW5hcnkgZmlsZSBkZXRlY3RlZC4nICk7XG5cblx0XHR9XG5cblx0XHRjb25zdCBjaHVua0NvbnRlbnRzTGVuZ3RoID0gdGhpcy5oZWFkZXIubGVuZ3RoIC0gQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTEVOR1RIO1xuXHRcdGNvbnN0IGNodW5rVmlldyA9IG5ldyBEYXRhVmlldyggZGF0YSwgQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTEVOR1RIICk7XG5cdFx0bGV0IGNodW5rSW5kZXggPSAwO1xuXG5cdFx0d2hpbGUgKCBjaHVua0luZGV4IDwgY2h1bmtDb250ZW50c0xlbmd0aCApIHtcblxuXHRcdFx0Y29uc3QgY2h1bmtMZW5ndGggPSBjaHVua1ZpZXcuZ2V0VWludDMyKCBjaHVua0luZGV4LCB0cnVlICk7XG5cdFx0XHRjaHVua0luZGV4ICs9IDQ7XG5cblx0XHRcdGNvbnN0IGNodW5rVHlwZSA9IGNodW5rVmlldy5nZXRVaW50MzIoIGNodW5rSW5kZXgsIHRydWUgKTtcblx0XHRcdGNodW5rSW5kZXggKz0gNDtcblxuXHRcdFx0aWYgKCBjaHVua1R5cGUgPT09IEJJTkFSWV9FWFRFTlNJT05fQ0hVTktfVFlQRVMuSlNPTiApIHtcblxuXHRcdFx0XHRjb25zdCBjb250ZW50QXJyYXkgPSBuZXcgVWludDhBcnJheSggZGF0YSwgQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTEVOR1RIICsgY2h1bmtJbmRleCwgY2h1bmtMZW5ndGggKTtcblx0XHRcdFx0dGhpcy5jb250ZW50ID0gdGV4dERlY29kZXIuZGVjb2RlKCBjb250ZW50QXJyYXkgKTtcblxuXHRcdFx0fSBlbHNlIGlmICggY2h1bmtUeXBlID09PSBCSU5BUllfRVhURU5TSU9OX0NIVU5LX1RZUEVTLkJJTiApIHtcblxuXHRcdFx0XHRjb25zdCBieXRlT2Zmc2V0ID0gQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTEVOR1RIICsgY2h1bmtJbmRleDtcblx0XHRcdFx0dGhpcy5ib2R5ID0gZGF0YS5zbGljZSggYnl0ZU9mZnNldCwgYnl0ZU9mZnNldCArIGNodW5rTGVuZ3RoICk7XG5cblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2xpZW50cyBtdXN0IGlnbm9yZSBjaHVua3Mgd2l0aCB1bmtub3duIHR5cGVzLlxuXG5cdFx0XHRjaHVua0luZGV4ICs9IGNodW5rTGVuZ3RoO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLmNvbnRlbnQgPT09IG51bGwgKSB7XG5cblx0XHRcdHRocm93IG5ldyBFcnJvciggJ1RIUkVFLkdMVEZMb2FkZXI6IEpTT04gY29udGVudCBub3QgZm91bmQuJyApO1xuXG5cdFx0fVxuXG5cdH1cblxufVxuXG4vKipcbiAqIERSQUNPIE1lc2ggQ29tcHJlc3Npb24gRXh0ZW5zaW9uXG4gKlxuICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX2RyYWNvX21lc2hfY29tcHJlc3Npb25cbiAqL1xuY2xhc3MgR0xURkRyYWNvTWVzaENvbXByZXNzaW9uRXh0ZW5zaW9uIHtcblxuXHRjb25zdHJ1Y3RvcigganNvbiwgZHJhY29Mb2FkZXIgKSB7XG5cblx0XHRpZiAoICEgZHJhY29Mb2FkZXIgKSB7XG5cblx0XHRcdHRocm93IG5ldyBFcnJvciggJ1RIUkVFLkdMVEZMb2FkZXI6IE5vIERSQUNPTG9hZGVyIGluc3RhbmNlIHByb3ZpZGVkLicgKTtcblxuXHRcdH1cblxuXHRcdHRoaXMubmFtZSA9IEVYVEVOU0lPTlMuS0hSX0RSQUNPX01FU0hfQ09NUFJFU1NJT047XG5cdFx0dGhpcy5qc29uID0ganNvbjtcblx0XHR0aGlzLmRyYWNvTG9hZGVyID0gZHJhY29Mb2FkZXI7XG5cdFx0dGhpcy5kcmFjb0xvYWRlci5wcmVsb2FkKCk7XG5cblx0fVxuXG5cdGRlY29kZVByaW1pdGl2ZSggcHJpbWl0aXZlLCBwYXJzZXIgKSB7XG5cblx0XHRjb25zdCBqc29uID0gdGhpcy5qc29uO1xuXHRcdGNvbnN0IGRyYWNvTG9hZGVyID0gdGhpcy5kcmFjb0xvYWRlcjtcblx0XHRjb25zdCBidWZmZXJWaWV3SW5kZXggPSBwcmltaXRpdmUuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF0uYnVmZmVyVmlldztcblx0XHRjb25zdCBnbHRmQXR0cmlidXRlTWFwID0gcHJpbWl0aXZlLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdLmF0dHJpYnV0ZXM7XG5cdFx0Y29uc3QgdGhyZWVBdHRyaWJ1dGVNYXAgPSB7fTtcblx0XHRjb25zdCBhdHRyaWJ1dGVOb3JtYWxpemVkTWFwID0ge307XG5cdFx0Y29uc3QgYXR0cmlidXRlVHlwZU1hcCA9IHt9O1xuXG5cdFx0Zm9yICggY29uc3QgYXR0cmlidXRlTmFtZSBpbiBnbHRmQXR0cmlidXRlTWFwICkge1xuXG5cdFx0XHRjb25zdCB0aHJlZUF0dHJpYnV0ZU5hbWUgPSBBVFRSSUJVVEVTWyBhdHRyaWJ1dGVOYW1lIF0gfHwgYXR0cmlidXRlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXG5cdFx0XHR0aHJlZUF0dHJpYnV0ZU1hcFsgdGhyZWVBdHRyaWJ1dGVOYW1lIF0gPSBnbHRmQXR0cmlidXRlTWFwWyBhdHRyaWJ1dGVOYW1lIF07XG5cblx0XHR9XG5cblx0XHRmb3IgKCBjb25zdCBhdHRyaWJ1dGVOYW1lIGluIHByaW1pdGl2ZS5hdHRyaWJ1dGVzICkge1xuXG5cdFx0XHRjb25zdCB0aHJlZUF0dHJpYnV0ZU5hbWUgPSBBVFRSSUJVVEVTWyBhdHRyaWJ1dGVOYW1lIF0gfHwgYXR0cmlidXRlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXG5cdFx0XHRpZiAoIGdsdGZBdHRyaWJ1dGVNYXBbIGF0dHJpYnV0ZU5hbWUgXSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdGNvbnN0IGFjY2Vzc29yRGVmID0ganNvbi5hY2Nlc3NvcnNbIHByaW1pdGl2ZS5hdHRyaWJ1dGVzWyBhdHRyaWJ1dGVOYW1lIF0gXTtcblx0XHRcdFx0Y29uc3QgY29tcG9uZW50VHlwZSA9IFdFQkdMX0NPTVBPTkVOVF9UWVBFU1sgYWNjZXNzb3JEZWYuY29tcG9uZW50VHlwZSBdO1xuXG5cdFx0XHRcdGF0dHJpYnV0ZVR5cGVNYXBbIHRocmVlQXR0cmlidXRlTmFtZSBdID0gY29tcG9uZW50VHlwZS5uYW1lO1xuXHRcdFx0XHRhdHRyaWJ1dGVOb3JtYWxpemVkTWFwWyB0aHJlZUF0dHJpYnV0ZU5hbWUgXSA9IGFjY2Vzc29yRGVmLm5vcm1hbGl6ZWQgPT09IHRydWU7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdHJldHVybiBwYXJzZXIuZ2V0RGVwZW5kZW5jeSggJ2J1ZmZlclZpZXcnLCBidWZmZXJWaWV3SW5kZXggKS50aGVuKCBmdW5jdGlvbiAoIGJ1ZmZlclZpZXcgKSB7XG5cblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSggZnVuY3Rpb24gKCByZXNvbHZlICkge1xuXG5cdFx0XHRcdGRyYWNvTG9hZGVyLmRlY29kZURyYWNvRmlsZSggYnVmZmVyVmlldywgZnVuY3Rpb24gKCBnZW9tZXRyeSApIHtcblxuXHRcdFx0XHRcdGZvciAoIGNvbnN0IGF0dHJpYnV0ZU5hbWUgaW4gZ2VvbWV0cnkuYXR0cmlidXRlcyApIHtcblxuXHRcdFx0XHRcdFx0Y29uc3QgYXR0cmlidXRlID0gZ2VvbWV0cnkuYXR0cmlidXRlc1sgYXR0cmlidXRlTmFtZSBdO1xuXHRcdFx0XHRcdFx0Y29uc3Qgbm9ybWFsaXplZCA9IGF0dHJpYnV0ZU5vcm1hbGl6ZWRNYXBbIGF0dHJpYnV0ZU5hbWUgXTtcblxuXHRcdFx0XHRcdFx0aWYgKCBub3JtYWxpemVkICE9PSB1bmRlZmluZWQgKSBhdHRyaWJ1dGUubm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQ7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXNvbHZlKCBnZW9tZXRyeSApO1xuXG5cdFx0XHRcdH0sIHRocmVlQXR0cmlidXRlTWFwLCBhdHRyaWJ1dGVUeXBlTWFwICk7XG5cblx0XHRcdH0gKTtcblxuXHRcdH0gKTtcblxuXHR9XG5cbn1cblxuLyoqXG4gKiBUZXh0dXJlIFRyYW5zZm9ybSBFeHRlbnNpb25cbiAqXG4gKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfdGV4dHVyZV90cmFuc2Zvcm1cbiAqL1xuY2xhc3MgR0xURlRleHR1cmVUcmFuc2Zvcm1FeHRlbnNpb24ge1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuXG5cdFx0dGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfVEVYVFVSRV9UUkFOU0ZPUk07XG5cblx0fVxuXG5cdGV4dGVuZFRleHR1cmUoIHRleHR1cmUsIHRyYW5zZm9ybSApIHtcblxuXHRcdGlmICggdHJhbnNmb3JtLnRleENvb3JkICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkdMVEZMb2FkZXI6IEN1c3RvbSBVViBzZXRzIGluIFwiJyArIHRoaXMubmFtZSArICdcIiBleHRlbnNpb24gbm90IHlldCBzdXBwb3J0ZWQuJyApO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCB0cmFuc2Zvcm0ub2Zmc2V0ID09PSB1bmRlZmluZWQgJiYgdHJhbnNmb3JtLnJvdGF0aW9uID09PSB1bmRlZmluZWQgJiYgdHJhbnNmb3JtLnNjYWxlID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2lzc3Vlcy8yMTgxOS5cblx0XHRcdHJldHVybiB0ZXh0dXJlO1xuXG5cdFx0fVxuXG5cdFx0dGV4dHVyZSA9IHRleHR1cmUuY2xvbmUoKTtcblxuXHRcdGlmICggdHJhbnNmb3JtLm9mZnNldCAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHR0ZXh0dXJlLm9mZnNldC5mcm9tQXJyYXkoIHRyYW5zZm9ybS5vZmZzZXQgKTtcblxuXHRcdH1cblxuXHRcdGlmICggdHJhbnNmb3JtLnJvdGF0aW9uICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdHRleHR1cmUucm90YXRpb24gPSB0cmFuc2Zvcm0ucm90YXRpb247XG5cblx0XHR9XG5cblx0XHRpZiAoIHRyYW5zZm9ybS5zY2FsZSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHR0ZXh0dXJlLnJlcGVhdC5mcm9tQXJyYXkoIHRyYW5zZm9ybS5zY2FsZSApO1xuXG5cdFx0fVxuXG5cdFx0dGV4dHVyZS5uZWVkc1VwZGF0ZSA9IHRydWU7XG5cblx0XHRyZXR1cm4gdGV4dHVyZTtcblxuXHR9XG5cbn1cblxuLyoqXG4gKiBNZXNoIFF1YW50aXphdGlvbiBFeHRlbnNpb25cbiAqXG4gKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfbWVzaF9xdWFudGl6YXRpb25cbiAqL1xuY2xhc3MgR0xURk1lc2hRdWFudGl6YXRpb25FeHRlbnNpb24ge1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuXG5cdFx0dGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfTUVTSF9RVUFOVElaQVRJT047XG5cblx0fVxuXG59XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqKioqKiBJTlRFUlBPTEFUSU9OICoqKioqKioqL1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLy8gU3BsaW5lIEludGVycG9sYXRpb25cbi8vIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjYXBwZW5kaXgtYy1zcGxpbmUtaW50ZXJwb2xhdGlvblxuY2xhc3MgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQgZXh0ZW5kcyBJbnRlcnBvbGFudCB7XG5cblx0Y29uc3RydWN0b3IoIHBhcmFtZXRlclBvc2l0aW9ucywgc2FtcGxlVmFsdWVzLCBzYW1wbGVTaXplLCByZXN1bHRCdWZmZXIgKSB7XG5cblx0XHRzdXBlciggcGFyYW1ldGVyUG9zaXRpb25zLCBzYW1wbGVWYWx1ZXMsIHNhbXBsZVNpemUsIHJlc3VsdEJ1ZmZlciApO1xuXG5cdH1cblxuXHRjb3B5U2FtcGxlVmFsdWVfKCBpbmRleCApIHtcblxuXHRcdC8vIENvcGllcyBhIHNhbXBsZSB2YWx1ZSB0byB0aGUgcmVzdWx0IGJ1ZmZlci4gU2VlIGRlc2NyaXB0aW9uIG9mIGdsVEZcblx0XHQvLyBDVUJJQ1NQTElORSB2YWx1ZXMgbGF5b3V0IGluIGludGVycG9sYXRlXygpIGZ1bmN0aW9uIGJlbG93LlxuXG5cdFx0Y29uc3QgcmVzdWx0ID0gdGhpcy5yZXN1bHRCdWZmZXIsXG5cdFx0XHR2YWx1ZXMgPSB0aGlzLnNhbXBsZVZhbHVlcyxcblx0XHRcdHZhbHVlU2l6ZSA9IHRoaXMudmFsdWVTaXplLFxuXHRcdFx0b2Zmc2V0ID0gaW5kZXggKiB2YWx1ZVNpemUgKiAzICsgdmFsdWVTaXplO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpICE9PSB2YWx1ZVNpemU7IGkgKysgKSB7XG5cblx0XHRcdHJlc3VsdFsgaSBdID0gdmFsdWVzWyBvZmZzZXQgKyBpIF07XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXG5cdH1cblxuXHRpbnRlcnBvbGF0ZV8oIGkxLCB0MCwgdCwgdDEgKSB7XG5cblx0XHRjb25zdCByZXN1bHQgPSB0aGlzLnJlc3VsdEJ1ZmZlcjtcblx0XHRjb25zdCB2YWx1ZXMgPSB0aGlzLnNhbXBsZVZhbHVlcztcblx0XHRjb25zdCBzdHJpZGUgPSB0aGlzLnZhbHVlU2l6ZTtcblxuXHRcdGNvbnN0IHN0cmlkZTIgPSBzdHJpZGUgKiAyO1xuXHRcdGNvbnN0IHN0cmlkZTMgPSBzdHJpZGUgKiAzO1xuXG5cdFx0Y29uc3QgdGQgPSB0MSAtIHQwO1xuXG5cdFx0Y29uc3QgcCA9ICggdCAtIHQwICkgLyB0ZDtcblx0XHRjb25zdCBwcCA9IHAgKiBwO1xuXHRcdGNvbnN0IHBwcCA9IHBwICogcDtcblxuXHRcdGNvbnN0IG9mZnNldDEgPSBpMSAqIHN0cmlkZTM7XG5cdFx0Y29uc3Qgb2Zmc2V0MCA9IG9mZnNldDEgLSBzdHJpZGUzO1xuXG5cdFx0Y29uc3QgczIgPSAtIDIgKiBwcHAgKyAzICogcHA7XG5cdFx0Y29uc3QgczMgPSBwcHAgLSBwcDtcblx0XHRjb25zdCBzMCA9IDEgLSBzMjtcblx0XHRjb25zdCBzMSA9IHMzIC0gcHAgKyBwO1xuXG5cdFx0Ly8gTGF5b3V0IG9mIGtleWZyYW1lIG91dHB1dCB2YWx1ZXMgZm9yIENVQklDU1BMSU5FIGFuaW1hdGlvbnM6XG5cdFx0Ly8gICBbIGluVGFuZ2VudF8xLCBzcGxpbmVWZXJ0ZXhfMSwgb3V0VGFuZ2VudF8xLCBpblRhbmdlbnRfMiwgc3BsaW5lVmVydGV4XzIsIC4uLiBdXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpICE9PSBzdHJpZGU7IGkgKysgKSB7XG5cblx0XHRcdGNvbnN0IHAwID0gdmFsdWVzWyBvZmZzZXQwICsgaSArIHN0cmlkZSBdOyAvLyBzcGxpbmVWZXJ0ZXhfa1xuXHRcdFx0Y29uc3QgbTAgPSB2YWx1ZXNbIG9mZnNldDAgKyBpICsgc3RyaWRlMiBdICogdGQ7IC8vIG91dFRhbmdlbnRfayAqICh0X2srMSAtIHRfaylcblx0XHRcdGNvbnN0IHAxID0gdmFsdWVzWyBvZmZzZXQxICsgaSArIHN0cmlkZSBdOyAvLyBzcGxpbmVWZXJ0ZXhfaysxXG5cdFx0XHRjb25zdCBtMSA9IHZhbHVlc1sgb2Zmc2V0MSArIGkgXSAqIHRkOyAvLyBpblRhbmdlbnRfaysxICogKHRfaysxIC0gdF9rKVxuXG5cdFx0XHRyZXN1bHRbIGkgXSA9IHMwICogcDAgKyBzMSAqIG0wICsgczIgKiBwMSArIHMzICogbTE7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXG5cdH1cblxufVxuXG5jb25zdCBfcSA9IG5ldyBRdWF0ZXJuaW9uKCk7XG5cbmNsYXNzIEdMVEZDdWJpY1NwbGluZVF1YXRlcm5pb25JbnRlcnBvbGFudCBleHRlbmRzIEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50IHtcblxuXHRpbnRlcnBvbGF0ZV8oIGkxLCB0MCwgdCwgdDEgKSB7XG5cblx0XHRjb25zdCByZXN1bHQgPSBzdXBlci5pbnRlcnBvbGF0ZV8oIGkxLCB0MCwgdCwgdDEgKTtcblxuXHRcdF9xLmZyb21BcnJheSggcmVzdWx0ICkubm9ybWFsaXplKCkudG9BcnJheSggcmVzdWx0ICk7XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXG5cdH1cblxufVxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqKioqKiBJTlRFUk5BTFMgKioqKioqKioqKioqL1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyogQ09OU1RBTlRTICovXG5cbmNvbnN0IFdFQkdMX0NPTlNUQU5UUyA9IHtcblx0RkxPQVQ6IDUxMjYsXG5cdC8vRkxPQVRfTUFUMjogMzU2NzQsXG5cdEZMT0FUX01BVDM6IDM1Njc1LFxuXHRGTE9BVF9NQVQ0OiAzNTY3Nixcblx0RkxPQVRfVkVDMjogMzU2NjQsXG5cdEZMT0FUX1ZFQzM6IDM1NjY1LFxuXHRGTE9BVF9WRUM0OiAzNTY2Nixcblx0TElORUFSOiA5NzI5LFxuXHRSRVBFQVQ6IDEwNDk3LFxuXHRTQU1QTEVSXzJEOiAzNTY3OCxcblx0UE9JTlRTOiAwLFxuXHRMSU5FUzogMSxcblx0TElORV9MT09QOiAyLFxuXHRMSU5FX1NUUklQOiAzLFxuXHRUUklBTkdMRVM6IDQsXG5cdFRSSUFOR0xFX1NUUklQOiA1LFxuXHRUUklBTkdMRV9GQU46IDYsXG5cdFVOU0lHTkVEX0JZVEU6IDUxMjEsXG5cdFVOU0lHTkVEX1NIT1JUOiA1MTIzXG59O1xuXG5jb25zdCBXRUJHTF9DT01QT05FTlRfVFlQRVMgPSB7XG5cdDUxMjA6IEludDhBcnJheSxcblx0NTEyMTogVWludDhBcnJheSxcblx0NTEyMjogSW50MTZBcnJheSxcblx0NTEyMzogVWludDE2QXJyYXksXG5cdDUxMjU6IFVpbnQzMkFycmF5LFxuXHQ1MTI2OiBGbG9hdDMyQXJyYXlcbn07XG5cbmNvbnN0IFdFQkdMX0ZJTFRFUlMgPSB7XG5cdDk3Mjg6IE5lYXJlc3RGaWx0ZXIsXG5cdDk3Mjk6IExpbmVhckZpbHRlcixcblx0OTk4NDogTmVhcmVzdE1pcG1hcE5lYXJlc3RGaWx0ZXIsXG5cdDk5ODU6IExpbmVhck1pcG1hcE5lYXJlc3RGaWx0ZXIsXG5cdDk5ODY6IE5lYXJlc3RNaXBtYXBMaW5lYXJGaWx0ZXIsXG5cdDk5ODc6IExpbmVhck1pcG1hcExpbmVhckZpbHRlclxufTtcblxuY29uc3QgV0VCR0xfV1JBUFBJTkdTID0ge1xuXHQzMzA3MTogQ2xhbXBUb0VkZ2VXcmFwcGluZyxcblx0MzM2NDg6IE1pcnJvcmVkUmVwZWF0V3JhcHBpbmcsXG5cdDEwNDk3OiBSZXBlYXRXcmFwcGluZ1xufTtcblxuY29uc3QgV0VCR0xfVFlQRV9TSVpFUyA9IHtcblx0J1NDQUxBUic6IDEsXG5cdCdWRUMyJzogMixcblx0J1ZFQzMnOiAzLFxuXHQnVkVDNCc6IDQsXG5cdCdNQVQyJzogNCxcblx0J01BVDMnOiA5LFxuXHQnTUFUNCc6IDE2XG59O1xuXG5jb25zdCBBVFRSSUJVVEVTID0ge1xuXHRQT1NJVElPTjogJ3Bvc2l0aW9uJyxcblx0Tk9STUFMOiAnbm9ybWFsJyxcblx0VEFOR0VOVDogJ3RhbmdlbnQnLFxuXHRURVhDT09SRF8wOiAndXYnLFxuXHRURVhDT09SRF8xOiAndXYyJyxcblx0Q09MT1JfMDogJ2NvbG9yJyxcblx0V0VJR0hUU18wOiAnc2tpbldlaWdodCcsXG5cdEpPSU5UU18wOiAnc2tpbkluZGV4Jyxcbn07XG5cbmNvbnN0IFBBVEhfUFJPUEVSVElFUyA9IHtcblx0c2NhbGU6ICdzY2FsZScsXG5cdHRyYW5zbGF0aW9uOiAncG9zaXRpb24nLFxuXHRyb3RhdGlvbjogJ3F1YXRlcm5pb24nLFxuXHR3ZWlnaHRzOiAnbW9ycGhUYXJnZXRJbmZsdWVuY2VzJ1xufTtcblxuY29uc3QgSU5URVJQT0xBVElPTiA9IHtcblx0Q1VCSUNTUExJTkU6IHVuZGVmaW5lZCwgLy8gV2UgdXNlIGEgY3VzdG9tIGludGVycG9sYW50IChHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGF0aW9uKSBmb3IgQ1VCSUNTUExJTkUgdHJhY2tzLiBFYWNoXG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8ga2V5ZnJhbWUgdHJhY2sgd2lsbCBiZSBpbml0aWFsaXplZCB3aXRoIGEgZGVmYXVsdCBpbnRlcnBvbGF0aW9uIHR5cGUsIHRoZW4gbW9kaWZpZWQuXG5cdExJTkVBUjogSW50ZXJwb2xhdGVMaW5lYXIsXG5cdFNURVA6IEludGVycG9sYXRlRGlzY3JldGVcbn07XG5cbmNvbnN0IEFMUEhBX01PREVTID0ge1xuXHRPUEFRVUU6ICdPUEFRVUUnLFxuXHRNQVNLOiAnTUFTSycsXG5cdEJMRU5EOiAnQkxFTkQnXG59O1xuXG4vKipcbiAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjZGVmYXVsdC1tYXRlcmlhbFxuICovXG5mdW5jdGlvbiBjcmVhdGVEZWZhdWx0TWF0ZXJpYWwoIGNhY2hlICkge1xuXG5cdGlmICggY2FjaGVbICdEZWZhdWx0TWF0ZXJpYWwnIF0gPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdGNhY2hlWyAnRGVmYXVsdE1hdGVyaWFsJyBdID0gbmV3IE1lc2hTdGFuZGFyZE1hdGVyaWFsKCB7XG5cdFx0XHRjb2xvcjogMHhGRkZGRkYsXG5cdFx0XHRlbWlzc2l2ZTogMHgwMDAwMDAsXG5cdFx0XHRtZXRhbG5lc3M6IDEsXG5cdFx0XHRyb3VnaG5lc3M6IDEsXG5cdFx0XHR0cmFuc3BhcmVudDogZmFsc2UsXG5cdFx0XHRkZXB0aFRlc3Q6IHRydWUsXG5cdFx0XHRzaWRlOiBGcm9udFNpZGVcblx0XHR9ICk7XG5cblx0fVxuXG5cdHJldHVybiBjYWNoZVsgJ0RlZmF1bHRNYXRlcmlhbCcgXTtcblxufVxuXG5mdW5jdGlvbiBhZGRVbmtub3duRXh0ZW5zaW9uc1RvVXNlckRhdGEoIGtub3duRXh0ZW5zaW9ucywgb2JqZWN0LCBvYmplY3REZWYgKSB7XG5cblx0Ly8gQWRkIHVua25vd24gZ2xURiBleHRlbnNpb25zIHRvIGFuIG9iamVjdCdzIHVzZXJEYXRhLlxuXG5cdGZvciAoIGNvbnN0IG5hbWUgaW4gb2JqZWN0RGVmLmV4dGVuc2lvbnMgKSB7XG5cblx0XHRpZiAoIGtub3duRXh0ZW5zaW9uc1sgbmFtZSBdID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdG9iamVjdC51c2VyRGF0YS5nbHRmRXh0ZW5zaW9ucyA9IG9iamVjdC51c2VyRGF0YS5nbHRmRXh0ZW5zaW9ucyB8fCB7fTtcblx0XHRcdG9iamVjdC51c2VyRGF0YS5nbHRmRXh0ZW5zaW9uc1sgbmFtZSBdID0gb2JqZWN0RGVmLmV4dGVuc2lvbnNbIG5hbWUgXTtcblxuXHRcdH1cblxuXHR9XG5cbn1cblxuLyoqXG4gKiBAcGFyYW0ge09iamVjdDNEfE1hdGVyaWFsfEJ1ZmZlckdlb21ldHJ5fSBvYmplY3RcbiAqIEBwYXJhbSB7R0xURi5kZWZpbml0aW9ufSBnbHRmRGVmXG4gKi9cbmZ1bmN0aW9uIGFzc2lnbkV4dHJhc1RvVXNlckRhdGEoIG9iamVjdCwgZ2x0ZkRlZiApIHtcblxuXHRpZiAoIGdsdGZEZWYuZXh0cmFzICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRpZiAoIHR5cGVvZiBnbHRmRGVmLmV4dHJhcyA9PT0gJ29iamVjdCcgKSB7XG5cblx0XHRcdE9iamVjdC5hc3NpZ24oIG9iamVjdC51c2VyRGF0YSwgZ2x0ZkRlZi5leHRyYXMgKTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkdMVEZMb2FkZXI6IElnbm9yaW5nIHByaW1pdGl2ZSB0eXBlIC5leHRyYXMsICcgKyBnbHRmRGVmLmV4dHJhcyApO1xuXG5cdFx0fVxuXG5cdH1cblxufVxuXG4vKipcbiAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjbW9ycGgtdGFyZ2V0c1xuICpcbiAqIEBwYXJhbSB7QnVmZmVyR2VvbWV0cnl9IGdlb21ldHJ5XG4gKiBAcGFyYW0ge0FycmF5PEdMVEYuVGFyZ2V0Pn0gdGFyZ2V0c1xuICogQHBhcmFtIHtHTFRGUGFyc2VyfSBwYXJzZXJcbiAqIEByZXR1cm4ge1Byb21pc2U8QnVmZmVyR2VvbWV0cnk+fVxuICovXG5mdW5jdGlvbiBhZGRNb3JwaFRhcmdldHMoIGdlb21ldHJ5LCB0YXJnZXRzLCBwYXJzZXIgKSB7XG5cblx0bGV0IGhhc01vcnBoUG9zaXRpb24gPSBmYWxzZTtcblx0bGV0IGhhc01vcnBoTm9ybWFsID0gZmFsc2U7XG5cdGxldCBoYXNNb3JwaENvbG9yID0gZmFsc2U7XG5cblx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IHRhcmdldHMubGVuZ3RoOyBpIDwgaWw7IGkgKysgKSB7XG5cblx0XHRjb25zdCB0YXJnZXQgPSB0YXJnZXRzWyBpIF07XG5cblx0XHRpZiAoIHRhcmdldC5QT1NJVElPTiAhPT0gdW5kZWZpbmVkICkgaGFzTW9ycGhQb3NpdGlvbiA9IHRydWU7XG5cdFx0aWYgKCB0YXJnZXQuTk9STUFMICE9PSB1bmRlZmluZWQgKSBoYXNNb3JwaE5vcm1hbCA9IHRydWU7XG5cdFx0aWYgKCB0YXJnZXQuQ09MT1JfMCAhPT0gdW5kZWZpbmVkICkgaGFzTW9ycGhDb2xvciA9IHRydWU7XG5cblx0XHRpZiAoIGhhc01vcnBoUG9zaXRpb24gJiYgaGFzTW9ycGhOb3JtYWwgJiYgaGFzTW9ycGhDb2xvciApIGJyZWFrO1xuXG5cdH1cblxuXHRpZiAoICEgaGFzTW9ycGhQb3NpdGlvbiAmJiAhIGhhc01vcnBoTm9ybWFsICYmICEgaGFzTW9ycGhDb2xvciApIHJldHVybiBQcm9taXNlLnJlc29sdmUoIGdlb21ldHJ5ICk7XG5cblx0Y29uc3QgcGVuZGluZ1Bvc2l0aW9uQWNjZXNzb3JzID0gW107XG5cdGNvbnN0IHBlbmRpbmdOb3JtYWxBY2Nlc3NvcnMgPSBbXTtcblx0Y29uc3QgcGVuZGluZ0NvbG9yQWNjZXNzb3JzID0gW107XG5cblx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IHRhcmdldHMubGVuZ3RoOyBpIDwgaWw7IGkgKysgKSB7XG5cblx0XHRjb25zdCB0YXJnZXQgPSB0YXJnZXRzWyBpIF07XG5cblx0XHRpZiAoIGhhc01vcnBoUG9zaXRpb24gKSB7XG5cblx0XHRcdGNvbnN0IHBlbmRpbmdBY2Nlc3NvciA9IHRhcmdldC5QT1NJVElPTiAhPT0gdW5kZWZpbmVkXG5cdFx0XHRcdD8gcGFyc2VyLmdldERlcGVuZGVuY3koICdhY2Nlc3NvcicsIHRhcmdldC5QT1NJVElPTiApXG5cdFx0XHRcdDogZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbjtcblxuXHRcdFx0cGVuZGluZ1Bvc2l0aW9uQWNjZXNzb3JzLnB1c2goIHBlbmRpbmdBY2Nlc3NvciApO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBoYXNNb3JwaE5vcm1hbCApIHtcblxuXHRcdFx0Y29uc3QgcGVuZGluZ0FjY2Vzc29yID0gdGFyZ2V0Lk5PUk1BTCAhPT0gdW5kZWZpbmVkXG5cdFx0XHRcdD8gcGFyc2VyLmdldERlcGVuZGVuY3koICdhY2Nlc3NvcicsIHRhcmdldC5OT1JNQUwgKVxuXHRcdFx0XHQ6IGdlb21ldHJ5LmF0dHJpYnV0ZXMubm9ybWFsO1xuXG5cdFx0XHRwZW5kaW5nTm9ybWFsQWNjZXNzb3JzLnB1c2goIHBlbmRpbmdBY2Nlc3NvciApO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBoYXNNb3JwaENvbG9yICkge1xuXG5cdFx0XHRjb25zdCBwZW5kaW5nQWNjZXNzb3IgPSB0YXJnZXQuQ09MT1JfMCAhPT0gdW5kZWZpbmVkXG5cdFx0XHRcdD8gcGFyc2VyLmdldERlcGVuZGVuY3koICdhY2Nlc3NvcicsIHRhcmdldC5DT0xPUl8wIClcblx0XHRcdFx0OiBnZW9tZXRyeS5hdHRyaWJ1dGVzLmNvbG9yO1xuXG5cdFx0XHRwZW5kaW5nQ29sb3JBY2Nlc3NvcnMucHVzaCggcGVuZGluZ0FjY2Vzc29yICk7XG5cblx0XHR9XG5cblx0fVxuXG5cdHJldHVybiBQcm9taXNlLmFsbCggW1xuXHRcdFByb21pc2UuYWxsKCBwZW5kaW5nUG9zaXRpb25BY2Nlc3NvcnMgKSxcblx0XHRQcm9taXNlLmFsbCggcGVuZGluZ05vcm1hbEFjY2Vzc29ycyApLFxuXHRcdFByb21pc2UuYWxsKCBwZW5kaW5nQ29sb3JBY2Nlc3NvcnMgKVxuXHRdICkudGhlbiggZnVuY3Rpb24gKCBhY2Nlc3NvcnMgKSB7XG5cblx0XHRjb25zdCBtb3JwaFBvc2l0aW9ucyA9IGFjY2Vzc29yc1sgMCBdO1xuXHRcdGNvbnN0IG1vcnBoTm9ybWFscyA9IGFjY2Vzc29yc1sgMSBdO1xuXHRcdGNvbnN0IG1vcnBoQ29sb3JzID0gYWNjZXNzb3JzWyAyIF07XG5cblx0XHRpZiAoIGhhc01vcnBoUG9zaXRpb24gKSBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb24gPSBtb3JwaFBvc2l0aW9ucztcblx0XHRpZiAoIGhhc01vcnBoTm9ybWFsICkgZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzLm5vcm1hbCA9IG1vcnBoTm9ybWFscztcblx0XHRpZiAoIGhhc01vcnBoQ29sb3IgKSBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMuY29sb3IgPSBtb3JwaENvbG9ycztcblx0XHRnZW9tZXRyeS5tb3JwaFRhcmdldHNSZWxhdGl2ZSA9IHRydWU7XG5cblx0XHRyZXR1cm4gZ2VvbWV0cnk7XG5cblx0fSApO1xuXG59XG5cbi8qKlxuICogQHBhcmFtIHtNZXNofSBtZXNoXG4gKiBAcGFyYW0ge0dMVEYuTWVzaH0gbWVzaERlZlxuICovXG5mdW5jdGlvbiB1cGRhdGVNb3JwaFRhcmdldHMoIG1lc2gsIG1lc2hEZWYgKSB7XG5cblx0bWVzaC51cGRhdGVNb3JwaFRhcmdldHMoKTtcblxuXHRpZiAoIG1lc2hEZWYud2VpZ2h0cyAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IG1lc2hEZWYud2VpZ2h0cy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0bWVzaC5tb3JwaFRhcmdldEluZmx1ZW5jZXNbIGkgXSA9IG1lc2hEZWYud2VpZ2h0c1sgaSBdO1xuXG5cdFx0fVxuXG5cdH1cblxuXHQvLyAuZXh0cmFzIGhhcyB1c2VyLWRlZmluZWQgZGF0YSwgc28gY2hlY2sgdGhhdCAuZXh0cmFzLnRhcmdldE5hbWVzIGlzIGFuIGFycmF5LlxuXHRpZiAoIG1lc2hEZWYuZXh0cmFzICYmIEFycmF5LmlzQXJyYXkoIG1lc2hEZWYuZXh0cmFzLnRhcmdldE5hbWVzICkgKSB7XG5cblx0XHRjb25zdCB0YXJnZXROYW1lcyA9IG1lc2hEZWYuZXh0cmFzLnRhcmdldE5hbWVzO1xuXG5cdFx0aWYgKCBtZXNoLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcy5sZW5ndGggPT09IHRhcmdldE5hbWVzLmxlbmd0aCApIHtcblxuXHRcdFx0bWVzaC5tb3JwaFRhcmdldERpY3Rpb25hcnkgPSB7fTtcblxuXHRcdFx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IHRhcmdldE5hbWVzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkge1xuXG5cdFx0XHRcdG1lc2gubW9ycGhUYXJnZXREaWN0aW9uYXJ5WyB0YXJnZXROYW1lc1sgaSBdIF0gPSBpO1xuXG5cdFx0XHR9XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5HTFRGTG9hZGVyOiBJbnZhbGlkIGV4dHJhcy50YXJnZXROYW1lcyBsZW5ndGguIElnbm9yaW5nIG5hbWVzLicgKTtcblxuXHRcdH1cblxuXHR9XG5cbn1cblxuZnVuY3Rpb24gY3JlYXRlUHJpbWl0aXZlS2V5KCBwcmltaXRpdmVEZWYgKSB7XG5cblx0Y29uc3QgZHJhY29FeHRlbnNpb24gPSBwcmltaXRpdmVEZWYuZXh0ZW5zaW9ucyAmJiBwcmltaXRpdmVEZWYuZXh0ZW5zaW9uc1sgRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTiBdO1xuXHRsZXQgZ2VvbWV0cnlLZXk7XG5cblx0aWYgKCBkcmFjb0V4dGVuc2lvbiApIHtcblxuXHRcdGdlb21ldHJ5S2V5ID0gJ2RyYWNvOicgKyBkcmFjb0V4dGVuc2lvbi5idWZmZXJWaWV3XG5cdFx0XHRcdCsgJzonICsgZHJhY29FeHRlbnNpb24uaW5kaWNlc1xuXHRcdFx0XHQrICc6JyArIGNyZWF0ZUF0dHJpYnV0ZXNLZXkoIGRyYWNvRXh0ZW5zaW9uLmF0dHJpYnV0ZXMgKTtcblxuXHR9IGVsc2Uge1xuXG5cdFx0Z2VvbWV0cnlLZXkgPSBwcmltaXRpdmVEZWYuaW5kaWNlcyArICc6JyArIGNyZWF0ZUF0dHJpYnV0ZXNLZXkoIHByaW1pdGl2ZURlZi5hdHRyaWJ1dGVzICkgKyAnOicgKyBwcmltaXRpdmVEZWYubW9kZTtcblxuXHR9XG5cblx0cmV0dXJuIGdlb21ldHJ5S2V5O1xuXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUF0dHJpYnV0ZXNLZXkoIGF0dHJpYnV0ZXMgKSB7XG5cblx0bGV0IGF0dHJpYnV0ZXNLZXkgPSAnJztcblxuXHRjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoIGF0dHJpYnV0ZXMgKS5zb3J0KCk7XG5cblx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IGtleXMubGVuZ3RoOyBpIDwgaWw7IGkgKysgKSB7XG5cblx0XHRhdHRyaWJ1dGVzS2V5ICs9IGtleXNbIGkgXSArICc6JyArIGF0dHJpYnV0ZXNbIGtleXNbIGkgXSBdICsgJzsnO1xuXG5cdH1cblxuXHRyZXR1cm4gYXR0cmlidXRlc0tleTtcblxufVxuXG5mdW5jdGlvbiBnZXROb3JtYWxpemVkQ29tcG9uZW50U2NhbGUoIGNvbnN0cnVjdG9yICkge1xuXG5cdC8vIFJlZmVyZW5jZTpcblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX21lc2hfcXVhbnRpemF0aW9uI2VuY29kaW5nLXF1YW50aXplZC1kYXRhXG5cblx0c3dpdGNoICggY29uc3RydWN0b3IgKSB7XG5cblx0XHRjYXNlIEludDhBcnJheTpcblx0XHRcdHJldHVybiAxIC8gMTI3O1xuXG5cdFx0Y2FzZSBVaW50OEFycmF5OlxuXHRcdFx0cmV0dXJuIDEgLyAyNTU7XG5cblx0XHRjYXNlIEludDE2QXJyYXk6XG5cdFx0XHRyZXR1cm4gMSAvIDMyNzY3O1xuXG5cdFx0Y2FzZSBVaW50MTZBcnJheTpcblx0XHRcdHJldHVybiAxIC8gNjU1MzU7XG5cblx0XHRkZWZhdWx0OlxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCAnVEhSRUUuR0xURkxvYWRlcjogVW5zdXBwb3J0ZWQgbm9ybWFsaXplZCBhY2Nlc3NvciBjb21wb25lbnQgdHlwZS4nICk7XG5cblx0fVxuXG59XG5cbmZ1bmN0aW9uIGdldEltYWdlVVJJTWltZVR5cGUoIHVyaSApIHtcblxuXHRpZiAoIHVyaS5zZWFyY2goIC9cXC5qcGU/ZygkfFxcPykvaSApID4gMCB8fCB1cmkuc2VhcmNoKCAvXmRhdGFcXDppbWFnZVxcL2pwZWcvICkgPT09IDAgKSByZXR1cm4gJ2ltYWdlL2pwZWcnO1xuXHRpZiAoIHVyaS5zZWFyY2goIC9cXC53ZWJwKCR8XFw/KS9pICkgPiAwIHx8IHVyaS5zZWFyY2goIC9eZGF0YVxcOmltYWdlXFwvd2VicC8gKSA9PT0gMCApIHJldHVybiAnaW1hZ2Uvd2VicCc7XG5cblx0cmV0dXJuICdpbWFnZS9wbmcnO1xuXG59XG5cbmNvbnN0IF9pZGVudGl0eU1hdHJpeCA9IG5ldyBNYXRyaXg0KCk7XG5cbi8qIEdMVEYgUEFSU0VSICovXG5cbmNsYXNzIEdMVEZQYXJzZXIge1xuXG5cdGNvbnN0cnVjdG9yKCBqc29uID0ge30sIG9wdGlvbnMgPSB7fSApIHtcblxuXHRcdHRoaXMuanNvbiA9IGpzb247XG5cdFx0dGhpcy5leHRlbnNpb25zID0ge307XG5cdFx0dGhpcy5wbHVnaW5zID0ge307XG5cdFx0dGhpcy5vcHRpb25zID0gb3B0aW9ucztcblxuXHRcdC8vIGxvYWRlciBvYmplY3QgY2FjaGVcblx0XHR0aGlzLmNhY2hlID0gbmV3IEdMVEZSZWdpc3RyeSgpO1xuXG5cdFx0Ly8gYXNzb2NpYXRpb25zIGJldHdlZW4gVGhyZWUuanMgb2JqZWN0cyBhbmQgZ2xURiBlbGVtZW50c1xuXHRcdHRoaXMuYXNzb2NpYXRpb25zID0gbmV3IE1hcCgpO1xuXG5cdFx0Ly8gQnVmZmVyR2VvbWV0cnkgY2FjaGluZ1xuXHRcdHRoaXMucHJpbWl0aXZlQ2FjaGUgPSB7fTtcblxuXHRcdC8vIE9iamVjdDNEIGluc3RhbmNlIGNhY2hlc1xuXHRcdHRoaXMubWVzaENhY2hlID0geyByZWZzOiB7fSwgdXNlczoge30gfTtcblx0XHR0aGlzLmNhbWVyYUNhY2hlID0geyByZWZzOiB7fSwgdXNlczoge30gfTtcblx0XHR0aGlzLmxpZ2h0Q2FjaGUgPSB7IHJlZnM6IHt9LCB1c2VzOiB7fSB9O1xuXG5cdFx0dGhpcy5zb3VyY2VDYWNoZSA9IHt9O1xuXHRcdHRoaXMudGV4dHVyZUNhY2hlID0ge307XG5cblx0XHQvLyBUcmFjayBub2RlIG5hbWVzLCB0byBlbnN1cmUgbm8gZHVwbGljYXRlc1xuXHRcdHRoaXMubm9kZU5hbWVzVXNlZCA9IHt9O1xuXG5cdFx0Ly8gVXNlIGFuIEltYWdlQml0bWFwTG9hZGVyIGlmIGltYWdlQml0bWFwcyBhcmUgc3VwcG9ydGVkLiBNb3ZlcyBtdWNoIG9mIHRoZVxuXHRcdC8vIGV4cGVuc2l2ZSB3b3JrIG9mIHVwbG9hZGluZyBhIHRleHR1cmUgdG8gdGhlIEdQVSBvZmYgdGhlIG1haW4gdGhyZWFkLlxuXG5cdFx0bGV0IGlzU2FmYXJpID0gZmFsc2U7XG5cdFx0bGV0IGlzRmlyZWZveCA9IGZhbHNlO1xuXHRcdGxldCBmaXJlZm94VmVyc2lvbiA9IC0gMTtcblxuXHRcdGlmICggdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgKSB7XG5cblx0XHRcdGlzU2FmYXJpID0gL14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdCggbmF2aWdhdG9yLnVzZXJBZ2VudCApID09PSB0cnVlO1xuXHRcdFx0aXNGaXJlZm94ID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCAnRmlyZWZveCcgKSA+IC0gMTtcblx0XHRcdGZpcmVmb3hWZXJzaW9uID0gaXNGaXJlZm94ID8gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCggL0ZpcmVmb3hcXC8oWzAtOV0rKVxcLi8gKVsgMSBdIDogLSAxO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlb2YgY3JlYXRlSW1hZ2VCaXRtYXAgPT09ICd1bmRlZmluZWQnIHx8IGlzU2FmYXJpIHx8ICggaXNGaXJlZm94ICYmIGZpcmVmb3hWZXJzaW9uIDwgOTggKSApIHtcblxuXHRcdFx0dGhpcy50ZXh0dXJlTG9hZGVyID0gbmV3IFRleHR1cmVMb2FkZXIoIHRoaXMub3B0aW9ucy5tYW5hZ2VyICk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHR0aGlzLnRleHR1cmVMb2FkZXIgPSBuZXcgSW1hZ2VCaXRtYXBMb2FkZXIoIHRoaXMub3B0aW9ucy5tYW5hZ2VyICk7XG5cblx0XHR9XG5cblx0XHR0aGlzLnRleHR1cmVMb2FkZXIuc2V0Q3Jvc3NPcmlnaW4oIHRoaXMub3B0aW9ucy5jcm9zc09yaWdpbiApO1xuXHRcdHRoaXMudGV4dHVyZUxvYWRlci5zZXRSZXF1ZXN0SGVhZGVyKCB0aGlzLm9wdGlvbnMucmVxdWVzdEhlYWRlciApO1xuXG5cdFx0dGhpcy5maWxlTG9hZGVyID0gbmV3IEZpbGVMb2FkZXIoIHRoaXMub3B0aW9ucy5tYW5hZ2VyICk7XG5cdFx0dGhpcy5maWxlTG9hZGVyLnNldFJlc3BvbnNlVHlwZSggJ2FycmF5YnVmZmVyJyApO1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuY3Jvc3NPcmlnaW4gPT09ICd1c2UtY3JlZGVudGlhbHMnICkge1xuXG5cdFx0XHR0aGlzLmZpbGVMb2FkZXIuc2V0V2l0aENyZWRlbnRpYWxzKCB0cnVlICk7XG5cblx0XHR9XG5cblx0fVxuXG5cdHNldEV4dGVuc2lvbnMoIGV4dGVuc2lvbnMgKSB7XG5cblx0XHR0aGlzLmV4dGVuc2lvbnMgPSBleHRlbnNpb25zO1xuXG5cdH1cblxuXHRzZXRQbHVnaW5zKCBwbHVnaW5zICkge1xuXG5cdFx0dGhpcy5wbHVnaW5zID0gcGx1Z2lucztcblxuXHR9XG5cblx0cGFyc2UoIG9uTG9hZCwgb25FcnJvciApIHtcblxuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXM7XG5cdFx0Y29uc3QganNvbiA9IHRoaXMuanNvbjtcblx0XHRjb25zdCBleHRlbnNpb25zID0gdGhpcy5leHRlbnNpb25zO1xuXG5cdFx0Ly8gQ2xlYXIgdGhlIGxvYWRlciBjYWNoZVxuXHRcdHRoaXMuY2FjaGUucmVtb3ZlQWxsKCk7XG5cblx0XHQvLyBNYXJrIHRoZSBzcGVjaWFsIG5vZGVzL21lc2hlcyBpbiBqc29uIGZvciBlZmZpY2llbnQgcGFyc2Vcblx0XHR0aGlzLl9pbnZva2VBbGwoIGZ1bmN0aW9uICggZXh0ICkge1xuXG5cdFx0XHRyZXR1cm4gZXh0Ll9tYXJrRGVmcyAmJiBleHQuX21hcmtEZWZzKCk7XG5cblx0XHR9ICk7XG5cblx0XHRQcm9taXNlLmFsbCggdGhpcy5faW52b2tlQWxsKCBmdW5jdGlvbiAoIGV4dCApIHtcblxuXHRcdFx0cmV0dXJuIGV4dC5iZWZvcmVSb290ICYmIGV4dC5iZWZvcmVSb290KCk7XG5cblx0XHR9ICkgKS50aGVuKCBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdHJldHVybiBQcm9taXNlLmFsbCggW1xuXG5cdFx0XHRcdHBhcnNlci5nZXREZXBlbmRlbmNpZXMoICdzY2VuZScgKSxcblx0XHRcdFx0cGFyc2VyLmdldERlcGVuZGVuY2llcyggJ2FuaW1hdGlvbicgKSxcblx0XHRcdFx0cGFyc2VyLmdldERlcGVuZGVuY2llcyggJ2NhbWVyYScgKSxcblxuXHRcdFx0XSApO1xuXG5cdFx0fSApLnRoZW4oIGZ1bmN0aW9uICggZGVwZW5kZW5jaWVzICkge1xuXG5cdFx0XHRjb25zdCByZXN1bHQgPSB7XG5cdFx0XHRcdHNjZW5lOiBkZXBlbmRlbmNpZXNbIDAgXVsganNvbi5zY2VuZSB8fCAwIF0sXG5cdFx0XHRcdHNjZW5lczogZGVwZW5kZW5jaWVzWyAwIF0sXG5cdFx0XHRcdGFuaW1hdGlvbnM6IGRlcGVuZGVuY2llc1sgMSBdLFxuXHRcdFx0XHRjYW1lcmFzOiBkZXBlbmRlbmNpZXNbIDIgXSxcblx0XHRcdFx0YXNzZXQ6IGpzb24uYXNzZXQsXG5cdFx0XHRcdHBhcnNlcjogcGFyc2VyLFxuXHRcdFx0XHR1c2VyRGF0YToge31cblx0XHRcdH07XG5cblx0XHRcdGFkZFVua25vd25FeHRlbnNpb25zVG9Vc2VyRGF0YSggZXh0ZW5zaW9ucywgcmVzdWx0LCBqc29uICk7XG5cblx0XHRcdGFzc2lnbkV4dHJhc1RvVXNlckRhdGEoIHJlc3VsdCwganNvbiApO1xuXG5cdFx0XHRQcm9taXNlLmFsbCggcGFyc2VyLl9pbnZva2VBbGwoIGZ1bmN0aW9uICggZXh0ICkge1xuXG5cdFx0XHRcdHJldHVybiBleHQuYWZ0ZXJSb290ICYmIGV4dC5hZnRlclJvb3QoIHJlc3VsdCApO1xuXG5cdFx0XHR9ICkgKS50aGVuKCBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdFx0b25Mb2FkKCByZXN1bHQgKTtcblxuXHRcdFx0fSApO1xuXG5cdFx0fSApLmNhdGNoKCBvbkVycm9yICk7XG5cblx0fVxuXG5cdC8qKlxuXHQgKiBNYXJrcyB0aGUgc3BlY2lhbCBub2Rlcy9tZXNoZXMgaW4ganNvbiBmb3IgZWZmaWNpZW50IHBhcnNlLlxuXHQgKi9cblx0X21hcmtEZWZzKCkge1xuXG5cdFx0Y29uc3Qgbm9kZURlZnMgPSB0aGlzLmpzb24ubm9kZXMgfHwgW107XG5cdFx0Y29uc3Qgc2tpbkRlZnMgPSB0aGlzLmpzb24uc2tpbnMgfHwgW107XG5cdFx0Y29uc3QgbWVzaERlZnMgPSB0aGlzLmpzb24ubWVzaGVzIHx8IFtdO1xuXG5cdFx0Ly8gTm90aGluZyBpbiB0aGUgbm9kZSBkZWZpbml0aW9uIGluZGljYXRlcyB3aGV0aGVyIGl0IGlzIGEgQm9uZSBvciBhblxuXHRcdC8vIE9iamVjdDNELiBVc2UgdGhlIHNraW5zJyBqb2ludCByZWZlcmVuY2VzIHRvIG1hcmsgYm9uZXMuXG5cdFx0Zm9yICggbGV0IHNraW5JbmRleCA9IDAsIHNraW5MZW5ndGggPSBza2luRGVmcy5sZW5ndGg7IHNraW5JbmRleCA8IHNraW5MZW5ndGg7IHNraW5JbmRleCArKyApIHtcblxuXHRcdFx0Y29uc3Qgam9pbnRzID0gc2tpbkRlZnNbIHNraW5JbmRleCBdLmpvaW50cztcblxuXHRcdFx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IGpvaW50cy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0XHRub2RlRGVmc1sgam9pbnRzWyBpIF0gXS5pc0JvbmUgPSB0cnVlO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHQvLyBJdGVyYXRlIG92ZXIgYWxsIG5vZGVzLCBtYXJraW5nIHJlZmVyZW5jZXMgdG8gc2hhcmVkIHJlc291cmNlcyxcblx0XHQvLyBhcyB3ZWxsIGFzIHNrZWxldG9uIGpvaW50cy5cblx0XHRmb3IgKCBsZXQgbm9kZUluZGV4ID0gMCwgbm9kZUxlbmd0aCA9IG5vZGVEZWZzLmxlbmd0aDsgbm9kZUluZGV4IDwgbm9kZUxlbmd0aDsgbm9kZUluZGV4ICsrICkge1xuXG5cdFx0XHRjb25zdCBub2RlRGVmID0gbm9kZURlZnNbIG5vZGVJbmRleCBdO1xuXG5cdFx0XHRpZiAoIG5vZGVEZWYubWVzaCAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdHRoaXMuX2FkZE5vZGVSZWYoIHRoaXMubWVzaENhY2hlLCBub2RlRGVmLm1lc2ggKTtcblxuXHRcdFx0XHQvLyBOb3RoaW5nIGluIHRoZSBtZXNoIGRlZmluaXRpb24gaW5kaWNhdGVzIHdoZXRoZXIgaXQgaXNcblx0XHRcdFx0Ly8gYSBTa2lubmVkTWVzaCBvciBNZXNoLiBVc2UgdGhlIG5vZGUncyBtZXNoIHJlZmVyZW5jZVxuXHRcdFx0XHQvLyB0byBtYXJrIFNraW5uZWRNZXNoIGlmIG5vZGUgaGFzIHNraW4uXG5cdFx0XHRcdGlmICggbm9kZURlZi5za2luICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0XHRtZXNoRGVmc1sgbm9kZURlZi5tZXNoIF0uaXNTa2lubmVkTWVzaCA9IHRydWU7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHRcdGlmICggbm9kZURlZi5jYW1lcmEgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHR0aGlzLl9hZGROb2RlUmVmKCB0aGlzLmNhbWVyYUNhY2hlLCBub2RlRGVmLmNhbWVyYSApO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0fVxuXG5cdC8qKlxuXHQgKiBDb3VudHMgcmVmZXJlbmNlcyB0byBzaGFyZWQgbm9kZSAvIE9iamVjdDNEIHJlc291cmNlcy4gVGhlc2UgcmVzb3VyY2VzXG5cdCAqIGNhbiBiZSByZXVzZWQsIG9yIFwiaW5zdGFudGlhdGVkXCIsIGF0IG11bHRpcGxlIG5vZGVzIGluIHRoZSBzY2VuZVxuXHQgKiBoaWVyYXJjaHkuIE1lc2gsIENhbWVyYSwgYW5kIExpZ2h0IGluc3RhbmNlcyBhcmUgaW5zdGFudGlhdGVkIGFuZCBtdXN0XG5cdCAqIGJlIG1hcmtlZC4gTm9uLXNjZW5lZ3JhcGggcmVzb3VyY2VzIChsaWtlIE1hdGVyaWFscywgR2VvbWV0cmllcywgYW5kXG5cdCAqIFRleHR1cmVzKSBjYW4gYmUgcmV1c2VkIGRpcmVjdGx5IGFuZCBhcmUgbm90IG1hcmtlZCBoZXJlLlxuXHQgKlxuXHQgKiBFeGFtcGxlOiBDZXNpdW1NaWxrVHJ1Y2sgc2FtcGxlIG1vZGVsIHJldXNlcyBcIldoZWVsXCIgbWVzaGVzLlxuXHQgKi9cblx0X2FkZE5vZGVSZWYoIGNhY2hlLCBpbmRleCApIHtcblxuXHRcdGlmICggaW5kZXggPT09IHVuZGVmaW5lZCApIHJldHVybjtcblxuXHRcdGlmICggY2FjaGUucmVmc1sgaW5kZXggXSA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjYWNoZS5yZWZzWyBpbmRleCBdID0gY2FjaGUudXNlc1sgaW5kZXggXSA9IDA7XG5cblx0XHR9XG5cblx0XHRjYWNoZS5yZWZzWyBpbmRleCBdICsrO1xuXG5cdH1cblxuXHQvKiogUmV0dXJucyBhIHJlZmVyZW5jZSB0byBhIHNoYXJlZCByZXNvdXJjZSwgY2xvbmluZyBpdCBpZiBuZWNlc3NhcnkuICovXG5cdF9nZXROb2RlUmVmKCBjYWNoZSwgaW5kZXgsIG9iamVjdCApIHtcblxuXHRcdGlmICggY2FjaGUucmVmc1sgaW5kZXggXSA8PSAxICkgcmV0dXJuIG9iamVjdDtcblxuXHRcdGNvbnN0IHJlZiA9IG9iamVjdC5jbG9uZSgpO1xuXG5cdFx0Ly8gUHJvcGFnYXRlcyBtYXBwaW5ncyB0byB0aGUgY2xvbmVkIG9iamVjdCwgcHJldmVudHMgbWFwcGluZ3Mgb24gdGhlXG5cdFx0Ly8gb3JpZ2luYWwgb2JqZWN0IGZyb20gYmVpbmcgbG9zdC5cblx0XHRjb25zdCB1cGRhdGVNYXBwaW5ncyA9ICggb3JpZ2luYWwsIGNsb25lICkgPT4ge1xuXG5cdFx0XHRjb25zdCBtYXBwaW5ncyA9IHRoaXMuYXNzb2NpYXRpb25zLmdldCggb3JpZ2luYWwgKTtcblx0XHRcdGlmICggbWFwcGluZ3MgIT0gbnVsbCApIHtcblxuXHRcdFx0XHR0aGlzLmFzc29jaWF0aW9ucy5zZXQoIGNsb25lLCBtYXBwaW5ncyApO1xuXG5cdFx0XHR9XG5cblx0XHRcdGZvciAoIGNvbnN0IFsgaSwgY2hpbGQgXSBvZiBvcmlnaW5hbC5jaGlsZHJlbi5lbnRyaWVzKCkgKSB7XG5cblx0XHRcdFx0dXBkYXRlTWFwcGluZ3MoIGNoaWxkLCBjbG9uZS5jaGlsZHJlblsgaSBdICk7XG5cblx0XHRcdH1cblxuXHRcdH07XG5cblx0XHR1cGRhdGVNYXBwaW5ncyggb2JqZWN0LCByZWYgKTtcblxuXHRcdHJlZi5uYW1lICs9ICdfaW5zdGFuY2VfJyArICggY2FjaGUudXNlc1sgaW5kZXggXSArKyApO1xuXG5cdFx0cmV0dXJuIHJlZjtcblxuXHR9XG5cblx0X2ludm9rZU9uZSggZnVuYyApIHtcblxuXHRcdGNvbnN0IGV4dGVuc2lvbnMgPSBPYmplY3QudmFsdWVzKCB0aGlzLnBsdWdpbnMgKTtcblx0XHRleHRlbnNpb25zLnB1c2goIHRoaXMgKTtcblxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IGV4dGVuc2lvbnMubGVuZ3RoOyBpICsrICkge1xuXG5cdFx0XHRjb25zdCByZXN1bHQgPSBmdW5jKCBleHRlbnNpb25zWyBpIF0gKTtcblxuXHRcdFx0aWYgKCByZXN1bHQgKSByZXR1cm4gcmVzdWx0O1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG51bGw7XG5cblx0fVxuXG5cdF9pbnZva2VBbGwoIGZ1bmMgKSB7XG5cblx0XHRjb25zdCBleHRlbnNpb25zID0gT2JqZWN0LnZhbHVlcyggdGhpcy5wbHVnaW5zICk7XG5cdFx0ZXh0ZW5zaW9ucy51bnNoaWZ0KCB0aGlzICk7XG5cblx0XHRjb25zdCBwZW5kaW5nID0gW107XG5cblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCBleHRlbnNpb25zLmxlbmd0aDsgaSArKyApIHtcblxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gZnVuYyggZXh0ZW5zaW9uc1sgaSBdICk7XG5cblx0XHRcdGlmICggcmVzdWx0ICkgcGVuZGluZy5wdXNoKCByZXN1bHQgKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiBwZW5kaW5nO1xuXG5cdH1cblxuXHQvKipcblx0ICogUmVxdWVzdHMgdGhlIHNwZWNpZmllZCBkZXBlbmRlbmN5IGFzeW5jaHJvbm91c2x5LCB3aXRoIGNhY2hpbmcuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdDNEfE1hdGVyaWFsfFRIUkVFLlRleHR1cmV8QW5pbWF0aW9uQ2xpcHxBcnJheUJ1ZmZlcnxPYmplY3Q+fVxuXHQgKi9cblx0Z2V0RGVwZW5kZW5jeSggdHlwZSwgaW5kZXggKSB7XG5cblx0XHRjb25zdCBjYWNoZUtleSA9IHR5cGUgKyAnOicgKyBpbmRleDtcblx0XHRsZXQgZGVwZW5kZW5jeSA9IHRoaXMuY2FjaGUuZ2V0KCBjYWNoZUtleSApO1xuXG5cdFx0aWYgKCAhIGRlcGVuZGVuY3kgKSB7XG5cblx0XHRcdHN3aXRjaCAoIHR5cGUgKSB7XG5cblx0XHRcdFx0Y2FzZSAnc2NlbmUnOlxuXHRcdFx0XHRcdGRlcGVuZGVuY3kgPSB0aGlzLmxvYWRTY2VuZSggaW5kZXggKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlICdub2RlJzpcblx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gdGhpcy5faW52b2tlT25lKCBmdW5jdGlvbiAoIGV4dCApIHtcblxuXHRcdFx0XHRcdFx0cmV0dXJuIGV4dC5sb2FkTm9kZSAmJiBleHQubG9hZE5vZGUoIGluZGV4ICk7XG5cblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAnbWVzaCc6XG5cdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IHRoaXMuX2ludm9rZU9uZSggZnVuY3Rpb24gKCBleHQgKSB7XG5cblx0XHRcdFx0XHRcdHJldHVybiBleHQubG9hZE1lc2ggJiYgZXh0LmxvYWRNZXNoKCBpbmRleCApO1xuXG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgJ2FjY2Vzc29yJzpcblx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gdGhpcy5sb2FkQWNjZXNzb3IoIGluZGV4ICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAnYnVmZmVyVmlldyc6XG5cdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IHRoaXMuX2ludm9rZU9uZSggZnVuY3Rpb24gKCBleHQgKSB7XG5cblx0XHRcdFx0XHRcdHJldHVybiBleHQubG9hZEJ1ZmZlclZpZXcgJiYgZXh0LmxvYWRCdWZmZXJWaWV3KCBpbmRleCApO1xuXG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgJ2J1ZmZlcic6XG5cdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IHRoaXMubG9hZEJ1ZmZlciggaW5kZXggKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlICdtYXRlcmlhbCc6XG5cdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IHRoaXMuX2ludm9rZU9uZSggZnVuY3Rpb24gKCBleHQgKSB7XG5cblx0XHRcdFx0XHRcdHJldHVybiBleHQubG9hZE1hdGVyaWFsICYmIGV4dC5sb2FkTWF0ZXJpYWwoIGluZGV4ICk7XG5cblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAndGV4dHVyZSc6XG5cdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IHRoaXMuX2ludm9rZU9uZSggZnVuY3Rpb24gKCBleHQgKSB7XG5cblx0XHRcdFx0XHRcdHJldHVybiBleHQubG9hZFRleHR1cmUgJiYgZXh0LmxvYWRUZXh0dXJlKCBpbmRleCApO1xuXG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgJ3NraW4nOlxuXHRcdFx0XHRcdGRlcGVuZGVuY3kgPSB0aGlzLmxvYWRTa2luKCBpbmRleCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgJ2FuaW1hdGlvbic6XG5cdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IHRoaXMuX2ludm9rZU9uZSggZnVuY3Rpb24gKCBleHQgKSB7XG5cblx0XHRcdFx0XHRcdHJldHVybiBleHQubG9hZEFuaW1hdGlvbiAmJiBleHQubG9hZEFuaW1hdGlvbiggaW5kZXggKTtcblxuXHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlICdjYW1lcmEnOlxuXHRcdFx0XHRcdGRlcGVuZGVuY3kgPSB0aGlzLmxvYWRDYW1lcmEoIGluZGV4ICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gdGhpcy5faW52b2tlT25lKCBmdW5jdGlvbiAoIGV4dCApIHtcblxuXHRcdFx0XHRcdFx0cmV0dXJuIGV4dCAhPSB0aGlzICYmIGV4dC5nZXREZXBlbmRlbmN5ICYmIGV4dC5nZXREZXBlbmRlbmN5KCB0eXBlLCBpbmRleCApO1xuXG5cdFx0XHRcdFx0fSApO1xuXG5cdFx0XHRcdFx0aWYgKCAhIGRlcGVuZGVuY3kgKSB7XG5cblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvciggJ1Vua25vd24gdHlwZTogJyArIHR5cGUgKTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuY2FjaGUuYWRkKCBjYWNoZUtleSwgZGVwZW5kZW5jeSApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRlcGVuZGVuY3k7XG5cblx0fVxuXG5cdC8qKlxuXHQgKiBSZXF1ZXN0cyBhbGwgZGVwZW5kZW5jaWVzIG9mIHRoZSBzcGVjaWZpZWQgdHlwZSBhc3luY2hyb25vdXNseSwgd2l0aCBjYWNoaW5nLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5PE9iamVjdD4+fVxuXHQgKi9cblx0Z2V0RGVwZW5kZW5jaWVzKCB0eXBlICkge1xuXG5cdFx0bGV0IGRlcGVuZGVuY2llcyA9IHRoaXMuY2FjaGUuZ2V0KCB0eXBlICk7XG5cblx0XHRpZiAoICEgZGVwZW5kZW5jaWVzICkge1xuXG5cdFx0XHRjb25zdCBwYXJzZXIgPSB0aGlzO1xuXHRcdFx0Y29uc3QgZGVmcyA9IHRoaXMuanNvblsgdHlwZSArICggdHlwZSA9PT0gJ21lc2gnID8gJ2VzJyA6ICdzJyApIF0gfHwgW107XG5cblx0XHRcdGRlcGVuZGVuY2llcyA9IFByb21pc2UuYWxsKCBkZWZzLm1hcCggZnVuY3Rpb24gKCBkZWYsIGluZGV4ICkge1xuXG5cdFx0XHRcdHJldHVybiBwYXJzZXIuZ2V0RGVwZW5kZW5jeSggdHlwZSwgaW5kZXggKTtcblxuXHRcdFx0fSApICk7XG5cblx0XHRcdHRoaXMuY2FjaGUuYWRkKCB0eXBlLCBkZXBlbmRlbmNpZXMgKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiBkZXBlbmRlbmNpZXM7XG5cblx0fVxuXG5cdC8qKlxuXHQgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI2J1ZmZlcnMtYW5kLWJ1ZmZlci12aWV3c1xuXHQgKiBAcGFyYW0ge251bWJlcn0gYnVmZmVySW5kZXhcblx0ICogQHJldHVybiB7UHJvbWlzZTxBcnJheUJ1ZmZlcj59XG5cdCAqL1xuXHRsb2FkQnVmZmVyKCBidWZmZXJJbmRleCApIHtcblxuXHRcdGNvbnN0IGJ1ZmZlckRlZiA9IHRoaXMuanNvbi5idWZmZXJzWyBidWZmZXJJbmRleCBdO1xuXHRcdGNvbnN0IGxvYWRlciA9IHRoaXMuZmlsZUxvYWRlcjtcblxuXHRcdGlmICggYnVmZmVyRGVmLnR5cGUgJiYgYnVmZmVyRGVmLnR5cGUgIT09ICdhcnJheWJ1ZmZlcicgKSB7XG5cblx0XHRcdHRocm93IG5ldyBFcnJvciggJ1RIUkVFLkdMVEZMb2FkZXI6ICcgKyBidWZmZXJEZWYudHlwZSArICcgYnVmZmVyIHR5cGUgaXMgbm90IHN1cHBvcnRlZC4nICk7XG5cblx0XHR9XG5cblx0XHQvLyBJZiBwcmVzZW50LCBHTEIgY29udGFpbmVyIGlzIHJlcXVpcmVkIHRvIGJlIHRoZSBmaXJzdCBidWZmZXIuXG5cdFx0aWYgKCBidWZmZXJEZWYudXJpID09PSB1bmRlZmluZWQgJiYgYnVmZmVySW5kZXggPT09IDAgKSB7XG5cblx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoIHRoaXMuZXh0ZW5zaW9uc1sgRVhURU5TSU9OUy5LSFJfQklOQVJZX0dMVEYgXS5ib2R5ICk7XG5cblx0XHR9XG5cblx0XHRjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKCBmdW5jdGlvbiAoIHJlc29sdmUsIHJlamVjdCApIHtcblxuXHRcdFx0bG9hZGVyLmxvYWQoIExvYWRlclV0aWxzLnJlc29sdmVVUkwoIGJ1ZmZlckRlZi51cmksIG9wdGlvbnMucGF0aCApLCByZXNvbHZlLCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0XHRyZWplY3QoIG5ldyBFcnJvciggJ1RIUkVFLkdMVEZMb2FkZXI6IEZhaWxlZCB0byBsb2FkIGJ1ZmZlciBcIicgKyBidWZmZXJEZWYudXJpICsgJ1wiLicgKSApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHR9ICk7XG5cblx0fVxuXG5cdC8qKlxuXHQgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI2J1ZmZlcnMtYW5kLWJ1ZmZlci12aWV3c1xuXHQgKiBAcGFyYW0ge251bWJlcn0gYnVmZmVyVmlld0luZGV4XG5cdCAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXlCdWZmZXI+fVxuXHQgKi9cblx0bG9hZEJ1ZmZlclZpZXcoIGJ1ZmZlclZpZXdJbmRleCApIHtcblxuXHRcdGNvbnN0IGJ1ZmZlclZpZXdEZWYgPSB0aGlzLmpzb24uYnVmZmVyVmlld3NbIGJ1ZmZlclZpZXdJbmRleCBdO1xuXG5cdFx0cmV0dXJuIHRoaXMuZ2V0RGVwZW5kZW5jeSggJ2J1ZmZlcicsIGJ1ZmZlclZpZXdEZWYuYnVmZmVyICkudGhlbiggZnVuY3Rpb24gKCBidWZmZXIgKSB7XG5cblx0XHRcdGNvbnN0IGJ5dGVMZW5ndGggPSBidWZmZXJWaWV3RGVmLmJ5dGVMZW5ndGggfHwgMDtcblx0XHRcdGNvbnN0IGJ5dGVPZmZzZXQgPSBidWZmZXJWaWV3RGVmLmJ5dGVPZmZzZXQgfHwgMDtcblx0XHRcdHJldHVybiBidWZmZXIuc2xpY2UoIGJ5dGVPZmZzZXQsIGJ5dGVPZmZzZXQgKyBieXRlTGVuZ3RoICk7XG5cblx0XHR9ICk7XG5cblx0fVxuXG5cdC8qKlxuXHQgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI2FjY2Vzc29yc1xuXHQgKiBAcGFyYW0ge251bWJlcn0gYWNjZXNzb3JJbmRleFxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPEJ1ZmZlckF0dHJpYnV0ZXxJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZT59XG5cdCAqL1xuXHRsb2FkQWNjZXNzb3IoIGFjY2Vzc29ySW5kZXggKSB7XG5cblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzO1xuXHRcdGNvbnN0IGpzb24gPSB0aGlzLmpzb247XG5cblx0XHRjb25zdCBhY2Nlc3NvckRlZiA9IHRoaXMuanNvbi5hY2Nlc3NvcnNbIGFjY2Vzc29ySW5kZXggXTtcblxuXHRcdGlmICggYWNjZXNzb3JEZWYuYnVmZmVyVmlldyA9PT0gdW5kZWZpbmVkICYmIGFjY2Vzc29yRGVmLnNwYXJzZSA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zdCBpdGVtU2l6ZSA9IFdFQkdMX1RZUEVfU0laRVNbIGFjY2Vzc29yRGVmLnR5cGUgXTtcblx0XHRcdGNvbnN0IFR5cGVkQXJyYXkgPSBXRUJHTF9DT01QT05FTlRfVFlQRVNbIGFjY2Vzc29yRGVmLmNvbXBvbmVudFR5cGUgXTtcblx0XHRcdGNvbnN0IG5vcm1hbGl6ZWQgPSBhY2Nlc3NvckRlZi5ub3JtYWxpemVkID09PSB0cnVlO1xuXG5cdFx0XHRjb25zdCBhcnJheSA9IG5ldyBUeXBlZEFycmF5KCBhY2Nlc3NvckRlZi5jb3VudCAqIGl0ZW1TaXplICk7XG5cdFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCBuZXcgQnVmZmVyQXR0cmlidXRlKCBhcnJheSwgaXRlbVNpemUsIG5vcm1hbGl6ZWQgKSApO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgcGVuZGluZ0J1ZmZlclZpZXdzID0gW107XG5cblx0XHRpZiAoIGFjY2Vzc29yRGVmLmJ1ZmZlclZpZXcgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0cGVuZGluZ0J1ZmZlclZpZXdzLnB1c2goIHRoaXMuZ2V0RGVwZW5kZW5jeSggJ2J1ZmZlclZpZXcnLCBhY2Nlc3NvckRlZi5idWZmZXJWaWV3ICkgKTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHBlbmRpbmdCdWZmZXJWaWV3cy5wdXNoKCBudWxsICk7XG5cblx0XHR9XG5cblx0XHRpZiAoIGFjY2Vzc29yRGVmLnNwYXJzZSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRwZW5kaW5nQnVmZmVyVmlld3MucHVzaCggdGhpcy5nZXREZXBlbmRlbmN5KCAnYnVmZmVyVmlldycsIGFjY2Vzc29yRGVmLnNwYXJzZS5pbmRpY2VzLmJ1ZmZlclZpZXcgKSApO1xuXHRcdFx0cGVuZGluZ0J1ZmZlclZpZXdzLnB1c2goIHRoaXMuZ2V0RGVwZW5kZW5jeSggJ2J1ZmZlclZpZXcnLCBhY2Nlc3NvckRlZi5zcGFyc2UudmFsdWVzLmJ1ZmZlclZpZXcgKSApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIFByb21pc2UuYWxsKCBwZW5kaW5nQnVmZmVyVmlld3MgKS50aGVuKCBmdW5jdGlvbiAoIGJ1ZmZlclZpZXdzICkge1xuXG5cdFx0XHRjb25zdCBidWZmZXJWaWV3ID0gYnVmZmVyVmlld3NbIDAgXTtcblxuXHRcdFx0Y29uc3QgaXRlbVNpemUgPSBXRUJHTF9UWVBFX1NJWkVTWyBhY2Nlc3NvckRlZi50eXBlIF07XG5cdFx0XHRjb25zdCBUeXBlZEFycmF5ID0gV0VCR0xfQ09NUE9ORU5UX1RZUEVTWyBhY2Nlc3NvckRlZi5jb21wb25lbnRUeXBlIF07XG5cblx0XHRcdC8vIEZvciBWRUMzOiBpdGVtU2l6ZSBpcyAzLCBlbGVtZW50Qnl0ZXMgaXMgNCwgaXRlbUJ5dGVzIGlzIDEyLlxuXHRcdFx0Y29uc3QgZWxlbWVudEJ5dGVzID0gVHlwZWRBcnJheS5CWVRFU19QRVJfRUxFTUVOVDtcblx0XHRcdGNvbnN0IGl0ZW1CeXRlcyA9IGVsZW1lbnRCeXRlcyAqIGl0ZW1TaXplO1xuXHRcdFx0Y29uc3QgYnl0ZU9mZnNldCA9IGFjY2Vzc29yRGVmLmJ5dGVPZmZzZXQgfHwgMDtcblx0XHRcdGNvbnN0IGJ5dGVTdHJpZGUgPSBhY2Nlc3NvckRlZi5idWZmZXJWaWV3ICE9PSB1bmRlZmluZWQgPyBqc29uLmJ1ZmZlclZpZXdzWyBhY2Nlc3NvckRlZi5idWZmZXJWaWV3IF0uYnl0ZVN0cmlkZSA6IHVuZGVmaW5lZDtcblx0XHRcdGNvbnN0IG5vcm1hbGl6ZWQgPSBhY2Nlc3NvckRlZi5ub3JtYWxpemVkID09PSB0cnVlO1xuXHRcdFx0bGV0IGFycmF5LCBidWZmZXJBdHRyaWJ1dGU7XG5cblx0XHRcdC8vIFRoZSBidWZmZXIgaXMgbm90IGludGVybGVhdmVkIGlmIHRoZSBzdHJpZGUgaXMgdGhlIGl0ZW0gc2l6ZSBpbiBieXRlcy5cblx0XHRcdGlmICggYnl0ZVN0cmlkZSAmJiBieXRlU3RyaWRlICE9PSBpdGVtQnl0ZXMgKSB7XG5cblx0XHRcdFx0Ly8gRWFjaCBcInNsaWNlXCIgb2YgdGhlIGJ1ZmZlciwgYXMgZGVmaW5lZCBieSAnY291bnQnIGVsZW1lbnRzIG9mICdieXRlU3RyaWRlJyBieXRlcywgZ2V0cyBpdHMgb3duIEludGVybGVhdmVkQnVmZmVyXG5cdFx0XHRcdC8vIFRoaXMgbWFrZXMgc3VyZSB0aGF0IElCQS5jb3VudCByZWZsZWN0cyBhY2Nlc3Nvci5jb3VudCBwcm9wZXJseVxuXHRcdFx0XHRjb25zdCBpYlNsaWNlID0gTWF0aC5mbG9vciggYnl0ZU9mZnNldCAvIGJ5dGVTdHJpZGUgKTtcblx0XHRcdFx0Y29uc3QgaWJDYWNoZUtleSA9ICdJbnRlcmxlYXZlZEJ1ZmZlcjonICsgYWNjZXNzb3JEZWYuYnVmZmVyVmlldyArICc6JyArIGFjY2Vzc29yRGVmLmNvbXBvbmVudFR5cGUgKyAnOicgKyBpYlNsaWNlICsgJzonICsgYWNjZXNzb3JEZWYuY291bnQ7XG5cdFx0XHRcdGxldCBpYiA9IHBhcnNlci5jYWNoZS5nZXQoIGliQ2FjaGVLZXkgKTtcblxuXHRcdFx0XHRpZiAoICEgaWIgKSB7XG5cblx0XHRcdFx0XHRhcnJheSA9IG5ldyBUeXBlZEFycmF5KCBidWZmZXJWaWV3LCBpYlNsaWNlICogYnl0ZVN0cmlkZSwgYWNjZXNzb3JEZWYuY291bnQgKiBieXRlU3RyaWRlIC8gZWxlbWVudEJ5dGVzICk7XG5cblx0XHRcdFx0XHQvLyBJbnRlZ2VyIHBhcmFtZXRlcnMgdG8gSUIvSUJBIGFyZSBpbiBhcnJheSBlbGVtZW50cywgbm90IGJ5dGVzLlxuXHRcdFx0XHRcdGliID0gbmV3IEludGVybGVhdmVkQnVmZmVyKCBhcnJheSwgYnl0ZVN0cmlkZSAvIGVsZW1lbnRCeXRlcyApO1xuXG5cdFx0XHRcdFx0cGFyc2VyLmNhY2hlLmFkZCggaWJDYWNoZUtleSwgaWIgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0YnVmZmVyQXR0cmlidXRlID0gbmV3IEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKCBpYiwgaXRlbVNpemUsICggYnl0ZU9mZnNldCAlIGJ5dGVTdHJpZGUgKSAvIGVsZW1lbnRCeXRlcywgbm9ybWFsaXplZCApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdGlmICggYnVmZmVyVmlldyA9PT0gbnVsbCApIHtcblxuXHRcdFx0XHRcdGFycmF5ID0gbmV3IFR5cGVkQXJyYXkoIGFjY2Vzc29yRGVmLmNvdW50ICogaXRlbVNpemUgKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0YXJyYXkgPSBuZXcgVHlwZWRBcnJheSggYnVmZmVyVmlldywgYnl0ZU9mZnNldCwgYWNjZXNzb3JEZWYuY291bnQgKiBpdGVtU2l6ZSApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRidWZmZXJBdHRyaWJ1dGUgPSBuZXcgQnVmZmVyQXR0cmlidXRlKCBhcnJheSwgaXRlbVNpemUsIG5vcm1hbGl6ZWQgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI3NwYXJzZS1hY2Nlc3NvcnNcblx0XHRcdGlmICggYWNjZXNzb3JEZWYuc3BhcnNlICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0Y29uc3QgaXRlbVNpemVJbmRpY2VzID0gV0VCR0xfVFlQRV9TSVpFUy5TQ0FMQVI7XG5cdFx0XHRcdGNvbnN0IFR5cGVkQXJyYXlJbmRpY2VzID0gV0VCR0xfQ09NUE9ORU5UX1RZUEVTWyBhY2Nlc3NvckRlZi5zcGFyc2UuaW5kaWNlcy5jb21wb25lbnRUeXBlIF07XG5cblx0XHRcdFx0Y29uc3QgYnl0ZU9mZnNldEluZGljZXMgPSBhY2Nlc3NvckRlZi5zcGFyc2UuaW5kaWNlcy5ieXRlT2Zmc2V0IHx8IDA7XG5cdFx0XHRcdGNvbnN0IGJ5dGVPZmZzZXRWYWx1ZXMgPSBhY2Nlc3NvckRlZi5zcGFyc2UudmFsdWVzLmJ5dGVPZmZzZXQgfHwgMDtcblxuXHRcdFx0XHRjb25zdCBzcGFyc2VJbmRpY2VzID0gbmV3IFR5cGVkQXJyYXlJbmRpY2VzKCBidWZmZXJWaWV3c1sgMSBdLCBieXRlT2Zmc2V0SW5kaWNlcywgYWNjZXNzb3JEZWYuc3BhcnNlLmNvdW50ICogaXRlbVNpemVJbmRpY2VzICk7XG5cdFx0XHRcdGNvbnN0IHNwYXJzZVZhbHVlcyA9IG5ldyBUeXBlZEFycmF5KCBidWZmZXJWaWV3c1sgMiBdLCBieXRlT2Zmc2V0VmFsdWVzLCBhY2Nlc3NvckRlZi5zcGFyc2UuY291bnQgKiBpdGVtU2l6ZSApO1xuXG5cdFx0XHRcdGlmICggYnVmZmVyVmlldyAhPT0gbnVsbCApIHtcblxuXHRcdFx0XHRcdC8vIEF2b2lkIG1vZGlmeWluZyB0aGUgb3JpZ2luYWwgQXJyYXlCdWZmZXIsIGlmIHRoZSBidWZmZXJWaWV3IHdhc24ndCBpbml0aWFsaXplZCB3aXRoIHplcm9lcy5cblx0XHRcdFx0XHRidWZmZXJBdHRyaWJ1dGUgPSBuZXcgQnVmZmVyQXR0cmlidXRlKCBidWZmZXJBdHRyaWJ1dGUuYXJyYXkuc2xpY2UoKSwgYnVmZmVyQXR0cmlidXRlLml0ZW1TaXplLCBidWZmZXJBdHRyaWJ1dGUubm9ybWFsaXplZCApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gc3BhcnNlSW5kaWNlcy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0XHRcdGNvbnN0IGluZGV4ID0gc3BhcnNlSW5kaWNlc1sgaSBdO1xuXG5cdFx0XHRcdFx0YnVmZmVyQXR0cmlidXRlLnNldFgoIGluZGV4LCBzcGFyc2VWYWx1ZXNbIGkgKiBpdGVtU2l6ZSBdICk7XG5cdFx0XHRcdFx0aWYgKCBpdGVtU2l6ZSA+PSAyICkgYnVmZmVyQXR0cmlidXRlLnNldFkoIGluZGV4LCBzcGFyc2VWYWx1ZXNbIGkgKiBpdGVtU2l6ZSArIDEgXSApO1xuXHRcdFx0XHRcdGlmICggaXRlbVNpemUgPj0gMyApIGJ1ZmZlckF0dHJpYnV0ZS5zZXRaKCBpbmRleCwgc3BhcnNlVmFsdWVzWyBpICogaXRlbVNpemUgKyAyIF0gKTtcblx0XHRcdFx0XHRpZiAoIGl0ZW1TaXplID49IDQgKSBidWZmZXJBdHRyaWJ1dGUuc2V0VyggaW5kZXgsIHNwYXJzZVZhbHVlc1sgaSAqIGl0ZW1TaXplICsgMyBdICk7XG5cdFx0XHRcdFx0aWYgKCBpdGVtU2l6ZSA+PSA1ICkgdGhyb3cgbmV3IEVycm9yKCAnVEhSRUUuR0xURkxvYWRlcjogVW5zdXBwb3J0ZWQgaXRlbVNpemUgaW4gc3BhcnNlIEJ1ZmZlckF0dHJpYnV0ZS4nICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBidWZmZXJBdHRyaWJ1dGU7XG5cblx0XHR9ICk7XG5cblx0fVxuXG5cdC8qKlxuXHQgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjdGV4dHVyZXNcblx0ICogQHBhcmFtIHtudW1iZXJ9IHRleHR1cmVJbmRleFxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPFRIUkVFLlRleHR1cmV8bnVsbD59XG5cdCAqL1xuXHRsb2FkVGV4dHVyZSggdGV4dHVyZUluZGV4ICkge1xuXG5cdFx0Y29uc3QganNvbiA9IHRoaXMuanNvbjtcblx0XHRjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXHRcdGNvbnN0IHRleHR1cmVEZWYgPSBqc29uLnRleHR1cmVzWyB0ZXh0dXJlSW5kZXggXTtcblx0XHRjb25zdCBzb3VyY2VJbmRleCA9IHRleHR1cmVEZWYuc291cmNlO1xuXHRcdGNvbnN0IHNvdXJjZURlZiA9IGpzb24uaW1hZ2VzWyBzb3VyY2VJbmRleCBdO1xuXG5cdFx0bGV0IGxvYWRlciA9IHRoaXMudGV4dHVyZUxvYWRlcjtcblxuXHRcdGlmICggc291cmNlRGVmLnVyaSApIHtcblxuXHRcdFx0Y29uc3QgaGFuZGxlciA9IG9wdGlvbnMubWFuYWdlci5nZXRIYW5kbGVyKCBzb3VyY2VEZWYudXJpICk7XG5cdFx0XHRpZiAoIGhhbmRsZXIgIT09IG51bGwgKSBsb2FkZXIgPSBoYW5kbGVyO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMubG9hZFRleHR1cmVJbWFnZSggdGV4dHVyZUluZGV4LCBzb3VyY2VJbmRleCwgbG9hZGVyICk7XG5cblx0fVxuXG5cdGxvYWRUZXh0dXJlSW1hZ2UoIHRleHR1cmVJbmRleCwgc291cmNlSW5kZXgsIGxvYWRlciApIHtcblxuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXM7XG5cdFx0Y29uc3QganNvbiA9IHRoaXMuanNvbjtcblxuXHRcdGNvbnN0IHRleHR1cmVEZWYgPSBqc29uLnRleHR1cmVzWyB0ZXh0dXJlSW5kZXggXTtcblx0XHRjb25zdCBzb3VyY2VEZWYgPSBqc29uLmltYWdlc1sgc291cmNlSW5kZXggXTtcblxuXHRcdGNvbnN0IGNhY2hlS2V5ID0gKCBzb3VyY2VEZWYudXJpIHx8IHNvdXJjZURlZi5idWZmZXJWaWV3ICkgKyAnOicgKyB0ZXh0dXJlRGVmLnNhbXBsZXI7XG5cblx0XHRpZiAoIHRoaXMudGV4dHVyZUNhY2hlWyBjYWNoZUtleSBdICkge1xuXG5cdFx0XHQvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9pc3N1ZXMvMjE1NTkuXG5cdFx0XHRyZXR1cm4gdGhpcy50ZXh0dXJlQ2FjaGVbIGNhY2hlS2V5IF07XG5cblx0XHR9XG5cblx0XHRjb25zdCBwcm9taXNlID0gdGhpcy5sb2FkSW1hZ2VTb3VyY2UoIHNvdXJjZUluZGV4LCBsb2FkZXIgKS50aGVuKCBmdW5jdGlvbiAoIHRleHR1cmUgKSB7XG5cblx0XHRcdHRleHR1cmUuZmxpcFkgPSBmYWxzZTtcblxuXHRcdFx0dGV4dHVyZS5uYW1lID0gdGV4dHVyZURlZi5uYW1lIHx8IHNvdXJjZURlZi5uYW1lIHx8ICcnO1xuXG5cdFx0XHRjb25zdCBzYW1wbGVycyA9IGpzb24uc2FtcGxlcnMgfHwge307XG5cdFx0XHRjb25zdCBzYW1wbGVyID0gc2FtcGxlcnNbIHRleHR1cmVEZWYuc2FtcGxlciBdIHx8IHt9O1xuXG5cdFx0XHR0ZXh0dXJlLm1hZ0ZpbHRlciA9IFdFQkdMX0ZJTFRFUlNbIHNhbXBsZXIubWFnRmlsdGVyIF0gfHwgTGluZWFyRmlsdGVyO1xuXHRcdFx0dGV4dHVyZS5taW5GaWx0ZXIgPSBXRUJHTF9GSUxURVJTWyBzYW1wbGVyLm1pbkZpbHRlciBdIHx8IExpbmVhck1pcG1hcExpbmVhckZpbHRlcjtcblx0XHRcdHRleHR1cmUud3JhcFMgPSBXRUJHTF9XUkFQUElOR1NbIHNhbXBsZXIud3JhcFMgXSB8fCBSZXBlYXRXcmFwcGluZztcblx0XHRcdHRleHR1cmUud3JhcFQgPSBXRUJHTF9XUkFQUElOR1NbIHNhbXBsZXIud3JhcFQgXSB8fCBSZXBlYXRXcmFwcGluZztcblxuXHRcdFx0cGFyc2VyLmFzc29jaWF0aW9ucy5zZXQoIHRleHR1cmUsIHsgdGV4dHVyZXM6IHRleHR1cmVJbmRleCB9ICk7XG5cblx0XHRcdHJldHVybiB0ZXh0dXJlO1xuXG5cdFx0fSApLmNhdGNoKCBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fSApO1xuXG5cdFx0dGhpcy50ZXh0dXJlQ2FjaGVbIGNhY2hlS2V5IF0gPSBwcm9taXNlO1xuXG5cdFx0cmV0dXJuIHByb21pc2U7XG5cblx0fVxuXG5cdGxvYWRJbWFnZVNvdXJjZSggc291cmNlSW5kZXgsIGxvYWRlciApIHtcblxuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXM7XG5cdFx0Y29uc3QganNvbiA9IHRoaXMuanNvbjtcblx0XHRjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0aWYgKCB0aGlzLnNvdXJjZUNhY2hlWyBzb3VyY2VJbmRleCBdICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdHJldHVybiB0aGlzLnNvdXJjZUNhY2hlWyBzb3VyY2VJbmRleCBdLnRoZW4oICggdGV4dHVyZSApID0+IHRleHR1cmUuY2xvbmUoKSApO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3Qgc291cmNlRGVmID0ganNvbi5pbWFnZXNbIHNvdXJjZUluZGV4IF07XG5cblx0XHRjb25zdCBVUkwgPSBzZWxmLlVSTCB8fCBzZWxmLndlYmtpdFVSTDtcblxuXHRcdGxldCBzb3VyY2VVUkkgPSBzb3VyY2VEZWYudXJpIHx8ICcnO1xuXHRcdGxldCBpc09iamVjdFVSTCA9IGZhbHNlO1xuXG5cdFx0aWYgKCBzb3VyY2VEZWYuYnVmZmVyVmlldyAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHQvLyBMb2FkIGJpbmFyeSBpbWFnZSBkYXRhIGZyb20gYnVmZmVyVmlldywgaWYgcHJvdmlkZWQuXG5cblx0XHRcdHNvdXJjZVVSSSA9IHBhcnNlci5nZXREZXBlbmRlbmN5KCAnYnVmZmVyVmlldycsIHNvdXJjZURlZi5idWZmZXJWaWV3ICkudGhlbiggZnVuY3Rpb24gKCBidWZmZXJWaWV3ICkge1xuXG5cdFx0XHRcdGlzT2JqZWN0VVJMID0gdHJ1ZTtcblx0XHRcdFx0Y29uc3QgYmxvYiA9IG5ldyBCbG9iKCBbIGJ1ZmZlclZpZXcgXSwgeyB0eXBlOiBzb3VyY2VEZWYubWltZVR5cGUgfSApO1xuXHRcdFx0XHRzb3VyY2VVUkkgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKCBibG9iICk7XG5cdFx0XHRcdHJldHVybiBzb3VyY2VVUkk7XG5cblx0XHRcdH0gKTtcblxuXHRcdH0gZWxzZSBpZiAoIHNvdXJjZURlZi51cmkgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCAnVEhSRUUuR0xURkxvYWRlcjogSW1hZ2UgJyArIHNvdXJjZUluZGV4ICsgJyBpcyBtaXNzaW5nIFVSSSBhbmQgYnVmZmVyVmlldycgKTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoIHNvdXJjZVVSSSApLnRoZW4oIGZ1bmN0aW9uICggc291cmNlVVJJICkge1xuXG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoIGZ1bmN0aW9uICggcmVzb2x2ZSwgcmVqZWN0ICkge1xuXG5cdFx0XHRcdGxldCBvbkxvYWQgPSByZXNvbHZlO1xuXG5cdFx0XHRcdGlmICggbG9hZGVyLmlzSW1hZ2VCaXRtYXBMb2FkZXIgPT09IHRydWUgKSB7XG5cblx0XHRcdFx0XHRvbkxvYWQgPSBmdW5jdGlvbiAoIGltYWdlQml0bWFwICkge1xuXG5cdFx0XHRcdFx0XHRjb25zdCB0ZXh0dXJlID0gbmV3IFRleHR1cmUoIGltYWdlQml0bWFwICk7XG5cdFx0XHRcdFx0XHR0ZXh0dXJlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblxuXHRcdFx0XHRcdFx0cmVzb2x2ZSggdGV4dHVyZSApO1xuXG5cdFx0XHRcdFx0fTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0bG9hZGVyLmxvYWQoIExvYWRlclV0aWxzLnJlc29sdmVVUkwoIHNvdXJjZVVSSSwgb3B0aW9ucy5wYXRoICksIG9uTG9hZCwgdW5kZWZpbmVkLCByZWplY3QgKTtcblxuXHRcdFx0fSApO1xuXG5cdFx0fSApLnRoZW4oIGZ1bmN0aW9uICggdGV4dHVyZSApIHtcblxuXHRcdFx0Ly8gQ2xlYW4gdXAgcmVzb3VyY2VzIGFuZCBjb25maWd1cmUgVGV4dHVyZS5cblxuXHRcdFx0aWYgKCBpc09iamVjdFVSTCA9PT0gdHJ1ZSApIHtcblxuXHRcdFx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKCBzb3VyY2VVUkkgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHR0ZXh0dXJlLnVzZXJEYXRhLm1pbWVUeXBlID0gc291cmNlRGVmLm1pbWVUeXBlIHx8IGdldEltYWdlVVJJTWltZVR5cGUoIHNvdXJjZURlZi51cmkgKTtcblxuXHRcdFx0cmV0dXJuIHRleHR1cmU7XG5cblx0XHR9ICkuY2F0Y2goIGZ1bmN0aW9uICggZXJyb3IgKSB7XG5cblx0XHRcdGNvbnNvbGUuZXJyb3IoICdUSFJFRS5HTFRGTG9hZGVyOiBDb3VsZG5cXCd0IGxvYWQgdGV4dHVyZScsIHNvdXJjZVVSSSApO1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cblx0XHR9ICk7XG5cblx0XHR0aGlzLnNvdXJjZUNhY2hlWyBzb3VyY2VJbmRleCBdID0gcHJvbWlzZTtcblx0XHRyZXR1cm4gcHJvbWlzZTtcblxuXHR9XG5cblx0LyoqXG5cdCAqIEFzeW5jaHJvbm91c2x5IGFzc2lnbnMgYSB0ZXh0dXJlIHRvIHRoZSBnaXZlbiBtYXRlcmlhbCBwYXJhbWV0ZXJzLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gbWF0ZXJpYWxQYXJhbXNcblx0ICogQHBhcmFtIHtzdHJpbmd9IG1hcE5hbWVcblx0ICogQHBhcmFtIHtPYmplY3R9IG1hcERlZlxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPFRleHR1cmU+fVxuXHQgKi9cblx0YXNzaWduVGV4dHVyZSggbWF0ZXJpYWxQYXJhbXMsIG1hcE5hbWUsIG1hcERlZiwgZW5jb2RpbmcgKSB7XG5cblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzO1xuXG5cdFx0cmV0dXJuIHRoaXMuZ2V0RGVwZW5kZW5jeSggJ3RleHR1cmUnLCBtYXBEZWYuaW5kZXggKS50aGVuKCBmdW5jdGlvbiAoIHRleHR1cmUgKSB7XG5cblx0XHRcdGlmICggISB0ZXh0dXJlICkgcmV0dXJuIG51bGw7XG5cblx0XHRcdC8vIE1hdGVyaWFscyBzYW1wbGUgYW9NYXAgZnJvbSBVViBzZXQgMSBhbmQgb3RoZXIgbWFwcyBmcm9tIFVWIHNldCAwIC0gdGhpcyBjYW4ndCBiZSBjb25maWd1cmVkXG5cdFx0XHQvLyBIb3dldmVyLCB3ZSB3aWxsIGNvcHkgVVYgc2V0IDAgdG8gVVYgc2V0IDEgb24gZGVtYW5kIGZvciBhb01hcFxuXHRcdFx0aWYgKCBtYXBEZWYudGV4Q29vcmQgIT09IHVuZGVmaW5lZCAmJiBtYXBEZWYudGV4Q29vcmQgIT0gMCAmJiAhICggbWFwTmFtZSA9PT0gJ2FvTWFwJyAmJiBtYXBEZWYudGV4Q29vcmQgPT0gMSApICkge1xuXG5cdFx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkdMVEZMb2FkZXI6IEN1c3RvbSBVViBzZXQgJyArIG1hcERlZi50ZXhDb29yZCArICcgZm9yIHRleHR1cmUgJyArIG1hcE5hbWUgKyAnIG5vdCB5ZXQgc3VwcG9ydGVkLicgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHBhcnNlci5leHRlbnNpb25zWyBFWFRFTlNJT05TLktIUl9URVhUVVJFX1RSQU5TRk9STSBdICkge1xuXG5cdFx0XHRcdGNvbnN0IHRyYW5zZm9ybSA9IG1hcERlZi5leHRlbnNpb25zICE9PSB1bmRlZmluZWQgPyBtYXBEZWYuZXh0ZW5zaW9uc1sgRVhURU5TSU9OUy5LSFJfVEVYVFVSRV9UUkFOU0ZPUk0gXSA6IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRpZiAoIHRyYW5zZm9ybSApIHtcblxuXHRcdFx0XHRcdGNvbnN0IGdsdGZSZWZlcmVuY2UgPSBwYXJzZXIuYXNzb2NpYXRpb25zLmdldCggdGV4dHVyZSApO1xuXHRcdFx0XHRcdHRleHR1cmUgPSBwYXJzZXIuZXh0ZW5zaW9uc1sgRVhURU5TSU9OUy5LSFJfVEVYVFVSRV9UUkFOU0ZPUk0gXS5leHRlbmRUZXh0dXJlKCB0ZXh0dXJlLCB0cmFuc2Zvcm0gKTtcblx0XHRcdFx0XHRwYXJzZXIuYXNzb2NpYXRpb25zLnNldCggdGV4dHVyZSwgZ2x0ZlJlZmVyZW5jZSApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGVuY29kaW5nICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0dGV4dHVyZS5lbmNvZGluZyA9IGVuY29kaW5nO1xuXG5cdFx0XHR9XG5cblx0XHRcdG1hdGVyaWFsUGFyYW1zWyBtYXBOYW1lIF0gPSB0ZXh0dXJlO1xuXG5cdFx0XHRyZXR1cm4gdGV4dHVyZTtcblxuXHRcdH0gKTtcblxuXHR9XG5cblx0LyoqXG5cdCAqIEFzc2lnbnMgZmluYWwgbWF0ZXJpYWwgdG8gYSBNZXNoLCBMaW5lLCBvciBQb2ludHMgaW5zdGFuY2UuIFRoZSBpbnN0YW5jZVxuXHQgKiBhbHJlYWR5IGhhcyBhIG1hdGVyaWFsIChnZW5lcmF0ZWQgZnJvbSB0aGUgZ2xURiBtYXRlcmlhbCBvcHRpb25zIGFsb25lKVxuXHQgKiBidXQgcmV1c2Ugb2YgdGhlIHNhbWUgZ2xURiBtYXRlcmlhbCBtYXkgcmVxdWlyZSBtdWx0aXBsZSB0aHJlZWpzIG1hdGVyaWFsc1xuXHQgKiB0byBhY2NvbW1vZGF0ZSBkaWZmZXJlbnQgcHJpbWl0aXZlIHR5cGVzLCBkZWZpbmVzLCBldGMuIE5ldyBtYXRlcmlhbHMgd2lsbFxuXHQgKiBiZSBjcmVhdGVkIGlmIG5lY2Vzc2FyeSwgYW5kIHJldXNlZCBmcm9tIGEgY2FjaGUuXG5cdCAqIEBwYXJhbSAge09iamVjdDNEfSBtZXNoIE1lc2gsIExpbmUsIG9yIFBvaW50cyBpbnN0YW5jZS5cblx0ICovXG5cdGFzc2lnbkZpbmFsTWF0ZXJpYWwoIG1lc2ggKSB7XG5cblx0XHRjb25zdCBnZW9tZXRyeSA9IG1lc2guZ2VvbWV0cnk7XG5cdFx0bGV0IG1hdGVyaWFsID0gbWVzaC5tYXRlcmlhbDtcblxuXHRcdGNvbnN0IHVzZURlcml2YXRpdmVUYW5nZW50cyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMudGFuZ2VudCA9PT0gdW5kZWZpbmVkO1xuXHRcdGNvbnN0IHVzZVZlcnRleENvbG9ycyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMuY29sb3IgIT09IHVuZGVmaW5lZDtcblx0XHRjb25zdCB1c2VGbGF0U2hhZGluZyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMubm9ybWFsID09PSB1bmRlZmluZWQ7XG5cblx0XHRpZiAoIG1lc2guaXNQb2ludHMgKSB7XG5cblx0XHRcdGNvbnN0IGNhY2hlS2V5ID0gJ1BvaW50c01hdGVyaWFsOicgKyBtYXRlcmlhbC51dWlkO1xuXG5cdFx0XHRsZXQgcG9pbnRzTWF0ZXJpYWwgPSB0aGlzLmNhY2hlLmdldCggY2FjaGVLZXkgKTtcblxuXHRcdFx0aWYgKCAhIHBvaW50c01hdGVyaWFsICkge1xuXG5cdFx0XHRcdHBvaW50c01hdGVyaWFsID0gbmV3IFBvaW50c01hdGVyaWFsKCk7XG5cdFx0XHRcdE1hdGVyaWFsLnByb3RvdHlwZS5jb3B5LmNhbGwoIHBvaW50c01hdGVyaWFsLCBtYXRlcmlhbCApO1xuXHRcdFx0XHRwb2ludHNNYXRlcmlhbC5jb2xvci5jb3B5KCBtYXRlcmlhbC5jb2xvciApO1xuXHRcdFx0XHRwb2ludHNNYXRlcmlhbC5tYXAgPSBtYXRlcmlhbC5tYXA7XG5cdFx0XHRcdHBvaW50c01hdGVyaWFsLnNpemVBdHRlbnVhdGlvbiA9IGZhbHNlOyAvLyBnbFRGIHNwZWMgc2F5cyBwb2ludHMgc2hvdWxkIGJlIDFweFxuXG5cdFx0XHRcdHRoaXMuY2FjaGUuYWRkKCBjYWNoZUtleSwgcG9pbnRzTWF0ZXJpYWwgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRtYXRlcmlhbCA9IHBvaW50c01hdGVyaWFsO1xuXG5cdFx0fSBlbHNlIGlmICggbWVzaC5pc0xpbmUgKSB7XG5cblx0XHRcdGNvbnN0IGNhY2hlS2V5ID0gJ0xpbmVCYXNpY01hdGVyaWFsOicgKyBtYXRlcmlhbC51dWlkO1xuXG5cdFx0XHRsZXQgbGluZU1hdGVyaWFsID0gdGhpcy5jYWNoZS5nZXQoIGNhY2hlS2V5ICk7XG5cblx0XHRcdGlmICggISBsaW5lTWF0ZXJpYWwgKSB7XG5cblx0XHRcdFx0bGluZU1hdGVyaWFsID0gbmV3IExpbmVCYXNpY01hdGVyaWFsKCk7XG5cdFx0XHRcdE1hdGVyaWFsLnByb3RvdHlwZS5jb3B5LmNhbGwoIGxpbmVNYXRlcmlhbCwgbWF0ZXJpYWwgKTtcblx0XHRcdFx0bGluZU1hdGVyaWFsLmNvbG9yLmNvcHkoIG1hdGVyaWFsLmNvbG9yICk7XG5cblx0XHRcdFx0dGhpcy5jYWNoZS5hZGQoIGNhY2hlS2V5LCBsaW5lTWF0ZXJpYWwgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRtYXRlcmlhbCA9IGxpbmVNYXRlcmlhbDtcblxuXHRcdH1cblxuXHRcdC8vIENsb25lIHRoZSBtYXRlcmlhbCBpZiBpdCB3aWxsIGJlIG1vZGlmaWVkXG5cdFx0aWYgKCB1c2VEZXJpdmF0aXZlVGFuZ2VudHMgfHwgdXNlVmVydGV4Q29sb3JzIHx8IHVzZUZsYXRTaGFkaW5nICkge1xuXG5cdFx0XHRsZXQgY2FjaGVLZXkgPSAnQ2xvbmVkTWF0ZXJpYWw6JyArIG1hdGVyaWFsLnV1aWQgKyAnOic7XG5cblx0XHRcdGlmICggdXNlRGVyaXZhdGl2ZVRhbmdlbnRzICkgY2FjaGVLZXkgKz0gJ2Rlcml2YXRpdmUtdGFuZ2VudHM6Jztcblx0XHRcdGlmICggdXNlVmVydGV4Q29sb3JzICkgY2FjaGVLZXkgKz0gJ3ZlcnRleC1jb2xvcnM6Jztcblx0XHRcdGlmICggdXNlRmxhdFNoYWRpbmcgKSBjYWNoZUtleSArPSAnZmxhdC1zaGFkaW5nOic7XG5cblx0XHRcdGxldCBjYWNoZWRNYXRlcmlhbCA9IHRoaXMuY2FjaGUuZ2V0KCBjYWNoZUtleSApO1xuXG5cdFx0XHRpZiAoICEgY2FjaGVkTWF0ZXJpYWwgKSB7XG5cblx0XHRcdFx0Y2FjaGVkTWF0ZXJpYWwgPSBtYXRlcmlhbC5jbG9uZSgpO1xuXG5cdFx0XHRcdGlmICggdXNlVmVydGV4Q29sb3JzICkgY2FjaGVkTWF0ZXJpYWwudmVydGV4Q29sb3JzID0gdHJ1ZTtcblx0XHRcdFx0aWYgKCB1c2VGbGF0U2hhZGluZyApIGNhY2hlZE1hdGVyaWFsLmZsYXRTaGFkaW5nID0gdHJ1ZTtcblxuXHRcdFx0XHRpZiAoIHVzZURlcml2YXRpdmVUYW5nZW50cyApIHtcblxuXHRcdFx0XHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvaXNzdWVzLzExNDM4I2lzc3VlY29tbWVudC01MDcwMDM5OTVcblx0XHRcdFx0XHRpZiAoIGNhY2hlZE1hdGVyaWFsLm5vcm1hbFNjYWxlICkgY2FjaGVkTWF0ZXJpYWwubm9ybWFsU2NhbGUueSAqPSAtIDE7XG5cdFx0XHRcdFx0aWYgKCBjYWNoZWRNYXRlcmlhbC5jbGVhcmNvYXROb3JtYWxTY2FsZSApIGNhY2hlZE1hdGVyaWFsLmNsZWFyY29hdE5vcm1hbFNjYWxlLnkgKj0gLSAxO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLmNhY2hlLmFkZCggY2FjaGVLZXksIGNhY2hlZE1hdGVyaWFsICk7XG5cblx0XHRcdFx0dGhpcy5hc3NvY2lhdGlvbnMuc2V0KCBjYWNoZWRNYXRlcmlhbCwgdGhpcy5hc3NvY2lhdGlvbnMuZ2V0KCBtYXRlcmlhbCApICk7XG5cblx0XHRcdH1cblxuXHRcdFx0bWF0ZXJpYWwgPSBjYWNoZWRNYXRlcmlhbDtcblxuXHRcdH1cblxuXHRcdC8vIHdvcmthcm91bmRzIGZvciBtZXNoIGFuZCBnZW9tZXRyeVxuXG5cdFx0aWYgKCBtYXRlcmlhbC5hb01hcCAmJiBnZW9tZXRyeS5hdHRyaWJ1dGVzLnV2MiA9PT0gdW5kZWZpbmVkICYmIGdlb21ldHJ5LmF0dHJpYnV0ZXMudXYgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Z2VvbWV0cnkuc2V0QXR0cmlidXRlKCAndXYyJywgZ2VvbWV0cnkuYXR0cmlidXRlcy51diApO1xuXG5cdFx0fVxuXG5cdFx0bWVzaC5tYXRlcmlhbCA9IG1hdGVyaWFsO1xuXG5cdH1cblxuXHRnZXRNYXRlcmlhbFR5cGUoIC8qIG1hdGVyaWFsSW5kZXggKi8gKSB7XG5cblx0XHRyZXR1cm4gTWVzaFN0YW5kYXJkTWF0ZXJpYWw7XG5cblx0fVxuXG5cdC8qKlxuXHQgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI21hdGVyaWFsc1xuXHQgKiBAcGFyYW0ge251bWJlcn0gbWF0ZXJpYWxJbmRleFxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPE1hdGVyaWFsPn1cblx0ICovXG5cdGxvYWRNYXRlcmlhbCggbWF0ZXJpYWxJbmRleCApIHtcblxuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXM7XG5cdFx0Y29uc3QganNvbiA9IHRoaXMuanNvbjtcblx0XHRjb25zdCBleHRlbnNpb25zID0gdGhpcy5leHRlbnNpb25zO1xuXHRcdGNvbnN0IG1hdGVyaWFsRGVmID0ganNvbi5tYXRlcmlhbHNbIG1hdGVyaWFsSW5kZXggXTtcblxuXHRcdGxldCBtYXRlcmlhbFR5cGU7XG5cdFx0Y29uc3QgbWF0ZXJpYWxQYXJhbXMgPSB7fTtcblx0XHRjb25zdCBtYXRlcmlhbEV4dGVuc2lvbnMgPSBtYXRlcmlhbERlZi5leHRlbnNpb25zIHx8IHt9O1xuXG5cdFx0Y29uc3QgcGVuZGluZyA9IFtdO1xuXG5cdFx0aWYgKCBtYXRlcmlhbEV4dGVuc2lvbnNbIEVYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19VTkxJVCBdICkge1xuXG5cdFx0XHRjb25zdCBrbXVFeHRlbnNpb24gPSBleHRlbnNpb25zWyBFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfVU5MSVQgXTtcblx0XHRcdG1hdGVyaWFsVHlwZSA9IGttdUV4dGVuc2lvbi5nZXRNYXRlcmlhbFR5cGUoKTtcblx0XHRcdHBlbmRpbmcucHVzaCgga211RXh0ZW5zaW9uLmV4dGVuZFBhcmFtcyggbWF0ZXJpYWxQYXJhbXMsIG1hdGVyaWFsRGVmLCBwYXJzZXIgKSApO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gU3BlY2lmaWNhdGlvbjpcblx0XHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNtZXRhbGxpYy1yb3VnaG5lc3MtbWF0ZXJpYWxcblxuXHRcdFx0Y29uc3QgbWV0YWxsaWNSb3VnaG5lc3MgPSBtYXRlcmlhbERlZi5wYnJNZXRhbGxpY1JvdWdobmVzcyB8fCB7fTtcblxuXHRcdFx0bWF0ZXJpYWxQYXJhbXMuY29sb3IgPSBuZXcgQ29sb3IoIDEuMCwgMS4wLCAxLjAgKTtcblx0XHRcdG1hdGVyaWFsUGFyYW1zLm9wYWNpdHkgPSAxLjA7XG5cblx0XHRcdGlmICggQXJyYXkuaXNBcnJheSggbWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yRmFjdG9yICkgKSB7XG5cblx0XHRcdFx0Y29uc3QgYXJyYXkgPSBtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JGYWN0b3I7XG5cblx0XHRcdFx0bWF0ZXJpYWxQYXJhbXMuY29sb3IuZnJvbUFycmF5KCBhcnJheSApO1xuXHRcdFx0XHRtYXRlcmlhbFBhcmFtcy5vcGFjaXR5ID0gYXJyYXlbIDMgXTtcblxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvclRleHR1cmUgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRwZW5kaW5nLnB1c2goIHBhcnNlci5hc3NpZ25UZXh0dXJlKCBtYXRlcmlhbFBhcmFtcywgJ21hcCcsIG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvclRleHR1cmUsIHNSR0JFbmNvZGluZyApICk7XG5cblx0XHRcdH1cblxuXHRcdFx0bWF0ZXJpYWxQYXJhbXMubWV0YWxuZXNzID0gbWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNGYWN0b3IgIT09IHVuZGVmaW5lZCA/IG1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljRmFjdG9yIDogMS4wO1xuXHRcdFx0bWF0ZXJpYWxQYXJhbXMucm91Z2huZXNzID0gbWV0YWxsaWNSb3VnaG5lc3Mucm91Z2huZXNzRmFjdG9yICE9PSB1bmRlZmluZWQgPyBtZXRhbGxpY1JvdWdobmVzcy5yb3VnaG5lc3NGYWN0b3IgOiAxLjA7XG5cblx0XHRcdGlmICggbWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0cGVuZGluZy5wdXNoKCBwYXJzZXIuYXNzaWduVGV4dHVyZSggbWF0ZXJpYWxQYXJhbXMsICdtZXRhbG5lc3NNYXAnLCBtZXRhbGxpY1JvdWdobmVzcy5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmUgKSApO1xuXHRcdFx0XHRwZW5kaW5nLnB1c2goIHBhcnNlci5hc3NpZ25UZXh0dXJlKCBtYXRlcmlhbFBhcmFtcywgJ3JvdWdobmVzc01hcCcsIG1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSApICk7XG5cblx0XHRcdH1cblxuXHRcdFx0bWF0ZXJpYWxUeXBlID0gdGhpcy5faW52b2tlT25lKCBmdW5jdGlvbiAoIGV4dCApIHtcblxuXHRcdFx0XHRyZXR1cm4gZXh0LmdldE1hdGVyaWFsVHlwZSAmJiBleHQuZ2V0TWF0ZXJpYWxUeXBlKCBtYXRlcmlhbEluZGV4ICk7XG5cblx0XHRcdH0gKTtcblxuXHRcdFx0cGVuZGluZy5wdXNoKCBQcm9taXNlLmFsbCggdGhpcy5faW52b2tlQWxsKCBmdW5jdGlvbiAoIGV4dCApIHtcblxuXHRcdFx0XHRyZXR1cm4gZXh0LmV4dGVuZE1hdGVyaWFsUGFyYW1zICYmIGV4dC5leHRlbmRNYXRlcmlhbFBhcmFtcyggbWF0ZXJpYWxJbmRleCwgbWF0ZXJpYWxQYXJhbXMgKTtcblxuXHRcdFx0fSApICkgKTtcblxuXHRcdH1cblxuXHRcdGlmICggbWF0ZXJpYWxEZWYuZG91YmxlU2lkZWQgPT09IHRydWUgKSB7XG5cblx0XHRcdG1hdGVyaWFsUGFyYW1zLnNpZGUgPSBEb3VibGVTaWRlO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgYWxwaGFNb2RlID0gbWF0ZXJpYWxEZWYuYWxwaGFNb2RlIHx8IEFMUEhBX01PREVTLk9QQVFVRTtcblxuXHRcdGlmICggYWxwaGFNb2RlID09PSBBTFBIQV9NT0RFUy5CTEVORCApIHtcblxuXHRcdFx0bWF0ZXJpYWxQYXJhbXMudHJhbnNwYXJlbnQgPSB0cnVlO1xuXG5cdFx0XHQvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvaXNzdWVzLzE3NzA2XG5cdFx0XHRtYXRlcmlhbFBhcmFtcy5kZXB0aFdyaXRlID0gZmFsc2U7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRtYXRlcmlhbFBhcmFtcy50cmFuc3BhcmVudCA9IGZhbHNlO1xuXG5cdFx0XHRpZiAoIGFscGhhTW9kZSA9PT0gQUxQSEFfTU9ERVMuTUFTSyApIHtcblxuXHRcdFx0XHRtYXRlcmlhbFBhcmFtcy5hbHBoYVRlc3QgPSBtYXRlcmlhbERlZi5hbHBoYUN1dG9mZiAhPT0gdW5kZWZpbmVkID8gbWF0ZXJpYWxEZWYuYWxwaGFDdXRvZmYgOiAwLjU7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdGlmICggbWF0ZXJpYWxEZWYubm9ybWFsVGV4dHVyZSAhPT0gdW5kZWZpbmVkICYmIG1hdGVyaWFsVHlwZSAhPT0gTWVzaEJhc2ljTWF0ZXJpYWwgKSB7XG5cblx0XHRcdHBlbmRpbmcucHVzaCggcGFyc2VyLmFzc2lnblRleHR1cmUoIG1hdGVyaWFsUGFyYW1zLCAnbm9ybWFsTWFwJywgbWF0ZXJpYWxEZWYubm9ybWFsVGV4dHVyZSApICk7XG5cblx0XHRcdG1hdGVyaWFsUGFyYW1zLm5vcm1hbFNjYWxlID0gbmV3IFZlY3RvcjIoIDEsIDEgKTtcblxuXHRcdFx0aWYgKCBtYXRlcmlhbERlZi5ub3JtYWxUZXh0dXJlLnNjYWxlICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0Y29uc3Qgc2NhbGUgPSBtYXRlcmlhbERlZi5ub3JtYWxUZXh0dXJlLnNjYWxlO1xuXG5cdFx0XHRcdG1hdGVyaWFsUGFyYW1zLm5vcm1hbFNjYWxlLnNldCggc2NhbGUsIHNjYWxlICk7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdGlmICggbWF0ZXJpYWxEZWYub2NjbHVzaW9uVGV4dHVyZSAhPT0gdW5kZWZpbmVkICYmIG1hdGVyaWFsVHlwZSAhPT0gTWVzaEJhc2ljTWF0ZXJpYWwgKSB7XG5cblx0XHRcdHBlbmRpbmcucHVzaCggcGFyc2VyLmFzc2lnblRleHR1cmUoIG1hdGVyaWFsUGFyYW1zLCAnYW9NYXAnLCBtYXRlcmlhbERlZi5vY2NsdXNpb25UZXh0dXJlICkgKTtcblxuXHRcdFx0aWYgKCBtYXRlcmlhbERlZi5vY2NsdXNpb25UZXh0dXJlLnN0cmVuZ3RoICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0bWF0ZXJpYWxQYXJhbXMuYW9NYXBJbnRlbnNpdHkgPSBtYXRlcmlhbERlZi5vY2NsdXNpb25UZXh0dXJlLnN0cmVuZ3RoO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRpZiAoIG1hdGVyaWFsRGVmLmVtaXNzaXZlRmFjdG9yICE9PSB1bmRlZmluZWQgJiYgbWF0ZXJpYWxUeXBlICE9PSBNZXNoQmFzaWNNYXRlcmlhbCApIHtcblxuXHRcdFx0bWF0ZXJpYWxQYXJhbXMuZW1pc3NpdmUgPSBuZXcgQ29sb3IoKS5mcm9tQXJyYXkoIG1hdGVyaWFsRGVmLmVtaXNzaXZlRmFjdG9yICk7XG5cblx0XHR9XG5cblx0XHRpZiAoIG1hdGVyaWFsRGVmLmVtaXNzaXZlVGV4dHVyZSAhPT0gdW5kZWZpbmVkICYmIG1hdGVyaWFsVHlwZSAhPT0gTWVzaEJhc2ljTWF0ZXJpYWwgKSB7XG5cblx0XHRcdHBlbmRpbmcucHVzaCggcGFyc2VyLmFzc2lnblRleHR1cmUoIG1hdGVyaWFsUGFyYW1zLCAnZW1pc3NpdmVNYXAnLCBtYXRlcmlhbERlZi5lbWlzc2l2ZVRleHR1cmUsIHNSR0JFbmNvZGluZyApICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gUHJvbWlzZS5hbGwoIHBlbmRpbmcgKS50aGVuKCBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdGNvbnN0IG1hdGVyaWFsID0gbmV3IG1hdGVyaWFsVHlwZSggbWF0ZXJpYWxQYXJhbXMgKTtcblxuXHRcdFx0aWYgKCBtYXRlcmlhbERlZi5uYW1lICkgbWF0ZXJpYWwubmFtZSA9IG1hdGVyaWFsRGVmLm5hbWU7XG5cblx0XHRcdGFzc2lnbkV4dHJhc1RvVXNlckRhdGEoIG1hdGVyaWFsLCBtYXRlcmlhbERlZiApO1xuXG5cdFx0XHRwYXJzZXIuYXNzb2NpYXRpb25zLnNldCggbWF0ZXJpYWwsIHsgbWF0ZXJpYWxzOiBtYXRlcmlhbEluZGV4IH0gKTtcblxuXHRcdFx0aWYgKCBtYXRlcmlhbERlZi5leHRlbnNpb25zICkgYWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhKCBleHRlbnNpb25zLCBtYXRlcmlhbCwgbWF0ZXJpYWxEZWYgKTtcblxuXHRcdFx0cmV0dXJuIG1hdGVyaWFsO1xuXG5cdFx0fSApO1xuXG5cdH1cblxuXHQvKiogV2hlbiBPYmplY3QzRCBpbnN0YW5jZXMgYXJlIHRhcmdldGVkIGJ5IGFuaW1hdGlvbiwgdGhleSBuZWVkIHVuaXF1ZSBuYW1lcy4gKi9cblx0Y3JlYXRlVW5pcXVlTmFtZSggb3JpZ2luYWxOYW1lICkge1xuXG5cdFx0Y29uc3Qgc2FuaXRpemVkTmFtZSA9IFByb3BlcnR5QmluZGluZy5zYW5pdGl6ZU5vZGVOYW1lKCBvcmlnaW5hbE5hbWUgfHwgJycgKTtcblxuXHRcdGxldCBuYW1lID0gc2FuaXRpemVkTmFtZTtcblxuXHRcdGZvciAoIGxldCBpID0gMTsgdGhpcy5ub2RlTmFtZXNVc2VkWyBuYW1lIF07ICsrIGkgKSB7XG5cblx0XHRcdG5hbWUgPSBzYW5pdGl6ZWROYW1lICsgJ18nICsgaTtcblxuXHRcdH1cblxuXHRcdHRoaXMubm9kZU5hbWVzVXNlZFsgbmFtZSBdID0gdHJ1ZTtcblxuXHRcdHJldHVybiBuYW1lO1xuXG5cdH1cblxuXHQvKipcblx0ICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNnZW9tZXRyeVxuXHQgKlxuXHQgKiBDcmVhdGVzIEJ1ZmZlckdlb21ldHJpZXMgZnJvbSBwcmltaXRpdmVzLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0FycmF5PEdMVEYuUHJpbWl0aXZlPn0gcHJpbWl0aXZlc1xuXHQgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5PEJ1ZmZlckdlb21ldHJ5Pj59XG5cdCAqL1xuXHRsb2FkR2VvbWV0cmllcyggcHJpbWl0aXZlcyApIHtcblxuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXM7XG5cdFx0Y29uc3QgZXh0ZW5zaW9ucyA9IHRoaXMuZXh0ZW5zaW9ucztcblx0XHRjb25zdCBjYWNoZSA9IHRoaXMucHJpbWl0aXZlQ2FjaGU7XG5cblx0XHRmdW5jdGlvbiBjcmVhdGVEcmFjb1ByaW1pdGl2ZSggcHJpbWl0aXZlICkge1xuXG5cdFx0XHRyZXR1cm4gZXh0ZW5zaW9uc1sgRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTiBdXG5cdFx0XHRcdC5kZWNvZGVQcmltaXRpdmUoIHByaW1pdGl2ZSwgcGFyc2VyIClcblx0XHRcdFx0LnRoZW4oIGZ1bmN0aW9uICggZ2VvbWV0cnkgKSB7XG5cblx0XHRcdFx0XHRyZXR1cm4gYWRkUHJpbWl0aXZlQXR0cmlidXRlcyggZ2VvbWV0cnksIHByaW1pdGl2ZSwgcGFyc2VyICk7XG5cblx0XHRcdFx0fSApO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgcGVuZGluZyA9IFtdO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IHByaW1pdGl2ZXMubGVuZ3RoOyBpIDwgaWw7IGkgKysgKSB7XG5cblx0XHRcdGNvbnN0IHByaW1pdGl2ZSA9IHByaW1pdGl2ZXNbIGkgXTtcblx0XHRcdGNvbnN0IGNhY2hlS2V5ID0gY3JlYXRlUHJpbWl0aXZlS2V5KCBwcmltaXRpdmUgKTtcblxuXHRcdFx0Ly8gU2VlIGlmIHdlJ3ZlIGFscmVhZHkgY3JlYXRlZCB0aGlzIGdlb21ldHJ5XG5cdFx0XHRjb25zdCBjYWNoZWQgPSBjYWNoZVsgY2FjaGVLZXkgXTtcblxuXHRcdFx0aWYgKCBjYWNoZWQgKSB7XG5cblx0XHRcdFx0Ly8gVXNlIHRoZSBjYWNoZWQgZ2VvbWV0cnkgaWYgaXQgZXhpc3RzXG5cdFx0XHRcdHBlbmRpbmcucHVzaCggY2FjaGVkLnByb21pc2UgKTtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRsZXQgZ2VvbWV0cnlQcm9taXNlO1xuXG5cdFx0XHRcdGlmICggcHJpbWl0aXZlLmV4dGVuc2lvbnMgJiYgcHJpbWl0aXZlLmV4dGVuc2lvbnNbIEVYVEVOU0lPTlMuS0hSX0RSQUNPX01FU0hfQ09NUFJFU1NJT04gXSApIHtcblxuXHRcdFx0XHRcdC8vIFVzZSBEUkFDTyBnZW9tZXRyeSBpZiBhdmFpbGFibGVcblx0XHRcdFx0XHRnZW9tZXRyeVByb21pc2UgPSBjcmVhdGVEcmFjb1ByaW1pdGl2ZSggcHJpbWl0aXZlICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdC8vIE90aGVyd2lzZSBjcmVhdGUgYSBuZXcgZ2VvbWV0cnlcblx0XHRcdFx0XHRnZW9tZXRyeVByb21pc2UgPSBhZGRQcmltaXRpdmVBdHRyaWJ1dGVzKCBuZXcgQnVmZmVyR2VvbWV0cnkoKSwgcHJpbWl0aXZlLCBwYXJzZXIgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQ2FjaGUgdGhpcyBnZW9tZXRyeVxuXHRcdFx0XHRjYWNoZVsgY2FjaGVLZXkgXSA9IHsgcHJpbWl0aXZlOiBwcmltaXRpdmUsIHByb21pc2U6IGdlb21ldHJ5UHJvbWlzZSB9O1xuXG5cdFx0XHRcdHBlbmRpbmcucHVzaCggZ2VvbWV0cnlQcm9taXNlICk7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdHJldHVybiBQcm9taXNlLmFsbCggcGVuZGluZyApO1xuXG5cdH1cblxuXHQvKipcblx0ICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNtZXNoZXNcblx0ICogQHBhcmFtIHtudW1iZXJ9IG1lc2hJbmRleFxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPEdyb3VwfE1lc2h8U2tpbm5lZE1lc2g+fVxuXHQgKi9cblx0bG9hZE1lc2goIG1lc2hJbmRleCApIHtcblxuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXM7XG5cdFx0Y29uc3QganNvbiA9IHRoaXMuanNvbjtcblx0XHRjb25zdCBleHRlbnNpb25zID0gdGhpcy5leHRlbnNpb25zO1xuXG5cdFx0Y29uc3QgbWVzaERlZiA9IGpzb24ubWVzaGVzWyBtZXNoSW5kZXggXTtcblx0XHRjb25zdCBwcmltaXRpdmVzID0gbWVzaERlZi5wcmltaXRpdmVzO1xuXG5cdFx0Y29uc3QgcGVuZGluZyA9IFtdO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IHByaW1pdGl2ZXMubGVuZ3RoOyBpIDwgaWw7IGkgKysgKSB7XG5cblx0XHRcdGNvbnN0IG1hdGVyaWFsID0gcHJpbWl0aXZlc1sgaSBdLm1hdGVyaWFsID09PSB1bmRlZmluZWRcblx0XHRcdFx0PyBjcmVhdGVEZWZhdWx0TWF0ZXJpYWwoIHRoaXMuY2FjaGUgKVxuXHRcdFx0XHQ6IHRoaXMuZ2V0RGVwZW5kZW5jeSggJ21hdGVyaWFsJywgcHJpbWl0aXZlc1sgaSBdLm1hdGVyaWFsICk7XG5cblx0XHRcdHBlbmRpbmcucHVzaCggbWF0ZXJpYWwgKTtcblxuXHRcdH1cblxuXHRcdHBlbmRpbmcucHVzaCggcGFyc2VyLmxvYWRHZW9tZXRyaWVzKCBwcmltaXRpdmVzICkgKTtcblxuXHRcdHJldHVybiBQcm9taXNlLmFsbCggcGVuZGluZyApLnRoZW4oIGZ1bmN0aW9uICggcmVzdWx0cyApIHtcblxuXHRcdFx0Y29uc3QgbWF0ZXJpYWxzID0gcmVzdWx0cy5zbGljZSggMCwgcmVzdWx0cy5sZW5ndGggLSAxICk7XG5cdFx0XHRjb25zdCBnZW9tZXRyaWVzID0gcmVzdWx0c1sgcmVzdWx0cy5sZW5ndGggLSAxIF07XG5cblx0XHRcdGNvbnN0IG1lc2hlcyA9IFtdO1xuXG5cdFx0XHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gZ2VvbWV0cmllcy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0XHRjb25zdCBnZW9tZXRyeSA9IGdlb21ldHJpZXNbIGkgXTtcblx0XHRcdFx0Y29uc3QgcHJpbWl0aXZlID0gcHJpbWl0aXZlc1sgaSBdO1xuXG5cdFx0XHRcdC8vIDEuIGNyZWF0ZSBNZXNoXG5cblx0XHRcdFx0bGV0IG1lc2g7XG5cblx0XHRcdFx0Y29uc3QgbWF0ZXJpYWwgPSBtYXRlcmlhbHNbIGkgXTtcblxuXHRcdFx0XHRpZiAoIHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuVFJJQU5HTEVTIHx8XG5cdFx0XHRcdFx0XHRwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLlRSSUFOR0xFX1NUUklQIHx8XG5cdFx0XHRcdFx0XHRwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLlRSSUFOR0xFX0ZBTiB8fFxuXHRcdFx0XHRcdFx0cHJpbWl0aXZlLm1vZGUgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRcdC8vIC5pc1NraW5uZWRNZXNoIGlzbid0IGluIGdsVEYgc3BlYy4gU2VlIC5fbWFya0RlZnMoKVxuXHRcdFx0XHRcdG1lc2ggPSBtZXNoRGVmLmlzU2tpbm5lZE1lc2ggPT09IHRydWVcblx0XHRcdFx0XHRcdD8gbmV3IFNraW5uZWRNZXNoKCBnZW9tZXRyeSwgbWF0ZXJpYWwgKVxuXHRcdFx0XHRcdFx0OiBuZXcgTWVzaCggZ2VvbWV0cnksIG1hdGVyaWFsICk7XG5cblx0XHRcdFx0XHRpZiAoIG1lc2guaXNTa2lubmVkTWVzaCA9PT0gdHJ1ZSAmJiAhIG1lc2guZ2VvbWV0cnkuYXR0cmlidXRlcy5za2luV2VpZ2h0Lm5vcm1hbGl6ZWQgKSB7XG5cblx0XHRcdFx0XHRcdC8vIHdlIG5vcm1hbGl6ZSBmbG9hdGluZyBwb2ludCBza2luIHdlaWdodCBhcnJheSB0byBmaXggbWFsZm9ybWVkIGFzc2V0cyAoc2VlICMxNTMxOSlcblx0XHRcdFx0XHRcdC8vIGl0J3MgaW1wb3J0YW50IHRvIHNraXAgdGhpcyBmb3Igbm9uLWZsb2F0MzIgZGF0YSBzaW5jZSBub3JtYWxpemVTa2luV2VpZ2h0cyBhc3N1bWVzIG5vbi1ub3JtYWxpemVkIGlucHV0c1xuXHRcdFx0XHRcdFx0bWVzaC5ub3JtYWxpemVTa2luV2VpZ2h0cygpO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCBwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLlRSSUFOR0xFX1NUUklQICkge1xuXG5cdFx0XHRcdFx0XHRtZXNoLmdlb21ldHJ5ID0gdG9UcmlhbmdsZXNEcmF3TW9kZSggbWVzaC5nZW9tZXRyeSwgVHJpYW5nbGVTdHJpcERyYXdNb2RlICk7XG5cblx0XHRcdFx0XHR9IGVsc2UgaWYgKCBwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLlRSSUFOR0xFX0ZBTiApIHtcblxuXHRcdFx0XHRcdFx0bWVzaC5nZW9tZXRyeSA9IHRvVHJpYW5nbGVzRHJhd01vZGUoIG1lc2guZ2VvbWV0cnksIFRyaWFuZ2xlRmFuRHJhd01vZGUgKTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9IGVsc2UgaWYgKCBwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLkxJTkVTICkge1xuXG5cdFx0XHRcdFx0bWVzaCA9IG5ldyBMaW5lU2VnbWVudHMoIGdlb21ldHJ5LCBtYXRlcmlhbCApO1xuXG5cdFx0XHRcdH0gZWxzZSBpZiAoIHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuTElORV9TVFJJUCApIHtcblxuXHRcdFx0XHRcdG1lc2ggPSBuZXcgTGluZSggZ2VvbWV0cnksIG1hdGVyaWFsICk7XG5cblx0XHRcdFx0fSBlbHNlIGlmICggcHJpbWl0aXZlLm1vZGUgPT09IFdFQkdMX0NPTlNUQU5UUy5MSU5FX0xPT1AgKSB7XG5cblx0XHRcdFx0XHRtZXNoID0gbmV3IExpbmVMb29wKCBnZW9tZXRyeSwgbWF0ZXJpYWwgKTtcblxuXHRcdFx0XHR9IGVsc2UgaWYgKCBwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLlBPSU5UUyApIHtcblxuXHRcdFx0XHRcdG1lc2ggPSBuZXcgUG9pbnRzKCBnZW9tZXRyeSwgbWF0ZXJpYWwgKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCAnVEhSRUUuR0xURkxvYWRlcjogUHJpbWl0aXZlIG1vZGUgdW5zdXBwb3J0ZWQ6ICcgKyBwcmltaXRpdmUubW9kZSApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIE9iamVjdC5rZXlzKCBtZXNoLmdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcyApLmxlbmd0aCA+IDAgKSB7XG5cblx0XHRcdFx0XHR1cGRhdGVNb3JwaFRhcmdldHMoIG1lc2gsIG1lc2hEZWYgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0bWVzaC5uYW1lID0gcGFyc2VyLmNyZWF0ZVVuaXF1ZU5hbWUoIG1lc2hEZWYubmFtZSB8fCAoICdtZXNoXycgKyBtZXNoSW5kZXggKSApO1xuXG5cdFx0XHRcdGFzc2lnbkV4dHJhc1RvVXNlckRhdGEoIG1lc2gsIG1lc2hEZWYgKTtcblxuXHRcdFx0XHRpZiAoIHByaW1pdGl2ZS5leHRlbnNpb25zICkgYWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhKCBleHRlbnNpb25zLCBtZXNoLCBwcmltaXRpdmUgKTtcblxuXHRcdFx0XHRwYXJzZXIuYXNzaWduRmluYWxNYXRlcmlhbCggbWVzaCApO1xuXG5cdFx0XHRcdG1lc2hlcy5wdXNoKCBtZXNoICk7XG5cblx0XHRcdH1cblxuXHRcdFx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IG1lc2hlcy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0XHRwYXJzZXIuYXNzb2NpYXRpb25zLnNldCggbWVzaGVzWyBpIF0sIHtcblx0XHRcdFx0XHRtZXNoZXM6IG1lc2hJbmRleCxcblx0XHRcdFx0XHRwcmltaXRpdmVzOiBpXG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIG1lc2hlcy5sZW5ndGggPT09IDEgKSB7XG5cblx0XHRcdFx0cmV0dXJuIG1lc2hlc1sgMCBdO1xuXG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGdyb3VwID0gbmV3IEdyb3VwKCk7XG5cblx0XHRcdHBhcnNlci5hc3NvY2lhdGlvbnMuc2V0KCBncm91cCwgeyBtZXNoZXM6IG1lc2hJbmRleCB9ICk7XG5cblx0XHRcdGZvciAoIGxldCBpID0gMCwgaWwgPSBtZXNoZXMubGVuZ3RoOyBpIDwgaWw7IGkgKysgKSB7XG5cblx0XHRcdFx0Z3JvdXAuYWRkKCBtZXNoZXNbIGkgXSApO1xuXG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBncm91cDtcblxuXHRcdH0gKTtcblxuXHR9XG5cblx0LyoqXG5cdCAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNjYW1lcmFzXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBjYW1lcmFJbmRleFxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPFRIUkVFLkNhbWVyYT59XG5cdCAqL1xuXHRsb2FkQ2FtZXJhKCBjYW1lcmFJbmRleCApIHtcblxuXHRcdGxldCBjYW1lcmE7XG5cdFx0Y29uc3QgY2FtZXJhRGVmID0gdGhpcy5qc29uLmNhbWVyYXNbIGNhbWVyYUluZGV4IF07XG5cdFx0Y29uc3QgcGFyYW1zID0gY2FtZXJhRGVmWyBjYW1lcmFEZWYudHlwZSBdO1xuXG5cdFx0aWYgKCAhIHBhcmFtcyApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuR0xURkxvYWRlcjogTWlzc2luZyBjYW1lcmEgcGFyYW1ldGVycy4nICk7XG5cdFx0XHRyZXR1cm47XG5cblx0XHR9XG5cblx0XHRpZiAoIGNhbWVyYURlZi50eXBlID09PSAncGVyc3BlY3RpdmUnICkge1xuXG5cdFx0XHRjYW1lcmEgPSBuZXcgUGVyc3BlY3RpdmVDYW1lcmEoIE1hdGhVdGlscy5yYWRUb0RlZyggcGFyYW1zLnlmb3YgKSwgcGFyYW1zLmFzcGVjdFJhdGlvIHx8IDEsIHBhcmFtcy56bmVhciB8fCAxLCBwYXJhbXMuemZhciB8fCAyZTYgKTtcblxuXHRcdH0gZWxzZSBpZiAoIGNhbWVyYURlZi50eXBlID09PSAnb3J0aG9ncmFwaGljJyApIHtcblxuXHRcdFx0Y2FtZXJhID0gbmV3IE9ydGhvZ3JhcGhpY0NhbWVyYSggLSBwYXJhbXMueG1hZywgcGFyYW1zLnhtYWcsIHBhcmFtcy55bWFnLCAtIHBhcmFtcy55bWFnLCBwYXJhbXMuem5lYXIsIHBhcmFtcy56ZmFyICk7XG5cblx0XHR9XG5cblx0XHRpZiAoIGNhbWVyYURlZi5uYW1lICkgY2FtZXJhLm5hbWUgPSB0aGlzLmNyZWF0ZVVuaXF1ZU5hbWUoIGNhbWVyYURlZi5uYW1lICk7XG5cblx0XHRhc3NpZ25FeHRyYXNUb1VzZXJEYXRhKCBjYW1lcmEsIGNhbWVyYURlZiApO1xuXG5cdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSggY2FtZXJhICk7XG5cblx0fVxuXG5cdC8qKlxuXHQgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjc2tpbnNcblx0ICogQHBhcmFtIHtudW1iZXJ9IHNraW5JbmRleFxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPFNrZWxldG9uPn1cblx0ICovXG5cdGxvYWRTa2luKCBza2luSW5kZXggKSB7XG5cblx0XHRjb25zdCBza2luRGVmID0gdGhpcy5qc29uLnNraW5zWyBza2luSW5kZXggXTtcblxuXHRcdGNvbnN0IHBlbmRpbmcgPSBbXTtcblxuXHRcdGZvciAoIGxldCBpID0gMCwgaWwgPSBza2luRGVmLmpvaW50cy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0cGVuZGluZy5wdXNoKCB0aGlzLmdldERlcGVuZGVuY3koICdub2RlJywgc2tpbkRlZi5qb2ludHNbIGkgXSApICk7XG5cblx0XHR9XG5cblx0XHRpZiAoIHNraW5EZWYuaW52ZXJzZUJpbmRNYXRyaWNlcyAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRwZW5kaW5nLnB1c2goIHRoaXMuZ2V0RGVwZW5kZW5jeSggJ2FjY2Vzc29yJywgc2tpbkRlZi5pbnZlcnNlQmluZE1hdHJpY2VzICkgKTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHBlbmRpbmcucHVzaCggbnVsbCApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIFByb21pc2UuYWxsKCBwZW5kaW5nICkudGhlbiggZnVuY3Rpb24gKCByZXN1bHRzICkge1xuXG5cdFx0XHRjb25zdCBpbnZlcnNlQmluZE1hdHJpY2VzID0gcmVzdWx0cy5wb3AoKTtcblx0XHRcdGNvbnN0IGpvaW50Tm9kZXMgPSByZXN1bHRzO1xuXG5cdFx0XHRjb25zdCBib25lcyA9IFtdO1xuXHRcdFx0Y29uc3QgYm9uZUludmVyc2VzID0gW107XG5cblx0XHRcdGZvciAoIGxldCBpID0gMCwgaWwgPSBqb2ludE5vZGVzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkge1xuXG5cdFx0XHRcdGNvbnN0IGpvaW50Tm9kZSA9IGpvaW50Tm9kZXNbIGkgXTtcblxuXHRcdFx0XHRpZiAoIGpvaW50Tm9kZSApIHtcblxuXHRcdFx0XHRcdGJvbmVzLnB1c2goIGpvaW50Tm9kZSApO1xuXG5cdFx0XHRcdFx0Y29uc3QgbWF0ID0gbmV3IE1hdHJpeDQoKTtcblxuXHRcdFx0XHRcdGlmICggaW52ZXJzZUJpbmRNYXRyaWNlcyAhPT0gbnVsbCApIHtcblxuXHRcdFx0XHRcdFx0bWF0LmZyb21BcnJheSggaW52ZXJzZUJpbmRNYXRyaWNlcy5hcnJheSwgaSAqIDE2ICk7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRib25lSW52ZXJzZXMucHVzaCggbWF0ICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkdMVEZMb2FkZXI6IEpvaW50IFwiJXNcIiBjb3VsZCBub3QgYmUgZm91bmQuJywgc2tpbkRlZi5qb2ludHNbIGkgXSApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbmV3IFNrZWxldG9uKCBib25lcywgYm9uZUludmVyc2VzICk7XG5cblx0XHR9ICk7XG5cblx0fVxuXG5cdC8qKlxuXHQgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjYW5pbWF0aW9uc1xuXHQgKiBAcGFyYW0ge251bWJlcn0gYW5pbWF0aW9uSW5kZXhcblx0ICogQHJldHVybiB7UHJvbWlzZTxBbmltYXRpb25DbGlwPn1cblx0ICovXG5cdGxvYWRBbmltYXRpb24oIGFuaW1hdGlvbkluZGV4ICkge1xuXG5cdFx0Y29uc3QganNvbiA9IHRoaXMuanNvbjtcblxuXHRcdGNvbnN0IGFuaW1hdGlvbkRlZiA9IGpzb24uYW5pbWF0aW9uc1sgYW5pbWF0aW9uSW5kZXggXTtcblxuXHRcdGNvbnN0IHBlbmRpbmdOb2RlcyA9IFtdO1xuXHRcdGNvbnN0IHBlbmRpbmdJbnB1dEFjY2Vzc29ycyA9IFtdO1xuXHRcdGNvbnN0IHBlbmRpbmdPdXRwdXRBY2Nlc3NvcnMgPSBbXTtcblx0XHRjb25zdCBwZW5kaW5nU2FtcGxlcnMgPSBbXTtcblx0XHRjb25zdCBwZW5kaW5nVGFyZ2V0cyA9IFtdO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IGFuaW1hdGlvbkRlZi5jaGFubmVscy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0Y29uc3QgY2hhbm5lbCA9IGFuaW1hdGlvbkRlZi5jaGFubmVsc1sgaSBdO1xuXHRcdFx0Y29uc3Qgc2FtcGxlciA9IGFuaW1hdGlvbkRlZi5zYW1wbGVyc1sgY2hhbm5lbC5zYW1wbGVyIF07XG5cdFx0XHRjb25zdCB0YXJnZXQgPSBjaGFubmVsLnRhcmdldDtcblx0XHRcdGNvbnN0IG5hbWUgPSB0YXJnZXQubm9kZTtcblx0XHRcdGNvbnN0IGlucHV0ID0gYW5pbWF0aW9uRGVmLnBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZCA/IGFuaW1hdGlvbkRlZi5wYXJhbWV0ZXJzWyBzYW1wbGVyLmlucHV0IF0gOiBzYW1wbGVyLmlucHV0O1xuXHRcdFx0Y29uc3Qgb3V0cHV0ID0gYW5pbWF0aW9uRGVmLnBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZCA/IGFuaW1hdGlvbkRlZi5wYXJhbWV0ZXJzWyBzYW1wbGVyLm91dHB1dCBdIDogc2FtcGxlci5vdXRwdXQ7XG5cblx0XHRcdHBlbmRpbmdOb2Rlcy5wdXNoKCB0aGlzLmdldERlcGVuZGVuY3koICdub2RlJywgbmFtZSApICk7XG5cdFx0XHRwZW5kaW5nSW5wdXRBY2Nlc3NvcnMucHVzaCggdGhpcy5nZXREZXBlbmRlbmN5KCAnYWNjZXNzb3InLCBpbnB1dCApICk7XG5cdFx0XHRwZW5kaW5nT3V0cHV0QWNjZXNzb3JzLnB1c2goIHRoaXMuZ2V0RGVwZW5kZW5jeSggJ2FjY2Vzc29yJywgb3V0cHV0ICkgKTtcblx0XHRcdHBlbmRpbmdTYW1wbGVycy5wdXNoKCBzYW1wbGVyICk7XG5cdFx0XHRwZW5kaW5nVGFyZ2V0cy5wdXNoKCB0YXJnZXQgKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiBQcm9taXNlLmFsbCggW1xuXG5cdFx0XHRQcm9taXNlLmFsbCggcGVuZGluZ05vZGVzICksXG5cdFx0XHRQcm9taXNlLmFsbCggcGVuZGluZ0lucHV0QWNjZXNzb3JzICksXG5cdFx0XHRQcm9taXNlLmFsbCggcGVuZGluZ091dHB1dEFjY2Vzc29ycyApLFxuXHRcdFx0UHJvbWlzZS5hbGwoIHBlbmRpbmdTYW1wbGVycyApLFxuXHRcdFx0UHJvbWlzZS5hbGwoIHBlbmRpbmdUYXJnZXRzIClcblxuXHRcdF0gKS50aGVuKCBmdW5jdGlvbiAoIGRlcGVuZGVuY2llcyApIHtcblxuXHRcdFx0Y29uc3Qgbm9kZXMgPSBkZXBlbmRlbmNpZXNbIDAgXTtcblx0XHRcdGNvbnN0IGlucHV0QWNjZXNzb3JzID0gZGVwZW5kZW5jaWVzWyAxIF07XG5cdFx0XHRjb25zdCBvdXRwdXRBY2Nlc3NvcnMgPSBkZXBlbmRlbmNpZXNbIDIgXTtcblx0XHRcdGNvbnN0IHNhbXBsZXJzID0gZGVwZW5kZW5jaWVzWyAzIF07XG5cdFx0XHRjb25zdCB0YXJnZXRzID0gZGVwZW5kZW5jaWVzWyA0IF07XG5cblx0XHRcdGNvbnN0IHRyYWNrcyA9IFtdO1xuXG5cdFx0XHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gbm9kZXMubGVuZ3RoOyBpIDwgaWw7IGkgKysgKSB7XG5cblx0XHRcdFx0Y29uc3Qgbm9kZSA9IG5vZGVzWyBpIF07XG5cdFx0XHRcdGNvbnN0IGlucHV0QWNjZXNzb3IgPSBpbnB1dEFjY2Vzc29yc1sgaSBdO1xuXHRcdFx0XHRjb25zdCBvdXRwdXRBY2Nlc3NvciA9IG91dHB1dEFjY2Vzc29yc1sgaSBdO1xuXHRcdFx0XHRjb25zdCBzYW1wbGVyID0gc2FtcGxlcnNbIGkgXTtcblx0XHRcdFx0Y29uc3QgdGFyZ2V0ID0gdGFyZ2V0c1sgaSBdO1xuXG5cdFx0XHRcdGlmICggbm9kZSA9PT0gdW5kZWZpbmVkICkgY29udGludWU7XG5cblx0XHRcdFx0bm9kZS51cGRhdGVNYXRyaXgoKTtcblxuXHRcdFx0XHRsZXQgVHlwZWRLZXlmcmFtZVRyYWNrO1xuXG5cdFx0XHRcdHN3aXRjaCAoIFBBVEhfUFJPUEVSVElFU1sgdGFyZ2V0LnBhdGggXSApIHtcblxuXHRcdFx0XHRcdGNhc2UgUEFUSF9QUk9QRVJUSUVTLndlaWdodHM6XG5cblx0XHRcdFx0XHRcdFR5cGVkS2V5ZnJhbWVUcmFjayA9IE51bWJlcktleWZyYW1lVHJhY2s7XG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdGNhc2UgUEFUSF9QUk9QRVJUSUVTLnJvdGF0aW9uOlxuXG5cdFx0XHRcdFx0XHRUeXBlZEtleWZyYW1lVHJhY2sgPSBRdWF0ZXJuaW9uS2V5ZnJhbWVUcmFjaztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0Y2FzZSBQQVRIX1BST1BFUlRJRVMucG9zaXRpb246XG5cdFx0XHRcdFx0Y2FzZSBQQVRIX1BST1BFUlRJRVMuc2NhbGU6XG5cdFx0XHRcdFx0ZGVmYXVsdDpcblxuXHRcdFx0XHRcdFx0VHlwZWRLZXlmcmFtZVRyYWNrID0gVmVjdG9yS2V5ZnJhbWVUcmFjaztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCB0YXJnZXROYW1lID0gbm9kZS5uYW1lID8gbm9kZS5uYW1lIDogbm9kZS51dWlkO1xuXG5cdFx0XHRcdGNvbnN0IGludGVycG9sYXRpb24gPSBzYW1wbGVyLmludGVycG9sYXRpb24gIT09IHVuZGVmaW5lZCA/IElOVEVSUE9MQVRJT05bIHNhbXBsZXIuaW50ZXJwb2xhdGlvbiBdIDogSW50ZXJwb2xhdGVMaW5lYXI7XG5cblx0XHRcdFx0Y29uc3QgdGFyZ2V0TmFtZXMgPSBbXTtcblxuXHRcdFx0XHRpZiAoIFBBVEhfUFJPUEVSVElFU1sgdGFyZ2V0LnBhdGggXSA9PT0gUEFUSF9QUk9QRVJUSUVTLndlaWdodHMgKSB7XG5cblx0XHRcdFx0XHRub2RlLnRyYXZlcnNlKCBmdW5jdGlvbiAoIG9iamVjdCApIHtcblxuXHRcdFx0XHRcdFx0aWYgKCBvYmplY3QubW9ycGhUYXJnZXRJbmZsdWVuY2VzICkge1xuXG5cdFx0XHRcdFx0XHRcdHRhcmdldE5hbWVzLnB1c2goIG9iamVjdC5uYW1lID8gb2JqZWN0Lm5hbWUgOiBvYmplY3QudXVpZCApO1xuXG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdHRhcmdldE5hbWVzLnB1c2goIHRhcmdldE5hbWUgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0bGV0IG91dHB1dEFycmF5ID0gb3V0cHV0QWNjZXNzb3IuYXJyYXk7XG5cblx0XHRcdFx0aWYgKCBvdXRwdXRBY2Nlc3Nvci5ub3JtYWxpemVkICkge1xuXG5cdFx0XHRcdFx0Y29uc3Qgc2NhbGUgPSBnZXROb3JtYWxpemVkQ29tcG9uZW50U2NhbGUoIG91dHB1dEFycmF5LmNvbnN0cnVjdG9yICk7XG5cdFx0XHRcdFx0Y29uc3Qgc2NhbGVkID0gbmV3IEZsb2F0MzJBcnJheSggb3V0cHV0QXJyYXkubGVuZ3RoICk7XG5cblx0XHRcdFx0XHRmb3IgKCBsZXQgaiA9IDAsIGpsID0gb3V0cHV0QXJyYXkubGVuZ3RoOyBqIDwgamw7IGogKysgKSB7XG5cblx0XHRcdFx0XHRcdHNjYWxlZFsgaiBdID0gb3V0cHV0QXJyYXlbIGogXSAqIHNjYWxlO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0b3V0cHV0QXJyYXkgPSBzY2FsZWQ7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGZvciAoIGxldCBqID0gMCwgamwgPSB0YXJnZXROYW1lcy5sZW5ndGg7IGogPCBqbDsgaiArKyApIHtcblxuXHRcdFx0XHRcdGNvbnN0IHRyYWNrID0gbmV3IFR5cGVkS2V5ZnJhbWVUcmFjayhcblx0XHRcdFx0XHRcdHRhcmdldE5hbWVzWyBqIF0gKyAnLicgKyBQQVRIX1BST1BFUlRJRVNbIHRhcmdldC5wYXRoIF0sXG5cdFx0XHRcdFx0XHRpbnB1dEFjY2Vzc29yLmFycmF5LFxuXHRcdFx0XHRcdFx0b3V0cHV0QXJyYXksXG5cdFx0XHRcdFx0XHRpbnRlcnBvbGF0aW9uXG5cdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdC8vIE92ZXJyaWRlIGludGVycG9sYXRpb24gd2l0aCBjdXN0b20gZmFjdG9yeSBtZXRob2QuXG5cdFx0XHRcdFx0aWYgKCBzYW1wbGVyLmludGVycG9sYXRpb24gPT09ICdDVUJJQ1NQTElORScgKSB7XG5cblx0XHRcdFx0XHRcdHRyYWNrLmNyZWF0ZUludGVycG9sYW50ID0gZnVuY3Rpb24gSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kR0xURkN1YmljU3BsaW5lKCByZXN1bHQgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQSBDVUJJQ1NQTElORSBrZXlmcmFtZSBpbiBnbFRGIGhhcyB0aHJlZSBvdXRwdXQgdmFsdWVzIGZvciBlYWNoIGlucHV0IHZhbHVlLFxuXHRcdFx0XHRcdFx0XHQvLyByZXByZXNlbnRpbmcgaW5UYW5nZW50LCBzcGxpbmVWZXJ0ZXgsIGFuZCBvdXRUYW5nZW50LiBBcyBhIHJlc3VsdCwgdHJhY2suZ2V0VmFsdWVTaXplKClcblx0XHRcdFx0XHRcdFx0Ly8gbXVzdCBiZSBkaXZpZGVkIGJ5IHRocmVlIHRvIGdldCB0aGUgaW50ZXJwb2xhbnQncyBzYW1wbGVTaXplIGFyZ3VtZW50LlxuXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGludGVycG9sYW50VHlwZSA9ICggdGhpcyBpbnN0YW5jZW9mIFF1YXRlcm5pb25LZXlmcmFtZVRyYWNrICkgPyBHTFRGQ3ViaWNTcGxpbmVRdWF0ZXJuaW9uSW50ZXJwb2xhbnQgOiBHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudDtcblxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gbmV3IGludGVycG9sYW50VHlwZSggdGhpcy50aW1lcywgdGhpcy52YWx1ZXMsIHRoaXMuZ2V0VmFsdWVTaXplKCkgLyAzLCByZXN1bHQgKTtcblxuXHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdFx0Ly8gTWFyayBhcyBDVUJJQ1NQTElORS4gYHRyYWNrLmdldEludGVycG9sYXRpb24oKWAgZG9lc24ndCBzdXBwb3J0IGN1c3RvbSBpbnRlcnBvbGFudHMuXG5cdFx0XHRcdFx0XHR0cmFjay5jcmVhdGVJbnRlcnBvbGFudC5pc0ludGVycG9sYW50RmFjdG9yeU1ldGhvZEdMVEZDdWJpY1NwbGluZSA9IHRydWU7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0cmFja3MucHVzaCggdHJhY2sgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgbmFtZSA9IGFuaW1hdGlvbkRlZi5uYW1lID8gYW5pbWF0aW9uRGVmLm5hbWUgOiAnYW5pbWF0aW9uXycgKyBhbmltYXRpb25JbmRleDtcblxuXHRcdFx0cmV0dXJuIG5ldyBBbmltYXRpb25DbGlwKCBuYW1lLCB1bmRlZmluZWQsIHRyYWNrcyApO1xuXG5cdFx0fSApO1xuXG5cdH1cblxuXHRjcmVhdGVOb2RlTWVzaCggbm9kZUluZGV4ICkge1xuXG5cdFx0Y29uc3QganNvbiA9IHRoaXMuanNvbjtcblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzO1xuXHRcdGNvbnN0IG5vZGVEZWYgPSBqc29uLm5vZGVzWyBub2RlSW5kZXggXTtcblxuXHRcdGlmICggbm9kZURlZi5tZXNoID09PSB1bmRlZmluZWQgKSByZXR1cm4gbnVsbDtcblxuXHRcdHJldHVybiBwYXJzZXIuZ2V0RGVwZW5kZW5jeSggJ21lc2gnLCBub2RlRGVmLm1lc2ggKS50aGVuKCBmdW5jdGlvbiAoIG1lc2ggKSB7XG5cblx0XHRcdGNvbnN0IG5vZGUgPSBwYXJzZXIuX2dldE5vZGVSZWYoIHBhcnNlci5tZXNoQ2FjaGUsIG5vZGVEZWYubWVzaCwgbWVzaCApO1xuXG5cdFx0XHQvLyBpZiB3ZWlnaHRzIGFyZSBwcm92aWRlZCBvbiB0aGUgbm9kZSwgb3ZlcnJpZGUgd2VpZ2h0cyBvbiB0aGUgbWVzaC5cblx0XHRcdGlmICggbm9kZURlZi53ZWlnaHRzICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0bm9kZS50cmF2ZXJzZSggZnVuY3Rpb24gKCBvICkge1xuXG5cdFx0XHRcdFx0aWYgKCAhIG8uaXNNZXNoICkgcmV0dXJuO1xuXG5cdFx0XHRcdFx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IG5vZGVEZWYud2VpZ2h0cy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0XHRcdFx0by5tb3JwaFRhcmdldEluZmx1ZW5jZXNbIGkgXSA9IG5vZGVEZWYud2VpZ2h0c1sgaSBdO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbm9kZTtcblxuXHRcdH0gKTtcblxuXHR9XG5cblx0LyoqXG5cdCAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNub2Rlcy1hbmQtaGllcmFyY2h5XG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBub2RlSW5kZXhcblx0ICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QzRD59XG5cdCAqL1xuXHRsb2FkTm9kZSggbm9kZUluZGV4ICkge1xuXG5cdFx0Y29uc3QganNvbiA9IHRoaXMuanNvbjtcblx0XHRjb25zdCBleHRlbnNpb25zID0gdGhpcy5leHRlbnNpb25zO1xuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXM7XG5cblx0XHRjb25zdCBub2RlRGVmID0ganNvbi5ub2Rlc1sgbm9kZUluZGV4IF07XG5cblx0XHQvLyByZXNlcnZlIG5vZGUncyBuYW1lIGJlZm9yZSBpdHMgZGVwZW5kZW5jaWVzLCBzbyB0aGUgcm9vdCBoYXMgdGhlIGludGVuZGVkIG5hbWUuXG5cdFx0Y29uc3Qgbm9kZU5hbWUgPSBub2RlRGVmLm5hbWUgPyBwYXJzZXIuY3JlYXRlVW5pcXVlTmFtZSggbm9kZURlZi5uYW1lICkgOiAnJztcblxuXHRcdHJldHVybiAoIGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0Y29uc3Qgb2JqZWN0UGVuZGluZyA9IFtdO1xuXG5cdFx0XHRjb25zdCBtZXNoUHJvbWlzZSA9IHBhcnNlci5faW52b2tlT25lKCBmdW5jdGlvbiAoIGV4dCApIHtcblxuXHRcdFx0XHRyZXR1cm4gZXh0LmNyZWF0ZU5vZGVNZXNoICYmIGV4dC5jcmVhdGVOb2RlTWVzaCggbm9kZUluZGV4ICk7XG5cblx0XHRcdH0gKTtcblxuXHRcdFx0aWYgKCBtZXNoUHJvbWlzZSApIHtcblxuXHRcdFx0XHRvYmplY3RQZW5kaW5nLnB1c2goIG1lc2hQcm9taXNlICk7XG5cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBub2RlRGVmLmNhbWVyYSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdG9iamVjdFBlbmRpbmcucHVzaCggcGFyc2VyLmdldERlcGVuZGVuY3koICdjYW1lcmEnLCBub2RlRGVmLmNhbWVyYSApLnRoZW4oIGZ1bmN0aW9uICggY2FtZXJhICkge1xuXG5cdFx0XHRcdFx0cmV0dXJuIHBhcnNlci5fZ2V0Tm9kZVJlZiggcGFyc2VyLmNhbWVyYUNhY2hlLCBub2RlRGVmLmNhbWVyYSwgY2FtZXJhICk7XG5cblx0XHRcdFx0fSApICk7XG5cblx0XHRcdH1cblxuXHRcdFx0cGFyc2VyLl9pbnZva2VBbGwoIGZ1bmN0aW9uICggZXh0ICkge1xuXG5cdFx0XHRcdHJldHVybiBleHQuY3JlYXRlTm9kZUF0dGFjaG1lbnQgJiYgZXh0LmNyZWF0ZU5vZGVBdHRhY2htZW50KCBub2RlSW5kZXggKTtcblxuXHRcdFx0fSApLmZvckVhY2goIGZ1bmN0aW9uICggcHJvbWlzZSApIHtcblxuXHRcdFx0XHRvYmplY3RQZW5kaW5nLnB1c2goIHByb21pc2UgKTtcblxuXHRcdFx0fSApO1xuXG5cdFx0XHRjb25zdCBjaGlsZFBlbmRpbmcgPSBbXTtcblx0XHRcdGNvbnN0IGNoaWxkcmVuRGVmID0gbm9kZURlZi5jaGlsZHJlbiB8fCBbXTtcblxuXHRcdFx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IGNoaWxkcmVuRGVmLmxlbmd0aDsgaSA8IGlsOyBpICsrICkge1xuXG5cdFx0XHRcdGNoaWxkUGVuZGluZy5wdXNoKCBwYXJzZXIuZ2V0RGVwZW5kZW5jeSggJ25vZGUnLCBjaGlsZHJlbkRlZlsgaSBdICkgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBza2VsZXRvblBlbmRpbmcgPSBub2RlRGVmLnNraW4gPT09IHVuZGVmaW5lZFxuXHRcdFx0XHQ/IFByb21pc2UucmVzb2x2ZSggbnVsbCApXG5cdFx0XHRcdDogcGFyc2VyLmdldERlcGVuZGVuY3koICdza2luJywgbm9kZURlZi5za2luICk7XG5cblx0XHRcdHJldHVybiBQcm9taXNlLmFsbCggW1xuXHRcdFx0XHRQcm9taXNlLmFsbCggb2JqZWN0UGVuZGluZyApLFxuXHRcdFx0XHRQcm9taXNlLmFsbCggY2hpbGRQZW5kaW5nICksXG5cdFx0XHRcdHNrZWxldG9uUGVuZGluZ1xuXHRcdFx0XSApO1xuXG5cdFx0fSgpICkudGhlbiggZnVuY3Rpb24gKCByZXN1bHRzICkge1xuXG5cdFx0XHRjb25zdCBvYmplY3RzID0gcmVzdWx0c1sgMCBdO1xuXHRcdFx0Y29uc3QgY2hpbGRyZW4gPSByZXN1bHRzWyAxIF07XG5cdFx0XHRjb25zdCBza2VsZXRvbiA9IHJlc3VsdHNbIDIgXTtcblxuXHRcdFx0bGV0IG5vZGU7XG5cblx0XHRcdC8vIC5pc0JvbmUgaXNuJ3QgaW4gZ2xURiBzcGVjLiBTZWUgLl9tYXJrRGVmc1xuXHRcdFx0aWYgKCBub2RlRGVmLmlzQm9uZSA9PT0gdHJ1ZSApIHtcblxuXHRcdFx0XHRub2RlID0gbmV3IEJvbmUoKTtcblxuXHRcdFx0fSBlbHNlIGlmICggb2JqZWN0cy5sZW5ndGggPiAxICkge1xuXG5cdFx0XHRcdG5vZGUgPSBuZXcgR3JvdXAoKTtcblxuXHRcdFx0fSBlbHNlIGlmICggb2JqZWN0cy5sZW5ndGggPT09IDEgKSB7XG5cblx0XHRcdFx0bm9kZSA9IG9iamVjdHNbIDAgXTtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRub2RlID0gbmV3IE9iamVjdDNEKCk7XG5cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBub2RlICE9PSBvYmplY3RzWyAwIF0gKSB7XG5cblx0XHRcdFx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IG9iamVjdHMubGVuZ3RoOyBpIDwgaWw7IGkgKysgKSB7XG5cblx0XHRcdFx0XHRub2RlLmFkZCggb2JqZWN0c1sgaSBdICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHRcdGlmICggbm9kZURlZi5uYW1lICkge1xuXG5cdFx0XHRcdG5vZGUudXNlckRhdGEubmFtZSA9IG5vZGVEZWYubmFtZTtcblx0XHRcdFx0bm9kZS5uYW1lID0gbm9kZU5hbWU7XG5cblx0XHRcdH1cblxuXHRcdFx0YXNzaWduRXh0cmFzVG9Vc2VyRGF0YSggbm9kZSwgbm9kZURlZiApO1xuXG5cdFx0XHRpZiAoIG5vZGVEZWYuZXh0ZW5zaW9ucyApIGFkZFVua25vd25FeHRlbnNpb25zVG9Vc2VyRGF0YSggZXh0ZW5zaW9ucywgbm9kZSwgbm9kZURlZiApO1xuXG5cdFx0XHRpZiAoIG5vZGVEZWYubWF0cml4ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0Y29uc3QgbWF0cml4ID0gbmV3IE1hdHJpeDQoKTtcblx0XHRcdFx0bWF0cml4LmZyb21BcnJheSggbm9kZURlZi5tYXRyaXggKTtcblx0XHRcdFx0bm9kZS5hcHBseU1hdHJpeDQoIG1hdHJpeCApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdGlmICggbm9kZURlZi50cmFuc2xhdGlvbiAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdFx0bm9kZS5wb3NpdGlvbi5mcm9tQXJyYXkoIG5vZGVEZWYudHJhbnNsYXRpb24gKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCBub2RlRGVmLnJvdGF0aW9uICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0XHRub2RlLnF1YXRlcm5pb24uZnJvbUFycmF5KCBub2RlRGVmLnJvdGF0aW9uICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggbm9kZURlZi5zY2FsZSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdFx0bm9kZS5zY2FsZS5mcm9tQXJyYXkoIG5vZGVEZWYuc2NhbGUgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdFx0aWYgKCAhIHBhcnNlci5hc3NvY2lhdGlvbnMuaGFzKCBub2RlICkgKSB7XG5cblx0XHRcdFx0cGFyc2VyLmFzc29jaWF0aW9ucy5zZXQoIG5vZGUsIHt9ICk7XG5cblx0XHRcdH1cblxuXHRcdFx0cGFyc2VyLmFzc29jaWF0aW9ucy5nZXQoIG5vZGUgKS5ub2RlcyA9IG5vZGVJbmRleDtcblxuXHRcdFx0aWYgKCBza2VsZXRvbiAhPT0gbnVsbCApIHtcblxuXHRcdFx0XHQvLyBUaGlzIGZ1bGwgdHJhdmVyc2Ugc2hvdWxkIGJlIGZpbmUgYmVjYXVzZVxuXHRcdFx0XHQvLyBjaGlsZCBnbFRGIG5vZGVzIGhhdmUgbm90IGJlZW4gYWRkZWQgdG8gdGhpcyBub2RlIHlldC5cblx0XHRcdFx0bm9kZS50cmF2ZXJzZSggZnVuY3Rpb24gKCBtZXNoICkge1xuXG5cdFx0XHRcdFx0aWYgKCAhIG1lc2guaXNTa2lubmVkTWVzaCApIHJldHVybjtcblxuXHRcdFx0XHRcdG1lc2guYmluZCggc2tlbGV0b24sIF9pZGVudGl0eU1hdHJpeCApO1xuXG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgaWw7IGkgKysgKSB7XG5cblx0XHRcdFx0bm9kZS5hZGQoIGNoaWxkcmVuWyBpIF0gKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbm9kZTtcblxuXHRcdH0gKTtcblxuXHR9XG5cblx0LyoqXG5cdCAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNzY2VuZXNcblx0ICogQHBhcmFtIHtudW1iZXJ9IHNjZW5lSW5kZXhcblx0ICogQHJldHVybiB7UHJvbWlzZTxHcm91cD59XG5cdCAqL1xuXHRsb2FkU2NlbmUoIHNjZW5lSW5kZXggKSB7XG5cblx0XHRjb25zdCBleHRlbnNpb25zID0gdGhpcy5leHRlbnNpb25zO1xuXHRcdGNvbnN0IHNjZW5lRGVmID0gdGhpcy5qc29uLnNjZW5lc1sgc2NlbmVJbmRleCBdO1xuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXM7XG5cblx0XHQvLyBMb2FkZXIgcmV0dXJucyBHcm91cCwgbm90IFNjZW5lLlxuXHRcdC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9pc3N1ZXMvMTgzNDIjaXNzdWVjb21tZW50LTU3ODk4MTE3MlxuXHRcdGNvbnN0IHNjZW5lID0gbmV3IEdyb3VwKCk7XG5cdFx0aWYgKCBzY2VuZURlZi5uYW1lICkgc2NlbmUubmFtZSA9IHBhcnNlci5jcmVhdGVVbmlxdWVOYW1lKCBzY2VuZURlZi5uYW1lICk7XG5cblx0XHRhc3NpZ25FeHRyYXNUb1VzZXJEYXRhKCBzY2VuZSwgc2NlbmVEZWYgKTtcblxuXHRcdGlmICggc2NlbmVEZWYuZXh0ZW5zaW9ucyApIGFkZFVua25vd25FeHRlbnNpb25zVG9Vc2VyRGF0YSggZXh0ZW5zaW9ucywgc2NlbmUsIHNjZW5lRGVmICk7XG5cblx0XHRjb25zdCBub2RlSWRzID0gc2NlbmVEZWYubm9kZXMgfHwgW107XG5cblx0XHRjb25zdCBwZW5kaW5nID0gW107XG5cblx0XHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gbm9kZUlkcy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0cGVuZGluZy5wdXNoKCBwYXJzZXIuZ2V0RGVwZW5kZW5jeSggJ25vZGUnLCBub2RlSWRzWyBpIF0gKSApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIFByb21pc2UuYWxsKCBwZW5kaW5nICkudGhlbiggZnVuY3Rpb24gKCBub2RlcyApIHtcblxuXHRcdFx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IG5vZGVzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkge1xuXG5cdFx0XHRcdHNjZW5lLmFkZCggbm9kZXNbIGkgXSApO1xuXG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlbW92ZXMgZGFuZ2xpbmcgYXNzb2NpYXRpb25zLCBhc3NvY2lhdGlvbnMgdGhhdCByZWZlcmVuY2UgYSBub2RlIHRoYXRcblx0XHRcdC8vIGRpZG4ndCBtYWtlIGl0IGludG8gdGhlIHNjZW5lLlxuXHRcdFx0Y29uc3QgcmVkdWNlQXNzb2NpYXRpb25zID0gKCBub2RlICkgPT4ge1xuXG5cdFx0XHRcdGNvbnN0IHJlZHVjZWRBc3NvY2lhdGlvbnMgPSBuZXcgTWFwKCk7XG5cblx0XHRcdFx0Zm9yICggY29uc3QgWyBrZXksIHZhbHVlIF0gb2YgcGFyc2VyLmFzc29jaWF0aW9ucyApIHtcblxuXHRcdFx0XHRcdGlmICgga2V5IGluc3RhbmNlb2YgTWF0ZXJpYWwgfHwga2V5IGluc3RhbmNlb2YgVGV4dHVyZSApIHtcblxuXHRcdFx0XHRcdFx0cmVkdWNlZEFzc29jaWF0aW9ucy5zZXQoIGtleSwgdmFsdWUgKTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0bm9kZS50cmF2ZXJzZSggKCBub2RlICkgPT4ge1xuXG5cdFx0XHRcdFx0Y29uc3QgbWFwcGluZ3MgPSBwYXJzZXIuYXNzb2NpYXRpb25zLmdldCggbm9kZSApO1xuXG5cdFx0XHRcdFx0aWYgKCBtYXBwaW5ncyAhPSBudWxsICkge1xuXG5cdFx0XHRcdFx0XHRyZWR1Y2VkQXNzb2NpYXRpb25zLnNldCggbm9kZSwgbWFwcGluZ3MgKTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0cmV0dXJuIHJlZHVjZWRBc3NvY2lhdGlvbnM7XG5cblx0XHRcdH07XG5cblx0XHRcdHBhcnNlci5hc3NvY2lhdGlvbnMgPSByZWR1Y2VBc3NvY2lhdGlvbnMoIHNjZW5lICk7XG5cblx0XHRcdHJldHVybiBzY2VuZTtcblxuXHRcdH0gKTtcblxuXHR9XG5cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0J1ZmZlckdlb21ldHJ5fSBnZW9tZXRyeVxuICogQHBhcmFtIHtHTFRGLlByaW1pdGl2ZX0gcHJpbWl0aXZlRGVmXG4gKiBAcGFyYW0ge0dMVEZQYXJzZXJ9IHBhcnNlclxuICovXG5mdW5jdGlvbiBjb21wdXRlQm91bmRzKCBnZW9tZXRyeSwgcHJpbWl0aXZlRGVmLCBwYXJzZXIgKSB7XG5cblx0Y29uc3QgYXR0cmlidXRlcyA9IHByaW1pdGl2ZURlZi5hdHRyaWJ1dGVzO1xuXG5cdGNvbnN0IGJveCA9IG5ldyBCb3gzKCk7XG5cblx0aWYgKCBhdHRyaWJ1dGVzLlBPU0lUSU9OICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRjb25zdCBhY2Nlc3NvciA9IHBhcnNlci5qc29uLmFjY2Vzc29yc1sgYXR0cmlidXRlcy5QT1NJVElPTiBdO1xuXG5cdFx0Y29uc3QgbWluID0gYWNjZXNzb3IubWluO1xuXHRcdGNvbnN0IG1heCA9IGFjY2Vzc29yLm1heDtcblxuXHRcdC8vIGdsVEYgcmVxdWlyZXMgJ21pbicgYW5kICdtYXgnLCBidXQgVlJNICh3aGljaCBleHRlbmRzIGdsVEYpIGN1cnJlbnRseSBpZ25vcmVzIHRoYXQgcmVxdWlyZW1lbnQuXG5cblx0XHRpZiAoIG1pbiAhPT0gdW5kZWZpbmVkICYmIG1heCAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRib3guc2V0KFxuXHRcdFx0XHRuZXcgVmVjdG9yMyggbWluWyAwIF0sIG1pblsgMSBdLCBtaW5bIDIgXSApLFxuXHRcdFx0XHRuZXcgVmVjdG9yMyggbWF4WyAwIF0sIG1heFsgMSBdLCBtYXhbIDIgXSApXG5cdFx0XHQpO1xuXG5cdFx0XHRpZiAoIGFjY2Vzc29yLm5vcm1hbGl6ZWQgKSB7XG5cblx0XHRcdFx0Y29uc3QgYm94U2NhbGUgPSBnZXROb3JtYWxpemVkQ29tcG9uZW50U2NhbGUoIFdFQkdMX0NPTVBPTkVOVF9UWVBFU1sgYWNjZXNzb3IuY29tcG9uZW50VHlwZSBdICk7XG5cdFx0XHRcdGJveC5taW4ubXVsdGlwbHlTY2FsYXIoIGJveFNjYWxlICk7XG5cdFx0XHRcdGJveC5tYXgubXVsdGlwbHlTY2FsYXIoIGJveFNjYWxlICk7XG5cblx0XHRcdH1cblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkdMVEZMb2FkZXI6IE1pc3NpbmcgbWluL21heCBwcm9wZXJ0aWVzIGZvciBhY2Nlc3NvciBQT1NJVElPTi4nICk7XG5cblx0XHRcdHJldHVybjtcblxuXHRcdH1cblxuXHR9IGVsc2Uge1xuXG5cdFx0cmV0dXJuO1xuXG5cdH1cblxuXHRjb25zdCB0YXJnZXRzID0gcHJpbWl0aXZlRGVmLnRhcmdldHM7XG5cblx0aWYgKCB0YXJnZXRzICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRjb25zdCBtYXhEaXNwbGFjZW1lbnQgPSBuZXcgVmVjdG9yMygpO1xuXHRcdGNvbnN0IHZlY3RvciA9IG5ldyBWZWN0b3IzKCk7XG5cblx0XHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gdGFyZ2V0cy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0Y29uc3QgdGFyZ2V0ID0gdGFyZ2V0c1sgaSBdO1xuXG5cdFx0XHRpZiAoIHRhcmdldC5QT1NJVElPTiAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdGNvbnN0IGFjY2Vzc29yID0gcGFyc2VyLmpzb24uYWNjZXNzb3JzWyB0YXJnZXQuUE9TSVRJT04gXTtcblx0XHRcdFx0Y29uc3QgbWluID0gYWNjZXNzb3IubWluO1xuXHRcdFx0XHRjb25zdCBtYXggPSBhY2Nlc3Nvci5tYXg7XG5cblx0XHRcdFx0Ly8gZ2xURiByZXF1aXJlcyAnbWluJyBhbmQgJ21heCcsIGJ1dCBWUk0gKHdoaWNoIGV4dGVuZHMgZ2xURikgY3VycmVudGx5IGlnbm9yZXMgdGhhdCByZXF1aXJlbWVudC5cblxuXHRcdFx0XHRpZiAoIG1pbiAhPT0gdW5kZWZpbmVkICYmIG1heCAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdFx0Ly8gd2UgbmVlZCB0byBnZXQgbWF4IG9mIGFic29sdXRlIGNvbXBvbmVudHMgYmVjYXVzZSB0YXJnZXQgd2VpZ2h0IGlzIFstMSwxXVxuXHRcdFx0XHRcdHZlY3Rvci5zZXRYKCBNYXRoLm1heCggTWF0aC5hYnMoIG1pblsgMCBdICksIE1hdGguYWJzKCBtYXhbIDAgXSApICkgKTtcblx0XHRcdFx0XHR2ZWN0b3Iuc2V0WSggTWF0aC5tYXgoIE1hdGguYWJzKCBtaW5bIDEgXSApLCBNYXRoLmFicyggbWF4WyAxIF0gKSApICk7XG5cdFx0XHRcdFx0dmVjdG9yLnNldFooIE1hdGgubWF4KCBNYXRoLmFicyggbWluWyAyIF0gKSwgTWF0aC5hYnMoIG1heFsgMiBdICkgKSApO1xuXG5cblx0XHRcdFx0XHRpZiAoIGFjY2Vzc29yLm5vcm1hbGl6ZWQgKSB7XG5cblx0XHRcdFx0XHRcdGNvbnN0IGJveFNjYWxlID0gZ2V0Tm9ybWFsaXplZENvbXBvbmVudFNjYWxlKCBXRUJHTF9DT01QT05FTlRfVFlQRVNbIGFjY2Vzc29yLmNvbXBvbmVudFR5cGUgXSApO1xuXHRcdFx0XHRcdFx0dmVjdG9yLm11bHRpcGx5U2NhbGFyKCBib3hTY2FsZSApO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gTm90ZTogdGhpcyBhc3N1bWVzIHRoYXQgdGhlIHN1bSBvZiBhbGwgd2VpZ2h0cyBpcyBhdCBtb3N0IDEuIFRoaXMgaXNuJ3QgcXVpdGUgY29ycmVjdCAtIGl0J3MgbW9yZSBjb25zZXJ2YXRpdmVcblx0XHRcdFx0XHQvLyB0byBhc3N1bWUgdGhhdCBlYWNoIHRhcmdldCBjYW4gaGF2ZSBhIG1heCB3ZWlnaHQgb2YgMS4gSG93ZXZlciwgZm9yIHNvbWUgdXNlIGNhc2VzIC0gbm90YWJseSwgd2hlbiBtb3JwaCB0YXJnZXRzXG5cdFx0XHRcdFx0Ly8gYXJlIHVzZWQgdG8gaW1wbGVtZW50IGtleS1mcmFtZSBhbmltYXRpb25zIGFuZCBhcyBzdWNoIG9ubHkgdHdvIGFyZSBhY3RpdmUgYXQgYSB0aW1lIC0gdGhpcyByZXN1bHRzIGluIHZlcnkgbGFyZ2Vcblx0XHRcdFx0XHQvLyBib3hlcy4gU28gZm9yIG5vdyB3ZSBtYWtlIGEgYm94IHRoYXQncyBzb21ldGltZXMgYSB0b3VjaCB0b28gc21hbGwgYnV0IGlzIGhvcGVmdWxseSBtb3N0bHkgb2YgcmVhc29uYWJsZSBzaXplLlxuXHRcdFx0XHRcdG1heERpc3BsYWNlbWVudC5tYXgoIHZlY3RvciApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5HTFRGTG9hZGVyOiBNaXNzaW5nIG1pbi9tYXggcHJvcGVydGllcyBmb3IgYWNjZXNzb3IgUE9TSVRJT04uJyApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0Ly8gQXMgcGVyIGNvbW1lbnQgYWJvdmUgdGhpcyBib3ggaXNuJ3QgY29uc2VydmF0aXZlLCBidXQgaGFzIGEgcmVhc29uYWJsZSBzaXplIGZvciBhIHZlcnkgbGFyZ2UgbnVtYmVyIG9mIG1vcnBoIHRhcmdldHMuXG5cdFx0Ym94LmV4cGFuZEJ5VmVjdG9yKCBtYXhEaXNwbGFjZW1lbnQgKTtcblxuXHR9XG5cblx0Z2VvbWV0cnkuYm91bmRpbmdCb3ggPSBib3g7XG5cblx0Y29uc3Qgc3BoZXJlID0gbmV3IFNwaGVyZSgpO1xuXG5cdGJveC5nZXRDZW50ZXIoIHNwaGVyZS5jZW50ZXIgKTtcblx0c3BoZXJlLnJhZGl1cyA9IGJveC5taW4uZGlzdGFuY2VUbyggYm94Lm1heCApIC8gMjtcblxuXHRnZW9tZXRyeS5ib3VuZGluZ1NwaGVyZSA9IHNwaGVyZTtcblxufVxuXG4vKipcbiAqIEBwYXJhbSB7QnVmZmVyR2VvbWV0cnl9IGdlb21ldHJ5XG4gKiBAcGFyYW0ge0dMVEYuUHJpbWl0aXZlfSBwcmltaXRpdmVEZWZcbiAqIEBwYXJhbSB7R0xURlBhcnNlcn0gcGFyc2VyXG4gKiBAcmV0dXJuIHtQcm9taXNlPEJ1ZmZlckdlb21ldHJ5Pn1cbiAqL1xuZnVuY3Rpb24gYWRkUHJpbWl0aXZlQXR0cmlidXRlcyggZ2VvbWV0cnksIHByaW1pdGl2ZURlZiwgcGFyc2VyICkge1xuXG5cdGNvbnN0IGF0dHJpYnV0ZXMgPSBwcmltaXRpdmVEZWYuYXR0cmlidXRlcztcblxuXHRjb25zdCBwZW5kaW5nID0gW107XG5cblx0ZnVuY3Rpb24gYXNzaWduQXR0cmlidXRlQWNjZXNzb3IoIGFjY2Vzc29ySW5kZXgsIGF0dHJpYnV0ZU5hbWUgKSB7XG5cblx0XHRyZXR1cm4gcGFyc2VyLmdldERlcGVuZGVuY3koICdhY2Nlc3NvcicsIGFjY2Vzc29ySW5kZXggKVxuXHRcdFx0LnRoZW4oIGZ1bmN0aW9uICggYWNjZXNzb3IgKSB7XG5cblx0XHRcdFx0Z2VvbWV0cnkuc2V0QXR0cmlidXRlKCBhdHRyaWJ1dGVOYW1lLCBhY2Nlc3NvciApO1xuXG5cdFx0XHR9ICk7XG5cblx0fVxuXG5cdGZvciAoIGNvbnN0IGdsdGZBdHRyaWJ1dGVOYW1lIGluIGF0dHJpYnV0ZXMgKSB7XG5cblx0XHRjb25zdCB0aHJlZUF0dHJpYnV0ZU5hbWUgPSBBVFRSSUJVVEVTWyBnbHRmQXR0cmlidXRlTmFtZSBdIHx8IGdsdGZBdHRyaWJ1dGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cblx0XHQvLyBTa2lwIGF0dHJpYnV0ZXMgYWxyZWFkeSBwcm92aWRlZCBieSBlLmcuIERyYWNvIGV4dGVuc2lvbi5cblx0XHRpZiAoIHRocmVlQXR0cmlidXRlTmFtZSBpbiBnZW9tZXRyeS5hdHRyaWJ1dGVzICkgY29udGludWU7XG5cblx0XHRwZW5kaW5nLnB1c2goIGFzc2lnbkF0dHJpYnV0ZUFjY2Vzc29yKCBhdHRyaWJ1dGVzWyBnbHRmQXR0cmlidXRlTmFtZSBdLCB0aHJlZUF0dHJpYnV0ZU5hbWUgKSApO1xuXG5cdH1cblxuXHRpZiAoIHByaW1pdGl2ZURlZi5pbmRpY2VzICE9PSB1bmRlZmluZWQgJiYgISBnZW9tZXRyeS5pbmRleCApIHtcblxuXHRcdGNvbnN0IGFjY2Vzc29yID0gcGFyc2VyLmdldERlcGVuZGVuY3koICdhY2Nlc3NvcicsIHByaW1pdGl2ZURlZi5pbmRpY2VzICkudGhlbiggZnVuY3Rpb24gKCBhY2Nlc3NvciApIHtcblxuXHRcdFx0Z2VvbWV0cnkuc2V0SW5kZXgoIGFjY2Vzc29yICk7XG5cblx0XHR9ICk7XG5cblx0XHRwZW5kaW5nLnB1c2goIGFjY2Vzc29yICk7XG5cblx0fVxuXG5cdGFzc2lnbkV4dHJhc1RvVXNlckRhdGEoIGdlb21ldHJ5LCBwcmltaXRpdmVEZWYgKTtcblxuXHRjb21wdXRlQm91bmRzKCBnZW9tZXRyeSwgcHJpbWl0aXZlRGVmLCBwYXJzZXIgKTtcblxuXHRyZXR1cm4gUHJvbWlzZS5hbGwoIHBlbmRpbmcgKS50aGVuKCBmdW5jdGlvbiAoKSB7XG5cblx0XHRyZXR1cm4gcHJpbWl0aXZlRGVmLnRhcmdldHMgIT09IHVuZGVmaW5lZFxuXHRcdFx0PyBhZGRNb3JwaFRhcmdldHMoIGdlb21ldHJ5LCBwcmltaXRpdmVEZWYudGFyZ2V0cywgcGFyc2VyIClcblx0XHRcdDogZ2VvbWV0cnk7XG5cblx0fSApO1xuXG59XG5cbmV4cG9ydCB7IEdMVEZMb2FkZXIgfTtcbiIsImltcG9ydCB7IFZlY3RvcjMgfSBmcm9tIFwidGhyZWVcIjtcblxuLy9odHRwczovL2dpdGh1Yi5jb20vRGFyaW9NYXp6YW50aS9PbmVFdXJvRmlsdGVyVW5pdHkvYmxvYi9tYXN0ZXIvQXNzZXRzL1NjcmlwdHMvT25lRXVyb0ZpbHRlci5jc1xuLy9odHRwczovL2dpdGh1Yi5jb20vRGFyaW9NYXp6YW50aS9PbmVFdXJvRmlsdGVyVW5pdHkvYmxvYi9tYXN0ZXIvQXNzZXRzL1NjcmlwdHMvRmlsdGVyVGVzdFZlY3RvcjMuY3Ncbi8vaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vVGhvcnN0ZW5CdXgvMzIzMTgzYmIwYmMyY2NiOTJmZjIzZWJkZjNkZTY0MDhcblxuLyogZXNsaW50LWRpc2FibGUgbWF4LWNsYXNzZXMtcGVyLWZpbGUgKi9cbmNsYXNzIExvd1Bhc3NGaWx0ZXIge1xuICAgIHk6IG51bWJlciB8IG51bGw7XG5cbiAgICBzOiBudW1iZXIgfCBudWxsO1xuXG4gICAgYWxwaGEgPSAwO1xuXG4gICAgY29uc3RydWN0b3IoYWxwaGE6IG51bWJlcikge1xuICAgICAgICB0aGlzLnNldEFscGhhKGFscGhhKTtcbiAgICAgICAgdGhpcy55ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zID0gbnVsbDtcbiAgICB9XG5cbiAgICBzZXRBbHBoYShhbHBoYTogbnVtYmVyKSB7XG4gICAgICAgIGlmIChhbHBoYSA8PSAwIHx8IGFscGhhID4gMS4wKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFscGhhID0gYWxwaGE7XG4gICAgfVxuXG4gICAgZmlsdGVyKHZhbHVlOiBudW1iZXIsIHRpbWVzdGFtcDogbnVtYmVyLCBhbHBoYTogbnVtYmVyKSB7XG4gICAgICAgIGlmIChhbHBoYSkge1xuICAgICAgICAgICAgdGhpcy5zZXRBbHBoYShhbHBoYSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHM7XG4gICAgICAgIGlmICghdGhpcy55KSB7XG4gICAgICAgICAgICBzID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzID0gdGhpcy5hbHBoYSAqIHZhbHVlICsgKDEuMCAtIHRoaXMuYWxwaGEpICogdGhpcy5zITtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnkgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5zID0gcztcbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfVxuXG4gICAgbGFzdFZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy55O1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT25lRXVyb0ZpbHRlciB7XG4gICAgZnJlcTogbnVtYmVyO1xuXG4gICAgbWluQ3V0T2ZmOiBudW1iZXI7XG5cbiAgICBiZXRhOiBudW1iZXI7XG5cbiAgICBkQ3V0T2ZmOiBudW1iZXI7XG5cbiAgICB4OiBMb3dQYXNzRmlsdGVyO1xuXG4gICAgZHg6IExvd1Bhc3NGaWx0ZXI7XG5cbiAgICBsYXN0dGltZTogbnVtYmVyIHwgbnVsbDtcblxuICAgIHB1YmxpYyBjdXJyVmFsdWU6IG51bWJlcjtcbiAgICBwdWJsaWMgcHJldlZhbHVlOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihmcmVxOiBudW1iZXIsIG1pbkN1dE9mZiA9IDEuMCwgYmV0YSA9IDAuMCwgZEN1dE9mZiA9IDEuMCkge1xuICAgICAgICBpZiAoZnJlcSA8PSAwIHx8IG1pbkN1dE9mZiA8PSAwIHx8IGRDdXRPZmYgPD0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mcmVxID0gZnJlcTtcbiAgICAgICAgdGhpcy5taW5DdXRPZmYgPSBtaW5DdXRPZmY7XG4gICAgICAgIHRoaXMuYmV0YSA9IGJldGE7XG4gICAgICAgIHRoaXMuZEN1dE9mZiA9IGRDdXRPZmY7XG4gICAgICAgIHRoaXMueCA9IG5ldyBMb3dQYXNzRmlsdGVyKHRoaXMuYWxwaGEodGhpcy5taW5DdXRPZmYpKTtcbiAgICAgICAgdGhpcy5keCA9IG5ldyBMb3dQYXNzRmlsdGVyKHRoaXMuYWxwaGEodGhpcy5kQ3V0T2ZmKSk7XG4gICAgICAgIHRoaXMubGFzdHRpbWUgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuY3VyclZhbHVlID0gMC4wO1xuICAgICAgICB0aGlzLnByZXZWYWx1ZSA9IHRoaXMuY3VyclZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBhbHBoYShjdXRPZmY6IG51bWJlcikge1xuICAgICAgICBjb25zdCB0ZSA9IDEuMCAvIHRoaXMuZnJlcTtcbiAgICAgICAgY29uc3QgdGF1ID0gMS4wIC8gKDIgKiBNYXRoLlBJICogY3V0T2ZmKTtcbiAgICAgICAgcmV0dXJuIDEuMCAvICgxLjAgKyB0YXUgLyB0ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIFVwZGF0ZVBhcmFtcyhfZnJlcTogbnVtYmVyLCBfbWluY3V0b2ZmOiBudW1iZXIgPSAxLjAsIF9iZXRhOiBudW1iZXIgPSAwLCBfZGN1dG9mZjogbnVtYmVyID0gMSk6IHZvaWQge1xuICAgICAgICB0aGlzLmZyZXEgPSBfZnJlcTtcbiAgICAgICAgdGhpcy5taW5DdXRPZmYgPSBfbWluY3V0b2ZmO1xuICAgICAgICB0aGlzLmJldGEgPSBfYmV0YTtcbiAgICAgICAgdGhpcy5kQ3V0T2ZmID0gX2RjdXRvZmY7XG4gICAgICAgIHRoaXMueC5zZXRBbHBoYSh0aGlzLmFscGhhKHRoaXMubWluQ3V0T2ZmKSk7XG4gICAgICAgIHRoaXMuZHguc2V0QWxwaGEodGhpcy5hbHBoYSh0aGlzLmRDdXRPZmYpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgRmlsdGVyKHg6IG51bWJlciwgdGltZXN0YW1wOiBudW1iZXIgfCBudWxsID0gbnVsbCk6IG51bWJlciB7XG4gICAgICAgIHRoaXMucHJldlZhbHVlID0gdGhpcy5jdXJyVmFsdWU7XG4gICAgICAgIGlmICh0aGlzLmxhc3R0aW1lICYmIHRpbWVzdGFtcCkge1xuICAgICAgICAgICAgdGhpcy5mcmVxID0gMS4wIC8gKHRpbWVzdGFtcCAtIHRoaXMubGFzdHRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFzdHRpbWUgPSB0aW1lc3RhbXA7XG4gICAgICAgIGNvbnN0IHByZXZYID0gdGhpcy54Lmxhc3RWYWx1ZSgpO1xuICAgICAgICBjb25zdCBkeCA9ICFwcmV2WCA/IDAuMCA6ICh4IC0gcHJldlgpICogdGhpcy5mcmVxO1xuICAgICAgICBjb25zdCBlZHggPSB0aGlzLmR4LmZpbHRlcihkeCwgdGltZXN0YW1wISwgdGhpcy5hbHBoYSh0aGlzLmRDdXRPZmYpKTtcbiAgICAgICAgY29uc3QgY3V0T2ZmID0gdGhpcy5taW5DdXRPZmYgKyB0aGlzLmJldGEgKiBNYXRoLmFicyhlZHgpO1xuICAgICAgICByZXR1cm4gKHRoaXMuY3VyclZhbHVlID0gdGhpcy54LmZpbHRlcih4LCB0aW1lc3RhbXAhLCB0aGlzLmFscGhhKGN1dE9mZikpKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBPbmVFdXJvRmlsdGVyVmVjdG9yMyB7XG4gICAgLy8gY29udGFpbnN0IHRoZSB0eXBlIG9mIFRcbiAgICAvLyB0aGUgYXJyYXkgb2YgZmlsdGVyc1xuICAgIHByaXZhdGUgb25lRXVyb0ZpbHRlcnM6IEFycmF5PE9uZUV1cm9GaWx0ZXI+O1xuXG4gICAgcHJpdmF0ZSBfZnJlcTogbnVtYmVyO1xuICAgIHB1YmxpYyBnZXQgZnJlcSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fZnJlcTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9iZXRhOiBudW1iZXI7XG4gICAgcHVibGljIGdldCBiZXRhKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9iZXRhO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2RjdXRvZmY6IG51bWJlcjtcbiAgICBwdWJsaWMgZ2V0IGRjdXRvZmYoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RjdXRvZmY7XG4gICAgfVxuICAgIHByaXZhdGUgX21pbmN1dG9mZjogbnVtYmVyO1xuICAgIHB1YmxpYyBnZXQgbWluY3V0b2ZmXzEoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21pbmN1dG9mZjtcbiAgICB9XG5cbiAgICAvLyBjdXJyVmFsdWUgY29udGFpbnMgdGhlIGxhdGVzdCB2YWx1ZSB3aGljaCBoYXZlIGJlZW4gc3VjY2VzZnVsbHkgZmlsdGVyZWRcbiAgICAvLyBwcmV2VmFsdWUgY29udGFpbnMgdGhlIHByZXZpb3VzIGZpbHRlcmVkIHZhbHVlXG5cbiAgICBwcml2YXRlIGN1cnJWYWx1ZTogVmVjdG9yMztcbiAgICBwcml2YXRlIHByZXZWYWx1ZTogVmVjdG9yMztcblxuICAgIC8vIGluaXRpYWxpemF0aW9uIG9mIG91ciBmaWx0ZXIocylcbiAgICBjb25zdHJ1Y3RvcihfZnJlcTogbnVtYmVyLCBfbWluY3V0b2ZmOiBudW1iZXIgPSAxLCBfYmV0YTogbnVtYmVyID0gMCwgX2RjdXRvZmY6IG51bWJlciA9IDEpIHtcbiAgICAgICAgdGhpcy5jdXJyVmFsdWUgPSBuZXcgVmVjdG9yMygpO1xuICAgICAgICB0aGlzLnByZXZWYWx1ZSA9IG5ldyBWZWN0b3IzKCk7XG5cbiAgICAgICAgdGhpcy5fZnJlcSA9IF9mcmVxO1xuICAgICAgICB0aGlzLl9taW5jdXRvZmYgPSBfbWluY3V0b2ZmO1xuICAgICAgICB0aGlzLl9iZXRhID0gX2JldGE7XG4gICAgICAgIHRoaXMuX2RjdXRvZmYgPSBfZGN1dG9mZjtcblxuICAgICAgICB0aGlzLm9uZUV1cm9GaWx0ZXJzID0gW107XG4gICAgICAgIHRoaXMub25lRXVyb0ZpbHRlcnMucHVzaChuZXcgT25lRXVyb0ZpbHRlcihfZnJlcSwgX21pbmN1dG9mZiwgX2JldGEsIF9kY3V0b2ZmKSk7XG4gICAgICAgIHRoaXMub25lRXVyb0ZpbHRlcnMucHVzaChuZXcgT25lRXVyb0ZpbHRlcihfZnJlcSwgX21pbmN1dG9mZiwgX2JldGEsIF9kY3V0b2ZmKSk7XG4gICAgICAgIHRoaXMub25lRXVyb0ZpbHRlcnMucHVzaChuZXcgT25lRXVyb0ZpbHRlcihfZnJlcSwgX21pbmN1dG9mZiwgX2JldGEsIF9kY3V0b2ZmKSk7XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlcyB0aGUgZmlsdGVyIHBhcmFtZXRlcnNcbiAgICBwdWJsaWMgVXBkYXRlUGFyYW1zKF9mcmVxOiBudW1iZXIsIF9taW5jdXRvZmY6IG51bWJlciA9IDEuMCwgX2JldGE6IG51bWJlciA9IDAsIF9kY3V0b2ZmOiBudW1iZXIgPSAxKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2ZyZXEgPSBfZnJlcTtcbiAgICAgICAgdGhpcy5fbWluY3V0b2ZmID0gX21pbmN1dG9mZjtcbiAgICAgICAgdGhpcy5fYmV0YSA9IF9iZXRhO1xuICAgICAgICB0aGlzLl9kY3V0b2ZmID0gX2RjdXRvZmY7XG5cbiAgICAgICAgZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IHRoaXMub25lRXVyb0ZpbHRlcnMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB0aGlzLm9uZUV1cm9GaWx0ZXJzW2ldLlVwZGF0ZVBhcmFtcyh0aGlzLl9mcmVxLCB0aGlzLl9taW5jdXRvZmYsIHRoaXMuX2JldGEsIHRoaXMuX2RjdXRvZmYpO1xuICAgIH1cblxuICAgIC8vIGZpbHRlcnMgdGhlIHByb3ZpZGVkIF92YWx1ZSBhbmQgcmV0dXJucyB0aGUgcmVzdWx0LlxuICAgIC8vIE5vdGU6IGEgdGltZXN0YW1wIGNhbiBhbHNvIGJlIHByb3ZpZGVkIC0gd2lsbCBvdmVycmlkZSBmaWx0ZXIgZnJlcXVlbmN5LlxuICAgIHB1YmxpYyBGaWx0ZXIoX3ZhbHVlOiBWZWN0b3IzLCB0aW1lc3RhbXA6IG51bWJlciA9IC0xLjApOiBWZWN0b3IzIHtcbiAgICAgICAgdGhpcy5wcmV2VmFsdWUgPSB0aGlzLmN1cnJWYWx1ZTtcblxuICAgICAgICAvL2xldCBvdXRwdXQ6IG51bWJlcltdID0gVmVjdG9yMy5aZXJvUmVhZE9ubHkuYXNBcnJheSgpOyAvLyBCYWJ5bG9uIGNvZGUuLi5cbiAgICAgICAgbGV0IG91dDogVmVjdG9yMyA9IG5ldyBWZWN0b3IzKCk7XG4gICAgICAgIGxldCBvdXRwdXQ6IG51bWJlcltdID0gb3V0LnRvQXJyYXkoKTtcblxuICAgICAgICAvL2xldCBpbnB1dDogbnVtYmVyW10gPSBfdmFsdWUuYXNBcnJheSgpOyAvLyBCYWJ5bG9uIGNvZGVcbiAgICAgICAgbGV0IGlucHV0OiBudW1iZXJbXSA9IF92YWx1ZS50b0FycmF5KCk7XG5cbiAgICAgICAgdGhpcy5vbmVFdXJvRmlsdGVycy5mb3JFYWNoKChmaWx0ZXJzLCBpZHgpID0+IHtcbiAgICAgICAgICAgIG91dHB1dFtpZHhdID0gZmlsdGVycy5GaWx0ZXIoaW5wdXRbaWR4XSwgdGltZXN0YW1wKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IGFycjogVmVjdG9yMyA9IG5ldyBWZWN0b3IzKCk7XG5cbiAgICAgICAgcmV0dXJuICh0aGlzLmN1cnJWYWx1ZSA9IGFyci5mcm9tQXJyYXkob3V0cHV0KSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgZ2V0VGltZSB9IGZyb20gXCIuLi91dGlscy9VdGlsc1wiO1xuXG5leHBvcnQgY2xhc3MgRGVsYXlhYmxlU2lnbmFsRmlsdGVyIHtcbiAgICBwcml2YXRlIF9pbkRlbGF5OiBib29sZWFuO1xuICAgIHByaXZhdGUgX3RvdGFsVGltZTogbnVtYmVyO1xuICAgIHByaXZhdGUgX3ByZXZUaW1lOiBudW1iZXI7XG5cbiAgICBwcml2YXRlIF90aW1lT3V0OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih0aW1lT3V0OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fdGltZU91dCA9IHRpbWVPdXQ7XG4gICAgICAgIHRoaXMuX2luRGVsYXkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgVXBkYXRlKHRpY2s6IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgICAgICAgbGV0IHRpbWU6IG51bWJlciA9IGdldFRpbWUoKTtcblxuICAgICAgICBpZiAoIXRoaXMuX2luRGVsYXkpIHtcbiAgICAgICAgICAgIHRoaXMuX3ByZXZUaW1lID0gdGltZTtcbiAgICAgICAgICAgIHRoaXMuX3RvdGFsVGltZSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90b3RhbFRpbWUgKz0gdGltZSAtIHRoaXMuX3ByZXZUaW1lO1xuXG4gICAgICAgIGlmICh0aGlzLl9pbkRlbGF5ICYmIHRoaXMuX3RvdGFsVGltZSA+IHRoaXMuX3RpbWVPdXQpIHtcbiAgICAgICAgICAgIHRoaXMuX2luRGVsYXkgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRpY2spIHtcbiAgICAgICAgICAgIHRoaXMuX2luRGVsYXkgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2luRGVsYXkgPSBmYWxzZTtcblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgT25lRXVyb0ZpbHRlclZlY3RvcjMgfSBmcm9tIFwiLi9PbmVFdXJvRmlsdGVyXCI7XHJcbmltcG9ydCB7IERlbGF5YWJsZVNpZ25hbEZpbHRlciB9IGZyb20gXCIuL0RlbGF5YWJsZVNpZ25hbEZpbHRlclwiO1xyXG5pbXBvcnQgeyBFdWxlciwgTWF0cml4NCwgUXVhdGVybmlvbiwgVmVjdG9yMyB9IGZyb20gXCJ0aHJlZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFSbmZ0RmlsdGVyIHtcclxuICAgIHByaXZhdGUgZGVsYXlFeGl0Q2hlY2s6IERlbGF5YWJsZVNpZ25hbEZpbHRlcjtcclxuXHJcbiAgICBwcml2YXRlIGRlbGF5RW50ZXJDaGVjazogRGVsYXlhYmxlU2lnbmFsRmlsdGVyO1xyXG5cclxuICAgIHByaXZhdGUgX2hhc0ZvdW5kOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgLy8gcHJpdmF0ZSBfaW50ZXJwb2xhdGlvbkZhY3RvcjogbnVtYmVyID0gMTU7XHJcblxyXG4gICAgcHJpdmF0ZSBfbGFzdFRyYW5zbGF0aW9uOiBWZWN0b3IzO1xyXG5cclxuICAgIHByaXZhdGUgX2ZyYW1lRHJvcHM6IG51bWJlciA9IDA7XHJcblxyXG4gICAgcHJpdmF0ZSBfZGVsdGFBY2N1cmFjeTogbnVtYmVyID0gMTA7XHJcblxyXG4gICAgcHJpdmF0ZSBfcG9zaXRpb25GaWx0ZXI6IE9uZUV1cm9GaWx0ZXJWZWN0b3IzO1xyXG5cclxuICAgIHByaXZhdGUgX3JvdGF0aW9uRmlsdGVyOiBPbmVFdXJvRmlsdGVyVmVjdG9yMztcclxuXHJcbiAgICBwdWJsaWMgZmlsdGVyRnJlcXVlbmN5OiBudW1iZXIgPSAzMC4wO1xyXG4gICAgcHVibGljIGZpbHRlck1pbkN1dG9mZjogbnVtYmVyID0gMS4wO1xyXG4gICAgcHVibGljIGZpbHRlckJldGE6IG51bWJlciA9IDAuMDtcclxuICAgIHB1YmxpYyBmaWx0ZXJEY3V0b2ZmOiBudW1iZXIgPSAxLjA7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5kZWxheUVudGVyQ2hlY2sgPSBuZXcgRGVsYXlhYmxlU2lnbmFsRmlsdGVyKDIpO1xyXG4gICAgICAgIHRoaXMuZGVsYXlFeGl0Q2hlY2sgPSBuZXcgRGVsYXlhYmxlU2lnbmFsRmlsdGVyKDApO1xyXG5cclxuICAgICAgICB0aGlzLl9wb3NpdGlvbkZpbHRlciA9IG5ldyBPbmVFdXJvRmlsdGVyVmVjdG9yMyh0aGlzLmZpbHRlckZyZXF1ZW5jeSk7XHJcbiAgICAgICAgdGhpcy5fcm90YXRpb25GaWx0ZXIgPSBuZXcgT25lRXVyb0ZpbHRlclZlY3RvcjModGhpcy5maWx0ZXJGcmVxdWVuY3kgKiAyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlKHdvcmxkOiBhbnkpOiBWZWN0b3IzW10ge1xyXG4gICAgICAgIGxldCBwb3M6IFZlY3RvcjMgPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgICAgIGxldCByb3RhdGlvblZlYzogVmVjdG9yMyA9IG5ldyBWZWN0b3IzKCk7XHJcbiAgICAgICAgbGV0IHNjYWxlOiBWZWN0b3IzID0gbmV3IFZlY3RvcjMoKTtcclxuICAgICAgICBpZiAoIXdvcmxkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhc0ZvdW5kID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lRHJvcHMgPSAwO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBtYXRyaXhXOiBNYXRyaXg0ID0gbmV3IE1hdHJpeDQoKTtcclxuICAgICAgICAgICAgbGV0IHdvcmxkTWF0cml4OiBNYXRyaXg0ID0gbWF0cml4Vy5mcm9tQXJyYXkodGhpcy5nZXRBcnJheU1hdHJpeCh3b3JsZCkpO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2hhc0ZvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9oYXNGb3VuZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmVjVHJhbnM6IFZlY3RvcjMgPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdFRyYW5zbGF0aW9uID0gdmVjVHJhbnMuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHdvcmxkTWF0cml4KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxldCB2ZWNUcmFuczogVmVjdG9yMyA9IG5ldyBWZWN0b3IzKCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgX2N1cnJlbnRUcmFuc2xhdGlvbjogVmVjdG9yMyA9IHZlY1RyYW5zLnNldEZyb21NYXRyaXhQb3NpdGlvbih3b3JsZE1hdHJpeCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoX2N1cnJlbnRUcmFuc2xhdGlvbi5kaXN0YW5jZVRvKHRoaXMuX2xhc3RUcmFuc2xhdGlvbikpID4gdGhpcy5fZGVsdGFBY2N1cmFjeSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZyYW1lRHJvcHMgKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fZnJhbWVEcm9wcyA+IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGFzdFRyYW5zbGF0aW9uID0gX2N1cnJlbnRUcmFuc2xhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtwb3MsIHJvdGF0aW9uVmVjLCBzY2FsZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9mcmFtZURyb3BzID0gMDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RUcmFuc2xhdGlvbiA9IF9jdXJyZW50VHJhbnNsYXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25GaWx0ZXIuVXBkYXRlUGFyYW1zKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJGcmVxdWVuY3ksXHJcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlck1pbkN1dG9mZixcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyQmV0YSxcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyRGN1dG9mZlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB0aGlzLl9yb3RhdGlvbkZpbHRlci5VcGRhdGVQYXJhbXMoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckZyZXF1ZW5jeSAqIDIsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlck1pbkN1dG9mZixcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyQmV0YSxcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyRGN1dG9mZlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBsZXQgbWF0cml4OiBNYXRyaXg0ID0gbmV3IE1hdHJpeDQoKTtcclxuXHJcbiAgICAgICAgICAgIG1hdHJpeCA9IHdvcmxkTWF0cml4O1xyXG5cclxuICAgICAgICAgICAgbGV0IHJvdGF0aW9uOiBRdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKTtcclxuICAgICAgICAgICAgbGV0IGV1bGVyUm90OiBFdWxlciA9IG5ldyBFdWxlcigpO1xyXG4gICAgICAgICAgICBsZXQgcG9zaXRpb246IFZlY3RvcjMgPSBuZXcgVmVjdG9yMygwLCAwLCAwKTtcclxuXHJcbiAgICAgICAgICAgIC8vIG9yIGV2ZW4gc2ltcGxlIGRlY29tcG9zZSB0aGUgd29ybGRNYXRyaXggaW50byBwb3NpdGlvbiwgcXVhdGVybmlvbiBhbmQgc2NhbGUgd2l0aCBkZWNvbXBvc2VcclxuICAgICAgICAgICAgd29ybGRNYXRyaXguZGVjb21wb3NlKHBvc2l0aW9uLCByb3RhdGlvbiwgc2NhbGUpO1xyXG4gICAgICAgICAgICBsZXQgZVJvdDogRXVsZXIgPSBldWxlclJvdC5zZXRGcm9tUXVhdGVybmlvbihyb3RhdGlvbik7XHJcbiAgICAgICAgICAgIGxldCBldWxlclRvVmVjdG9yMzogVmVjdG9yMyA9IG5ldyBWZWN0b3IzKCk7XHJcbiAgICAgICAgICAgIHJvdGF0aW9uVmVjID0gdGhpcy5fcm90YXRpb25GaWx0ZXIuRmlsdGVyKGV1bGVyVG9WZWN0b3IzLnNldEZyb21FdWxlcihlUm90KSk7XHJcblxyXG4gICAgICAgICAgICBwb3MgPSB0aGlzLl9wb3NpdGlvbkZpbHRlci5GaWx0ZXIocG9zaXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW3Bvcywgcm90YXRpb25WZWMsIHNjYWxlXTtcclxuICAgIH1cclxuICAgIHByb3RlY3RlZCBnZXRBcnJheU1hdHJpeCh2YWx1ZTogYW55KTogYW55IHtcclxuICAgICAgICB2YXIgYXJyYXk6IGFueSA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xyXG4gICAgICAgICAgICBhcnJheVtrZXldID0gdmFsdWVba2V5XTsgLy8udG9GaXhlZCg0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFycmF5O1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7XG4gICAgT2JqZWN0M0QsXG4gICAgUGxhbmVHZW9tZXRyeSxcbiAgICBTY2VuZSxcbiAgICBUZXh0dXJlTG9hZGVyLFxuICAgIFZpZGVvVGV4dHVyZSxcbiAgICBNZXNoLFxuICAgIE1lc2hTdGFuZGFyZE1hdGVyaWFsLFxuICAgIFZlY3RvcjMsXG59IGZyb20gXCJ0aHJlZVwiO1xuaW1wb3J0IHsgR0xURkxvYWRlciB9IGZyb20gXCJ0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9HTFRGTG9hZGVyXCI7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuLi91dGlscy9VdGlsc1wiO1xuaW1wb3J0IHsgQVJuZnRGaWx0ZXIgfSBmcm9tIFwiLi4vZmlsdGVycy9BUm5mdEZpbHRlclwiO1xuaW1wb3J0IFNjZW5lUmVuZGVyZXJUSlMgZnJvbSBcIi4uL1NjZW5lUmVuZGVyZXJUSlNcIjtcblxuLyoqXG4gKiBJbnRlcmZhY2UgdG8gZGVmaW5lIHRoZSBBUlZpZGVvIG9iamVjdCB1c2VkIGluIGFkZFZpZGVvLlxuICogQHBhcmFtIHBsYXkgcGxheSBhIHZpZGVvLlxuICovXG5pbnRlcmZhY2UgQVJ2aWRlbyB7XG4gICAgcGxheTogKCkgPT4gdm9pZDtcbn1cblxuLyoqXG4gKiBJbnRlcmZhY2UgdG8gZGVmaW5lIGFuIEVudGl0eS5cbiAqIEBwYXJhbSBuYW1lIHRoZSBuYW1lIG9mIHRoZSBFbnRpdHlcbiAqL1xuaW50ZXJmYWNlIEVudGl0eSB7XG4gICAgbmFtZTogc3RyaW5nO1xufVxuXG4vKipcbiAqIEludGVyZmFjZSB0byBkZWZpbmUgdGhlIFBsYW5lR2VvbWV0cnkgdXNlZCBpbiB0aGUgYWRkSW1hZ2UgYW5kIGFkZFZpZGVvIGZ1bmN0aW9ucy5cbiAqIEBwYXJhbSB3ICB3aWR0aCBvZiB0aGUgUGxhbmVHZW9tZXRyeS5cbiAqIEBwYXJhbSBoIGhlaWdodCBvZiB0aGUgUGxhbmVHZW9tZXRyeS5cbiAqIEBwYXJhbSB3cyB3aWR0aCBudW1iZXIgb2Ygc2VnbWVudHMgb2YgdGhlIFBsYW5lR2VvbWV0cnkuXG4gKiBAcGFyYW0gaHMgaGVpZ2h0IG51bWJlciBvZiBzZWdtZW50cyBvZiB0aGUgUGxhbmVHZW9tZXRyeS5cbiAqL1xuaW50ZXJmYWNlIElQbGFuZUNvbmZpZyB7XG4gICAgdzogbnVtYmVyO1xuICAgIGg6IG51bWJlcjtcbiAgICB3czogbnVtYmVyO1xuICAgIGhzOiBudW1iZXI7XG59XG5cbi8qKlxuICogVGhpcyBjbGFzcyBpcyByZXNwb25zYWJsZSB0byBhdHRhY2ggVGhyZWVqcyBvYmplY3QgdG8gdGhlIHJlbmRlcmluZyByb290IGFuZCBwYXNzIG1hdHJpeCBkYXRhIHRvIGl0LlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBORlRhZGRUSlMge1xuICAgIHByaXZhdGUgZW50aXRpZXM6IEVudGl0eVtdID0gW107XG4gICAgcHJpdmF0ZSBuYW1lczogQXJyYXk8c3RyaW5nPjtcbiAgICBwcml2YXRlIHNjZW5lOiBTY2VuZTtcbiAgICBwcml2YXRlIHRhcmdldDogRXZlbnRUYXJnZXQ7XG4gICAgcHJpdmF0ZSB1dWlkOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfZmlsdGVyOiBBUm5mdEZpbHRlcjtcbiAgICBwcml2YXRlIF9vZWY6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBUaGUgTkZUYWRkVEpTIGNvbnN0dWN0b3IsIHlvdSBuZWVkIHRvIHBhc3MgdGhlIHV1aWQgZnJvbSB0aGUgQVJuZnQgaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIHV1aWQgdGhlIHV1aWQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodXVpZDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc2NlbmUgPSBTY2VuZVJlbmRlcmVyVEpTLmdldEdsb2JhbFNjZW5lKCk7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gd2luZG93IHx8IGdsb2JhbDtcbiAgICAgICAgdGhpcy51dWlkID0gdXVpZDtcbiAgICAgICAgdGhpcy5uYW1lcyA9IFtdO1xuICAgICAgICB0aGlzLl9maWx0ZXIgPSBuZXcgQVJuZnRGaWx0ZXIoKTtcbiAgICAgICAgdGhpcy5fb2VmID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGFkZCBmdW5jdGlvbiB3aWxsIGFkZCBhIG1lc2ggdG8gdGhlIFJlbmRlcmVyIHJvb3QuIFlvdSBuZWVkIHRvIGFzc29jaWF0ZSBhIG5hbWUgb2YgdGhlIEVudGl0eS5cbiAgICAgKiBAcGFyYW0gbWVzaCBUaGUgbWVzaCB0byBhZGRcbiAgICAgKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgRW50aXR5IGFzc29jaWF0ZWQuXG4gICAgICogQHBhcmFtIG9ialZpc2liaWxpdHkgc2V0IHRydWUgb3IgZmFsc2UgaWYgdGhlIG1lc2ggd2xsIHN0YXkgdmlzaWJsZSBvciBub3QgYWZ0ZXIgdHJhY2tpbmcuXG4gICAgICovXG4gICAgcHVibGljIGFkZChtZXNoOiBPYmplY3QzRCwgbmFtZTogc3RyaW5nLCBvYmpWaXNpYmlsaXR5OiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJnZXRORlREYXRhLVwiICsgdGhpcy51dWlkICsgXCItXCIgKyBuYW1lLCAoZXY6IGFueSkgPT4ge1xuICAgICAgICAgICAgdmFyIG1zZyA9IGV2LmRldGFpbDtcbiAgICAgICAgICAgIG1lc2gucG9zaXRpb24ueSA9ICgobXNnLmhlaWdodCAvIG1zZy5kcGkpICogMi41NCAqIDEwKSAvIDIuMDtcbiAgICAgICAgICAgIG1lc2gucG9zaXRpb24ueCA9ICgobXNnLndpZHRoIC8gbXNnLmRwaSkgKiAyLjU0ICogMTApIC8gMi4wO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgcm9vdCA9IG5ldyBPYmplY3QzRCgpO1xuICAgICAgICByb290Lm5hbWUgPSBcInJvb3QtXCIgKyBuYW1lO1xuICAgICAgICB0aGlzLnNjZW5lLmFkZChyb290KTtcbiAgICAgICAgcm9vdC5hZGQobWVzaCk7XG4gICAgICAgIHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJnZXRNYXRyaXhHTF9SSC1cIiArIHRoaXMudXVpZCArIFwiLVwiICsgbmFtZSwgKGV2OiBhbnkpID0+IHtcbiAgICAgICAgICAgIHJvb3QudmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICBtZXNoLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX29lZiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGxldCBmaWx0ZXIgPSBbbmV3IFZlY3RvcjMoMCwgMCwgMCksIG5ldyBWZWN0b3IzKDAsIDAsIDApLCBuZXcgVmVjdG9yMygwLCAwLCAwKV07XG4gICAgICAgICAgICAgICAgZmlsdGVyID0gdGhpcy5fZmlsdGVyLnVwZGF0ZShldi5kZXRhaWwubWF0cml4R0xfUkgpO1xuICAgICAgICAgICAgICAgIHJvb3QucG9zaXRpb24uc2V0WChmaWx0ZXJbMF0ueCk7XG4gICAgICAgICAgICAgICAgcm9vdC5wb3NpdGlvbi5zZXRZKGZpbHRlclswXS55KTtcbiAgICAgICAgICAgICAgICByb290LnBvc2l0aW9uLnNldFooZmlsdGVyWzBdLnopO1xuICAgICAgICAgICAgICAgIHJvb3Qucm90YXRpb24uc2V0RnJvbVZlY3RvcjMoZmlsdGVyWzFdKTtcbiAgICAgICAgICAgICAgICByb290LnNjYWxlLnNldFgoZmlsdGVyWzJdLngpO1xuICAgICAgICAgICAgICAgIHJvb3Quc2NhbGUuc2V0WShmaWx0ZXJbMl0ueSk7XG4gICAgICAgICAgICAgICAgcm9vdC5zY2FsZS5zZXRaKGZpbHRlclsyXS56KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcm9vdC5tYXRyaXhBdXRvVXBkYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0cml4ID0gVXRpbHMuaW50ZXJwb2xhdGUoZXYuZGV0YWlsLm1hdHJpeEdMX1JIKTtcbiAgICAgICAgICAgICAgICBVdGlscy5zZXRNYXRyaXgocm9vdC5tYXRyaXgsIG1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibmZ0VHJhY2tpbmdMb3N0LVwiICsgdGhpcy51dWlkICsgXCItXCIgKyBuYW1lLCAoZXY6IGFueSkgPT4ge1xuICAgICAgICAgICAgcm9vdC52aXNpYmxlID0gb2JqVmlzaWJpbGl0eTtcbiAgICAgICAgICAgIG1lc2gudmlzaWJsZSA9IG9ialZpc2liaWxpdHk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWVzLnB1c2gobmFtZSk7XG4gICAgICAgIHRoaXMuZW50aXRpZXMucHVzaCh7IG5hbWUgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGFkZE1vZGVsIGZ1bmN0aW9uIHdpbGwgYWRkIGEgbW9kZWwgdG8gdGhlIFJlbmRlcmVyIHJvb3QuIFlvdSBuZWVkIHRvIGFzc29jaWF0ZSBhIG5hbWUgb2YgdGhlIEVudGl0eS5cbiAgICAgKiBAcGFyYW0gdXJsIHVybCBvZiB0aGUgbW9kZWwuXG4gICAgICogQHBhcmFtIG5hbWUgdGhlIG5hbWUgb2YgdGhlIEVudGl0eSBhc3NvY2lhdGVkLlxuICAgICAqIEBwYXJhbSBzY2FsZSBzY2FsZSBvZiB0aGUgbW9kZWwuXG4gICAgICogQHBhcmFtIG9ialZpc2liaWxpdHkgc2V0IHRydWUgb3IgZmFsc2UgaWYgdGhlIG1lc2ggd2xsIHN0YXkgdmlzaWJsZSBvciBub3QgYWZ0ZXIgdHJhY2tpbmcuXG4gICAgICovXG4gICAgcHVibGljIGFkZE1vZGVsKHVybDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIHNjYWxlOiBudW1iZXIsIG9ialZpc2liaWxpdHk6IGJvb2xlYW4pIHtcbiAgICAgICAgY29uc3Qgcm9vdCA9IG5ldyBPYmplY3QzRCgpO1xuICAgICAgICByb290Lm5hbWUgPSBcInJvb3QtXCIgKyBuYW1lO1xuICAgICAgICB0aGlzLnNjZW5lLmFkZChyb290KTtcbiAgICAgICAgbGV0IG1vZGVsOiBhbnk7XG4gICAgICAgIC8qIExvYWQgTW9kZWwgKi9cbiAgICAgICAgY29uc3QgdGhyZWVHTFRGTG9hZGVyID0gbmV3IEdMVEZMb2FkZXIoKTtcbiAgICAgICAgdGhyZWVHTFRGTG9hZGVyLmxvYWQodXJsLCAoZ2x0ZikgPT4ge1xuICAgICAgICAgICAgbW9kZWwgPSBnbHRmLnNjZW5lO1xuICAgICAgICAgICAgbW9kZWwuc2NhbGUuc2V0KHNjYWxlLCBzY2FsZSwgc2NhbGUpO1xuICAgICAgICAgICAgbW9kZWwucm90YXRpb24ueCA9IE1hdGguUEkgLyAyO1xuICAgICAgICAgICAgdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImdldE5GVERhdGEtXCIgKyB0aGlzLnV1aWQgKyBcIi1cIiArIG5hbWUsIChldjogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIG1zZyA9IGV2LmRldGFpbDtcbiAgICAgICAgICAgICAgICBtb2RlbC5wb3NpdGlvbi55ID0gKChtc2cuaGVpZ2h0IC8gbXNnLmRwaSkgKiAyLjU0ICogMTApIC8gMi4wO1xuICAgICAgICAgICAgICAgIG1vZGVsLnBvc2l0aW9uLnggPSAoKG1zZy53aWR0aCAvIG1zZy5kcGkpICogMi41NCAqIDEwKSAvIDIuMDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcm9vdC5hZGQobW9kZWwpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImdldE1hdHJpeEdMX1JILVwiICsgdGhpcy51dWlkICsgXCItXCIgKyBuYW1lLCAoZXY6IGFueSkgPT4ge1xuICAgICAgICAgICAgcm9vdC52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIG1vZGVsLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX29lZiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGxldCBmaWx0ZXIgPSBbbmV3IFZlY3RvcjMoMCwgMCwgMCksIG5ldyBWZWN0b3IzKDAsIDAsIDApLCBuZXcgVmVjdG9yMygwLCAwLCAwKV07XG4gICAgICAgICAgICAgICAgZmlsdGVyID0gdGhpcy5fZmlsdGVyLnVwZGF0ZShldi5kZXRhaWwubWF0cml4R0xfUkgpO1xuICAgICAgICAgICAgICAgIHJvb3QucG9zaXRpb24uc2V0WChmaWx0ZXJbMF0ueCk7XG4gICAgICAgICAgICAgICAgcm9vdC5wb3NpdGlvbi5zZXRZKGZpbHRlclswXS55KTtcbiAgICAgICAgICAgICAgICByb290LnBvc2l0aW9uLnNldFooZmlsdGVyWzBdLnopO1xuICAgICAgICAgICAgICAgIHJvb3Qucm90YXRpb24uc2V0RnJvbVZlY3RvcjMoZmlsdGVyWzFdKTtcbiAgICAgICAgICAgICAgICByb290LnNjYWxlLnNldFgoZmlsdGVyWzJdLngpO1xuICAgICAgICAgICAgICAgIHJvb3Quc2NhbGUuc2V0WShmaWx0ZXJbMl0ueSk7XG4gICAgICAgICAgICAgICAgcm9vdC5zY2FsZS5zZXRaKGZpbHRlclsyXS56KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcm9vdC5tYXRyaXhBdXRvVXBkYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0cml4ID0gVXRpbHMuaW50ZXJwb2xhdGUoZXYuZGV0YWlsLm1hdHJpeEdMX1JIKTtcbiAgICAgICAgICAgICAgICBVdGlscy5zZXRNYXRyaXgocm9vdC5tYXRyaXgsIG1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibmZ0VHJhY2tpbmdMb3N0LVwiICsgdGhpcy51dWlkICsgXCItXCIgKyBuYW1lLCAoZXY6IGFueSkgPT4ge1xuICAgICAgICAgICAgcm9vdC52aXNpYmxlID0gb2JqVmlzaWJpbGl0eTtcbiAgICAgICAgICAgIG1vZGVsLnZpc2libGUgPSBvYmpWaXNpYmlsaXR5O1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lcy5wdXNoKG5hbWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBhZGRNb2RlbFdpdGhDYWxsYmFjayBmdW5jdGlvbiB3aWxsIGFkZCBhIG1vZGVsIHRvIHRoZSBSZW5kZXJlciByb290LiBZb3UgbmVlZCB0byBhc3NvY2lhdGUgYSBuYW1lIG9mIHRoZSBFbnRpdHkuXG4gICAgICogWW91IGNhbiBtb2RpZnkgdGhlIG1vZGVsIHJvdGF0aW9uLCBzY2FsZSBhbmQgb3RoZXIgcHJvcGVydGllcyB3aXRoIHRoZSBjYWxsYmFjay5cbiAgICAgKiBAcGFyYW0gdXJsIHVybCBvZiB0aGUgbW9kZWwuXG4gICAgICogQHBhcmFtIG5hbWUgdGhlIG5hbWUgb2YgdGhlIEVudGl0eSBhc3NvY2lhdGVkLlxuICAgICAqIEBwYXJhbSBjYWxsYmFjayBtb2RpZnkgdGhlIG1vZGVsIGluIHRoZSBjYWxsYmFjay5cbiAgICAgKiBAcGFyYW0gb2JqVmlzaWJpbGl0eSBzZXQgdHJ1ZSBvciBmYWxzZSBpZiB0aGUgbWVzaCB3bGwgc3RheSB2aXNpYmxlIG9yIG5vdCBhZnRlciB0cmFja2luZy5cbiAgICAgKi9cbiAgICBwdWJsaWMgYWRkTW9kZWxXaXRoQ2FsbGJhY2sodXJsOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgY2FsbGJhY2s6IChnbHRmOiBhbnkpID0+IHt9LCBvYmpWaXNpYmlsaXR5OiBib29sZWFuKSB7XG4gICAgICAgIGNvbnN0IHJvb3QgPSBuZXcgT2JqZWN0M0QoKTtcbiAgICAgICAgcm9vdC5uYW1lID0gXCJyb290LVwiICsgbmFtZTtcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQocm9vdCk7XG4gICAgICAgIGxldCBtb2RlbDogYW55O1xuICAgICAgICAvKiBMb2FkIE1vZGVsICovXG4gICAgICAgIGNvbnN0IHRocmVlR0xURkxvYWRlciA9IG5ldyBHTFRGTG9hZGVyKCk7XG4gICAgICAgIHRocmVlR0xURkxvYWRlci5sb2FkKHVybCwgKGdsdGYpID0+IHtcbiAgICAgICAgICAgIG1vZGVsID0gZ2x0Zi5zY2VuZTtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJnZXRORlREYXRhLVwiICsgdGhpcy51dWlkICsgXCItXCIgKyBuYW1lLCAoZXY6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBtc2cgPSBldi5kZXRhaWw7XG4gICAgICAgICAgICAgICAgbW9kZWwucG9zaXRpb24ueSA9ICgobXNnLmhlaWdodCAvIG1zZy5kcGkpICogMi41NCAqIDEwKSAvIDIuMDtcbiAgICAgICAgICAgICAgICBtb2RlbC5wb3NpdGlvbi54ID0gKChtc2cud2lkdGggLyBtc2cuZHBpKSAqIDIuNTQgKiAxMCkgLyAyLjA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhbGxiYWNrKGdsdGYpO1xuICAgICAgICAgICAgcm9vdC5hZGQobW9kZWwpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImdldE1hdHJpeEdMX1JILVwiICsgdGhpcy51dWlkICsgXCItXCIgKyBuYW1lLCAoZXY6IGFueSkgPT4ge1xuICAgICAgICAgICAgcm9vdC52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIG1vZGVsLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX29lZiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGxldCBmaWx0ZXIgPSBbbmV3IFZlY3RvcjMoMCwgMCwgMCksIG5ldyBWZWN0b3IzKDAsIDAsIDApLCBuZXcgVmVjdG9yMygwLCAwLCAwKV07XG4gICAgICAgICAgICAgICAgZmlsdGVyID0gdGhpcy5fZmlsdGVyLnVwZGF0ZShldi5kZXRhaWwubWF0cml4R0xfUkgpO1xuICAgICAgICAgICAgICAgIHJvb3QucG9zaXRpb24uc2V0WChmaWx0ZXJbMF0ueCk7XG4gICAgICAgICAgICAgICAgcm9vdC5wb3NpdGlvbi5zZXRZKGZpbHRlclswXS55KTtcbiAgICAgICAgICAgICAgICByb290LnBvc2l0aW9uLnNldFooZmlsdGVyWzBdLnopO1xuICAgICAgICAgICAgICAgIHJvb3Qucm90YXRpb24uc2V0RnJvbVZlY3RvcjMoZmlsdGVyWzFdKTtcbiAgICAgICAgICAgICAgICByb290LnNjYWxlLnNldFgoZmlsdGVyWzJdLngpO1xuICAgICAgICAgICAgICAgIHJvb3Quc2NhbGUuc2V0WShmaWx0ZXJbMl0ueSk7XG4gICAgICAgICAgICAgICAgcm9vdC5zY2FsZS5zZXRaKGZpbHRlclsyXS56KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcm9vdC5tYXRyaXhBdXRvVXBkYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0cml4ID0gVXRpbHMuaW50ZXJwb2xhdGUoZXYuZGV0YWlsLm1hdHJpeEdMX1JIKTtcbiAgICAgICAgICAgICAgICBVdGlscy5zZXRNYXRyaXgocm9vdC5tYXRyaXgsIG1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibmZ0VHJhY2tpbmdMb3N0LVwiICsgdGhpcy51dWlkICsgXCItXCIgKyBuYW1lLCAoZXY6IGFueSkgPT4ge1xuICAgICAgICAgICAgcm9vdC52aXNpYmxlID0gb2JqVmlzaWJpbGl0eTtcbiAgICAgICAgICAgIG1vZGVsLnZpc2libGUgPSBvYmpWaXNpYmlsaXR5O1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lcy5wdXNoKG5hbWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBhZGRJbWFnZSBmdW5jdGlvbiB3aWxsIGFkZCBhbiBpbWFnZSB0byB0aGUgUmVuZGVyZXIgcm9vdC4gWW91IG5lZWQgdG8gYXNzb2NpYXRlIGEgbmFtZSBvZiB0aGUgRW50aXR5LlxuICAgICAqIEBwYXJhbSBpbWFnZVVybCB1cmwgb2YgdGhlIGltYWdlLlxuICAgICAqIEBwYXJhbSBuYW1lIHRoZSBuYW1lIG9mIHRoZSBFbnRpdHkgYXNzb2NpYXRlZC5cbiAgICAgKiBAcGFyYW0gY29sb3IgY29sb3Igb2YgdGhlIGJhY2tncm91bmQgcGxhbmUuXG4gICAgICogQHBhcmFtIHNjYWxlIHNjYWxlIG9mIHRoZSBwbGFuZS5cbiAgICAgKiBAcGFyYW0gY29uZmlncyBzZWUgSVBsYW5lQ29uZmlnLlxuICAgICAqIEBwYXJhbSBvYmpWaXNpYmlsaXR5IHNldCB0cnVlIG9yIGZhbHNlIGlmIHRoZSBtZXNoIHdsbCBzdGF5IHZpc2libGUgb3Igbm90IGFmdGVyIHRyYWNraW5nLlxuICAgICAqL1xuICAgIHB1YmxpYyBhZGRJbWFnZShcbiAgICAgICAgaW1hZ2VVcmw6IHN0cmluZyxcbiAgICAgICAgbmFtZTogc3RyaW5nLFxuICAgICAgICBjb2xvcjogc3RyaW5nLFxuICAgICAgICBzY2FsZTogbnVtYmVyLFxuICAgICAgICBjb25maWdzOiBJUGxhbmVDb25maWcsXG4gICAgICAgIG9ialZpc2liaWxpdHk6IGJvb2xlYW5cbiAgICApIHtcbiAgICAgICAgY29uc3Qgcm9vdCA9IG5ldyBPYmplY3QzRCgpO1xuICAgICAgICByb290Lm5hbWUgPSBcInJvb3QtXCIgKyBuYW1lO1xuICAgICAgICB0aGlzLnNjZW5lLmFkZChyb290KTtcbiAgICAgICAgY29uc3QgcGxhbmVHZW9tID0gbmV3IFBsYW5lR2VvbWV0cnkoY29uZmlncy53LCBjb25maWdzLmgsIGNvbmZpZ3Mud3MsIGNvbmZpZ3MuaHMpO1xuICAgICAgICBjb25zdCB0ZXh0dXJlID0gbmV3IFRleHR1cmVMb2FkZXIoKS5sb2FkKGltYWdlVXJsKTtcbiAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBuZXcgTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBjb2xvcjogY29sb3IsIG1hcDogdGV4dHVyZSB9KTtcbiAgICAgICAgY29uc3QgcGxhbmUgPSBuZXcgTWVzaChwbGFuZUdlb20sIG1hdGVyaWFsKTtcbiAgICAgICAgcGxhbmUuc2NhbGUuc2V0KHNjYWxlLCBzY2FsZSwgc2NhbGUpO1xuICAgICAgICB0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwiZ2V0TkZURGF0YS1cIiArIHRoaXMudXVpZCArIFwiLVwiICsgbmFtZSwgKGV2OiBhbnkpID0+IHtcbiAgICAgICAgICAgIHZhciBtc2cgPSBldi5kZXRhaWw7XG4gICAgICAgICAgICBwbGFuZS5wb3NpdGlvbi55ID0gKChtc2cuaGVpZ2h0IC8gbXNnLmRwaSkgKiAyLjU0ICogMTApIC8gMi4wO1xuICAgICAgICAgICAgcGxhbmUucG9zaXRpb24ueCA9ICgobXNnLndpZHRoIC8gbXNnLmRwaSkgKiAyLjU0ICogMTApIC8gMi4wO1xuICAgICAgICB9KTtcbiAgICAgICAgcm9vdC5hZGQocGxhbmUpO1xuICAgICAgICB0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwiZ2V0TWF0cml4R0xfUkgtXCIgKyB0aGlzLnV1aWQgKyBcIi1cIiArIG5hbWUsIChldjogYW55KSA9PiB7XG4gICAgICAgICAgICByb290LnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgcGxhbmUudmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICBpZiAodGhpcy5fb2VmID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZpbHRlciA9IFtuZXcgVmVjdG9yMygwLCAwLCAwKSwgbmV3IFZlY3RvcjMoMCwgMCwgMCksIG5ldyBWZWN0b3IzKDAsIDAsIDApXTtcbiAgICAgICAgICAgICAgICBmaWx0ZXIgPSB0aGlzLl9maWx0ZXIudXBkYXRlKGV2LmRldGFpbC5tYXRyaXhHTF9SSCk7XG4gICAgICAgICAgICAgICAgcm9vdC5wb3NpdGlvbi5zZXRYKGZpbHRlclswXS54KTtcbiAgICAgICAgICAgICAgICByb290LnBvc2l0aW9uLnNldFkoZmlsdGVyWzBdLnkpO1xuICAgICAgICAgICAgICAgIHJvb3QucG9zaXRpb24uc2V0WihmaWx0ZXJbMF0ueik7XG4gICAgICAgICAgICAgICAgcm9vdC5yb3RhdGlvbi5zZXRGcm9tVmVjdG9yMyhmaWx0ZXJbMV0pO1xuICAgICAgICAgICAgICAgIHJvb3Quc2NhbGUuc2V0WChmaWx0ZXJbMl0ueCk7XG4gICAgICAgICAgICAgICAgcm9vdC5zY2FsZS5zZXRZKGZpbHRlclsyXS55KTtcbiAgICAgICAgICAgICAgICByb290LnNjYWxlLnNldFooZmlsdGVyWzJdLnopO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByb290Lm1hdHJpeEF1dG9VcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRyaXggPSBVdGlscy5pbnRlcnBvbGF0ZShldi5kZXRhaWwubWF0cml4R0xfUkgpO1xuICAgICAgICAgICAgICAgIFV0aWxzLnNldE1hdHJpeChyb290Lm1hdHJpeCwgbWF0cml4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJuZnRUcmFja2luZ0xvc3QtXCIgKyB0aGlzLnV1aWQgKyBcIi1cIiArIG5hbWUsIChldjogYW55KSA9PiB7XG4gICAgICAgICAgICByb290LnZpc2libGUgPSBvYmpWaXNpYmlsaXR5O1xuICAgICAgICAgICAgcGxhbmUudmlzaWJsZSA9IG9ialZpc2liaWxpdHk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWVzLnB1c2gobmFtZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGFkZFZpZGVvIGZ1bmN0aW9uIHdpbGwgYWRkIGEgdmlkZW8gdG8gdGhlIFJlbmRlcmVyIHJvb3QuIFlvdSBuZWVkIHRvIGFzc29jaWF0ZSBhIG5hbWUgb2YgdGhlIEVudGl0eS5cbiAgICAgKiBAcGFyYW0gaWQgdGhlIGlkIG9mIHRoZSBodG1sIHZpZGVvIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIG5hbWUgdGhlIG5hbWUgb2YgdGhlIEVudGl0eSBhc3NvY2lhdGVkLlxuICAgICAqIEBwYXJhbSBzY2FsZSBzY2FsZSBvZiB0aGUgcGxhbmUuXG4gICAgICogQHBhcmFtIGNvbmZpZ3Mgc2VlIElQbGFuZUNvbmZpZy5cbiAgICAgKiBAcGFyYW0gb2JqVmlzaWJpbGl0eSBzZXQgdHJ1ZSBvciBmYWxzZSBpZiB0aGUgbWVzaCB3bGwgc3RheSB2aXNpYmxlIG9yIG5vdCBhZnRlciB0cmFja2luZy5cbiAgICAgKi9cbiAgICBwdWJsaWMgYWRkVmlkZW8oaWQ6IHN0cmluZywgbmFtZTogc3RyaW5nLCBzY2FsZTogbnVtYmVyLCBjb25maWdzOiBJUGxhbmVDb25maWcsIG9ialZpc2liaWxpdHk6IGJvb2xlYW4pIHtcbiAgICAgICAgY29uc3Qgcm9vdCA9IG5ldyBPYmplY3QzRCgpO1xuICAgICAgICByb290Lm5hbWUgPSBcInJvb3QtXCIgKyBuYW1lO1xuICAgICAgICB0aGlzLnNjZW5lLmFkZChyb290KTtcbiAgICAgICAgY29uc3QgQVJWaWRlbzogSFRNTFZpZGVvRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSBhcyBIVE1MVmlkZW9FbGVtZW50O1xuICAgICAgICBjb25zdCB0ZXh0dXJlID0gbmV3IFZpZGVvVGV4dHVyZShBUlZpZGVvIGFzIEhUTUxWaWRlb0VsZW1lbnQpO1xuICAgICAgICBjb25zdCBtYXQgPSBuZXcgTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBjb2xvcjogMHhiYmJiZmYsIG1hcDogdGV4dHVyZSB9KTtcbiAgICAgICAgY29uc3QgcGxhbmVHZW9tID0gbmV3IFBsYW5lR2VvbWV0cnkoY29uZmlncy53LCBjb25maWdzLmgsIGNvbmZpZ3Mud3MsIGNvbmZpZ3MuaHMpO1xuICAgICAgICBjb25zdCBwbGFuZSA9IG5ldyBNZXNoKHBsYW5lR2VvbSwgbWF0KTtcbiAgICAgICAgcGxhbmUuc2NhbGUuc2V0KHNjYWxlLCBzY2FsZSwgc2NhbGUpO1xuICAgICAgICB0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwiZ2V0TkZURGF0YS1cIiArIHRoaXMudXVpZCArIFwiLVwiICsgbmFtZSwgKGV2OiBhbnkpID0+IHtcbiAgICAgICAgICAgIHZhciBtc2cgPSBldi5kZXRhaWw7XG4gICAgICAgICAgICBwbGFuZS5wb3NpdGlvbi55ID0gKChtc2cuaGVpZ2h0IC8gbXNnLmRwaSkgKiAyLjU0ICogMTApIC8gMi4wO1xuICAgICAgICAgICAgcGxhbmUucG9zaXRpb24ueCA9ICgobXNnLndpZHRoIC8gbXNnLmRwaSkgKiAyLjU0ICogMTApIC8gMi4wO1xuICAgICAgICB9KTtcbiAgICAgICAgcm9vdC5hZGQocGxhbmUpO1xuICAgICAgICB0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwiZ2V0TWF0cml4R0xfUkgtXCIgKyB0aGlzLnV1aWQgKyBcIi1cIiArIG5hbWUsIChldjogYW55KSA9PiB7XG4gICAgICAgICAgICBBUlZpZGVvLnBsYXkoKTtcbiAgICAgICAgICAgIHJvb3QudmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICBwbGFuZS52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9vZWYgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgZmlsdGVyID0gW25ldyBWZWN0b3IzKDAsIDAsIDApLCBuZXcgVmVjdG9yMygwLCAwLCAwKSwgbmV3IFZlY3RvcjMoMCwgMCwgMCldO1xuICAgICAgICAgICAgICAgIGZpbHRlciA9IHRoaXMuX2ZpbHRlci51cGRhdGUoZXYuZGV0YWlsLm1hdHJpeEdMX1JIKTtcbiAgICAgICAgICAgICAgICByb290LnBvc2l0aW9uLnNldFgoZmlsdGVyWzBdLngpO1xuICAgICAgICAgICAgICAgIHJvb3QucG9zaXRpb24uc2V0WShmaWx0ZXJbMF0ueSk7XG4gICAgICAgICAgICAgICAgcm9vdC5wb3NpdGlvbi5zZXRaKGZpbHRlclswXS56KTtcbiAgICAgICAgICAgICAgICByb290LnJvdGF0aW9uLnNldEZyb21WZWN0b3IzKGZpbHRlclsxXSk7XG4gICAgICAgICAgICAgICAgcm9vdC5zY2FsZS5zZXRYKGZpbHRlclsyXS54KTtcbiAgICAgICAgICAgICAgICByb290LnNjYWxlLnNldFkoZmlsdGVyWzJdLnkpO1xuICAgICAgICAgICAgICAgIHJvb3Quc2NhbGUuc2V0WihmaWx0ZXJbMl0ueik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJvb3QubWF0cml4QXV0b1VwZGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdHJpeCA9IFV0aWxzLmludGVycG9sYXRlKGV2LmRldGFpbC5tYXRyaXhHTF9SSCk7XG4gICAgICAgICAgICAgICAgVXRpbHMuc2V0TWF0cml4KHJvb3QubWF0cml4LCBtYXRyaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm5mdFRyYWNraW5nTG9zdC1cIiArIHRoaXMudXVpZCArIFwiLVwiICsgbmFtZSwgKGV2OiBhbnkpID0+IHtcbiAgICAgICAgICAgIHJvb3QudmlzaWJsZSA9IG9ialZpc2liaWxpdHk7XG4gICAgICAgICAgICBwbGFuZS52aXNpYmxlID0gb2JqVmlzaWJpbGl0eTtcbiAgICAgICAgICAgIEFSVmlkZW8ucGF1c2UoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZXMucHVzaChuYW1lKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBZb3UgY2FuIGdldCB0aGUgbmFtZXMgb2YgdGhlIGVudGl0aWVzIHVzZWQgaW4geW91ciBwcm9qZWN0LlxuICAgICAqIEByZXR1cm5zIHRoZSBuYW1lcyBvZiB0aGUgZW50aXRpZXNcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0TmFtZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSBvciBub3QgdGhlIE9uZUV1cm9GaWx0ZXIgcm91dGluZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IG9lZihlbmFibGU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5fb2VmID0gZW5hYmxlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIE9uZUV1cm9GaWx0ZXIgaXMgZW5hYmxlZCBvciBub3QuXG4gICAgICogQHJldHVybnMgKGJvb2xlYW4pIHRydWUgb3IgZmFsc2VcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IG9lZigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29lZjtcbiAgICB9XG59XG4iLCJpbXBvcnQgU2NlbmVSZW5kZXJlclRKUyBmcm9tIFwiLi9TY2VuZVJlbmRlcmVyVEpTXCI7XG5pbXBvcnQgTkZUYWRkVEpTIGZyb20gXCIuL21hcmtlcm1lZGlhL05GVGFkZFRKU1wiO1xuXG5leHBvcnQgZGVmYXVsdCB7IFNjZW5lUmVuZGVyZXJUSlMsIE5GVGFkZFRKUyB9O1xuIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsInJlcXVpcmUiLCJkZWZpbmUiLCJhbWQiLCJ0aGlzIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMzgxX18iLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiZyIsImdsb2JhbFRoaXMiLCJGdW5jdGlvbiIsImUiLCJ3aW5kb3ciLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl90eXBlb2YiLCJTeW1ib2wiLCJpdGVyYXRvciIsImNvbnN0cnVjdG9yIiwiX3RvUHJvcGVydHlLZXkiLCJhcmciLCJpbnB1dCIsImhpbnQiLCJwcmltIiwidG9QcmltaXRpdmUiLCJyZXMiLCJTdHJpbmciLCJfZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl9jcmVhdGVDbGFzcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9kZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiVXRpbHMiLCJ3b3JsZCIsInRyYWNrZWRNYXRyaXgiLCJkZWx0YSIsImludGVycG9sYXRlZCIsInRlc3QiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJtYXRyaXgiLCJhcnJheSIsImVsZW1lbnRzIiwic2V0Iiwic2xpY2UiLCJTY2VuZVJlbmRlcmVyVEpTIiwiY29uZmlnRGF0YSIsImNhbnZhc0RyYXciLCJ1dWlkIiwiY2FtZXJhQm9vbCIsImdsb2JhbCIsInJlbmRlcmVyIiwiVEhSRUUiLCJjYW52YXMiLCJjb250ZXh0IiwiYWxwaGEiLCJwcmVtdWx0aXBsaWVkQWxwaGEiLCJhbnRpYWxpYXMiLCJzdGVuY2lsIiwicHJlY2lzaW9uIiwiZGVwdGgiLCJsb2dhcml0aG1pY0RlcHRoQnVmZmVyIiwic2V0UGl4ZWxSYXRpbyIsImRldmljZVBpeGVsUmF0aW8iLCJzY2VuZSIsImdsb2JhbFNjZW5lIiwiY2FtZXJhIiwiZm92IiwicmF0aW8iLCJuZWFyIiwiZmFyIiwidmVyc2lvbiIsImNvbnNvbGUiLCJsb2ciLCJfdGhpcyIsIm1hdHJpeEF1dG9VcGRhdGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZXYiLCJzZXRNYXRyaXgiLCJwcm9qZWN0aW9uTWF0cml4IiwiZGV0YWlsIiwicHJvaiIsImFkZCIsImxpZ2h0IiwiX2V2Iiwic2V0U2l6ZSIsInN3Iiwic2giLCJzZXRJbml0UmVuZGVyZXJFdmVudCIsIkN1c3RvbUV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsInJlbmRlciIsInRvVHJpYW5nbGVzRHJhd01vZGUiLCJnZW9tZXRyeSIsImRyYXdNb2RlIiwiVHJpYW5nbGVzRHJhd01vZGUiLCJ3YXJuIiwiVHJpYW5nbGVGYW5EcmF3TW9kZSIsIlRyaWFuZ2xlU3RyaXBEcmF3TW9kZSIsImluZGV4IiwiZ2V0SW5kZXgiLCJpbmRpY2VzIiwicG9zaXRpb24iLCJnZXRBdHRyaWJ1dGUiLCJlcnJvciIsImNvdW50IiwicHVzaCIsInNldEluZGV4IiwibnVtYmVyT2ZUcmlhbmdsZXMiLCJuZXdJbmRpY2VzIiwiZ2V0WCIsIm5ld0dlb21ldHJ5IiwiY2xvbmUiLCJjbGVhckdyb3VwcyIsIkdMVEZMb2FkZXIiLCJMb2FkZXIiLCJtYW5hZ2VyIiwic3VwZXIiLCJkcmFjb0xvYWRlciIsImt0eDJMb2FkZXIiLCJtZXNob3B0RGVjb2RlciIsInBsdWdpbkNhbGxiYWNrcyIsInJlZ2lzdGVyIiwicGFyc2VyIiwiR0xURk1hdGVyaWFsc0NsZWFyY29hdEV4dGVuc2lvbiIsIkdMVEZUZXh0dXJlQmFzaXNVRXh0ZW5zaW9uIiwiR0xURlRleHR1cmVXZWJQRXh0ZW5zaW9uIiwiR0xURk1hdGVyaWFsc1NoZWVuRXh0ZW5zaW9uIiwiR0xURk1hdGVyaWFsc1RyYW5zbWlzc2lvbkV4dGVuc2lvbiIsIkdMVEZNYXRlcmlhbHNWb2x1bWVFeHRlbnNpb24iLCJHTFRGTWF0ZXJpYWxzSW9yRXh0ZW5zaW9uIiwiR0xURk1hdGVyaWFsc0VtaXNzaXZlU3RyZW5ndGhFeHRlbnNpb24iLCJHTFRGTWF0ZXJpYWxzU3BlY3VsYXJFeHRlbnNpb24iLCJHTFRGTWF0ZXJpYWxzSXJpZGVzY2VuY2VFeHRlbnNpb24iLCJHTFRGTGlnaHRzRXh0ZW5zaW9uIiwiR0xURk1lc2hvcHRDb21wcmVzc2lvbiIsIkdMVEZNZXNoR3B1SW5zdGFuY2luZyIsImxvYWQiLCJ1cmwiLCJvbkxvYWQiLCJvblByb2dyZXNzIiwib25FcnJvciIsInNjb3BlIiwicmVzb3VyY2VQYXRoIiwicGF0aCIsIkxvYWRlclV0aWxzIiwiaXRlbVN0YXJ0IiwiX29uRXJyb3IiLCJpdGVtRXJyb3IiLCJpdGVtRW5kIiwibG9hZGVyIiwiRmlsZUxvYWRlciIsInNldFBhdGgiLCJzZXRSZXNwb25zZVR5cGUiLCJzZXRSZXF1ZXN0SGVhZGVyIiwicmVxdWVzdEhlYWRlciIsInNldFdpdGhDcmVkZW50aWFscyIsIndpdGhDcmVkZW50aWFscyIsImRhdGEiLCJwYXJzZSIsImdsdGYiLCJzZXREUkFDT0xvYWRlciIsInNldEREU0xvYWRlciIsIkVycm9yIiwic2V0S1RYMkxvYWRlciIsInNldE1lc2hvcHREZWNvZGVyIiwiY2FsbGJhY2siLCJpbmRleE9mIiwidW5yZWdpc3RlciIsInNwbGljZSIsImpzb24iLCJleHRlbnNpb25zIiwicGx1Z2lucyIsInRleHREZWNvZGVyIiwiVGV4dERlY29kZXIiLCJKU09OIiwiQXJyYXlCdWZmZXIiLCJkZWNvZGUiLCJVaW50OEFycmF5IiwiQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTUFHSUMiLCJFWFRFTlNJT05TIiwiS0hSX0JJTkFSWV9HTFRGIiwiR0xURkJpbmFyeUV4dGVuc2lvbiIsImNvbnRlbnQiLCJhc3NldCIsIkdMVEZQYXJzZXIiLCJjcm9zc09yaWdpbiIsImZpbGVMb2FkZXIiLCJwbHVnaW4iLCJuYW1lIiwiZXh0ZW5zaW9uc1VzZWQiLCJleHRlbnNpb25OYW1lIiwiZXh0ZW5zaW9uc1JlcXVpcmVkIiwiS0hSX01BVEVSSUFMU19VTkxJVCIsIkdMVEZNYXRlcmlhbHNVbmxpdEV4dGVuc2lvbiIsIktIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OIiwiR0xURkRyYWNvTWVzaENvbXByZXNzaW9uRXh0ZW5zaW9uIiwiS0hSX1RFWFRVUkVfVFJBTlNGT1JNIiwiR0xURlRleHR1cmVUcmFuc2Zvcm1FeHRlbnNpb24iLCJLSFJfTUVTSF9RVUFOVElaQVRJT04iLCJHTFRGTWVzaFF1YW50aXphdGlvbkV4dGVuc2lvbiIsInNldEV4dGVuc2lvbnMiLCJzZXRQbHVnaW5zIiwicGFyc2VBc3luYyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiR0xURlJlZ2lzdHJ5Iiwib2JqZWN0cyIsIm9iamVjdCIsInJlbW92ZSIsInJlbW92ZUFsbCIsIktIUl9MSUdIVFNfUFVOQ1RVQUwiLCJLSFJfTUFURVJJQUxTX0NMRUFSQ09BVCIsIktIUl9NQVRFUklBTFNfSU9SIiwiS0hSX01BVEVSSUFMU19TSEVFTiIsIktIUl9NQVRFUklBTFNfU1BFQ1VMQVIiLCJLSFJfTUFURVJJQUxTX1RSQU5TTUlTU0lPTiIsIktIUl9NQVRFUklBTFNfSVJJREVTQ0VOQ0UiLCJLSFJfTUFURVJJQUxTX1ZPTFVNRSIsIktIUl9URVhUVVJFX0JBU0lTVSIsIktIUl9NQVRFUklBTFNfRU1JU1NJVkVfU1RSRU5HVEgiLCJFWFRfVEVYVFVSRV9XRUJQIiwiRVhUX01FU0hPUFRfQ09NUFJFU1NJT04iLCJFWFRfTUVTSF9HUFVfSU5TVEFOQ0lORyIsImNhY2hlIiwicmVmcyIsInVzZXMiLCJfbWFya0RlZnMiLCJub2RlRGVmcyIsIm5vZGVzIiwibm9kZUluZGV4Iiwibm9kZUxlbmd0aCIsIm5vZGVEZWYiLCJfYWRkTm9kZVJlZiIsIl9sb2FkTGlnaHQiLCJsaWdodEluZGV4IiwiY2FjaGVLZXkiLCJkZXBlbmRlbmN5IiwibGlnaHREZWYiLCJsaWdodHMiLCJsaWdodE5vZGUiLCJjb2xvciIsIkNvbG9yIiwiZnJvbUFycmF5IiwicmFuZ2UiLCJ0eXBlIiwiRGlyZWN0aW9uYWxMaWdodCIsIlBvaW50TGlnaHQiLCJkaXN0YW5jZSIsIlNwb3RMaWdodCIsInNwb3QiLCJpbm5lckNvbmVBbmdsZSIsIm91dGVyQ29uZUFuZ2xlIiwiTWF0aCIsIlBJIiwiYW5nbGUiLCJwZW51bWJyYSIsImRlY2F5IiwiYXNzaWduRXh0cmFzVG9Vc2VyRGF0YSIsImludGVuc2l0eSIsImNyZWF0ZVVuaXF1ZU5hbWUiLCJnZXREZXBlbmRlbmN5IiwiY3JlYXRlTm9kZUF0dGFjaG1lbnQiLCJzZWxmIiwidGhlbiIsIl9nZXROb2RlUmVmIiwiZ2V0TWF0ZXJpYWxUeXBlIiwiTWVzaEJhc2ljTWF0ZXJpYWwiLCJleHRlbmRQYXJhbXMiLCJtYXRlcmlhbFBhcmFtcyIsIm1hdGVyaWFsRGVmIiwicGVuZGluZyIsIm9wYWNpdHkiLCJtZXRhbGxpY1JvdWdobmVzcyIsInBick1ldGFsbGljUm91Z2huZXNzIiwiQXJyYXkiLCJpc0FycmF5IiwiYmFzZUNvbG9yRmFjdG9yIiwiYmFzZUNvbG9yVGV4dHVyZSIsImFzc2lnblRleHR1cmUiLCJzUkdCRW5jb2RpbmciLCJhbGwiLCJleHRlbmRNYXRlcmlhbFBhcmFtcyIsIm1hdGVyaWFsSW5kZXgiLCJtYXRlcmlhbHMiLCJlbWlzc2l2ZVN0cmVuZ3RoIiwiZW1pc3NpdmVJbnRlbnNpdHkiLCJNZXNoUGh5c2ljYWxNYXRlcmlhbCIsImV4dGVuc2lvbiIsImNsZWFyY29hdEZhY3RvciIsImNsZWFyY29hdCIsImNsZWFyY29hdFRleHR1cmUiLCJjbGVhcmNvYXRSb3VnaG5lc3NGYWN0b3IiLCJjbGVhcmNvYXRSb3VnaG5lc3MiLCJjbGVhcmNvYXRSb3VnaG5lc3NUZXh0dXJlIiwiY2xlYXJjb2F0Tm9ybWFsVGV4dHVyZSIsInNjYWxlIiwiY2xlYXJjb2F0Tm9ybWFsU2NhbGUiLCJWZWN0b3IyIiwiaXJpZGVzY2VuY2VGYWN0b3IiLCJpcmlkZXNjZW5jZSIsImlyaWRlc2NlbmNlVGV4dHVyZSIsImlyaWRlc2NlbmNlSW9yIiwiaXJpZGVzY2VuY2VJT1IiLCJpcmlkZXNjZW5jZVRoaWNrbmVzc1JhbmdlIiwiaXJpZGVzY2VuY2VUaGlja25lc3NNaW5pbXVtIiwiaXJpZGVzY2VuY2VUaGlja25lc3NNYXhpbXVtIiwiaXJpZGVzY2VuY2VUaGlja25lc3NUZXh0dXJlIiwic2hlZW5Db2xvciIsInNoZWVuUm91Z2huZXNzIiwic2hlZW4iLCJzaGVlbkNvbG9yRmFjdG9yIiwic2hlZW5Sb3VnaG5lc3NGYWN0b3IiLCJzaGVlbkNvbG9yVGV4dHVyZSIsInNoZWVuUm91Z2huZXNzVGV4dHVyZSIsInRyYW5zbWlzc2lvbkZhY3RvciIsInRyYW5zbWlzc2lvbiIsInRyYW5zbWlzc2lvblRleHR1cmUiLCJ0aGlja25lc3MiLCJ0aGlja25lc3NGYWN0b3IiLCJ0aGlja25lc3NUZXh0dXJlIiwiYXR0ZW51YXRpb25EaXN0YW5jZSIsIkluZmluaXR5IiwiY29sb3JBcnJheSIsImF0dGVudWF0aW9uQ29sb3IiLCJpb3IiLCJzcGVjdWxhckludGVuc2l0eSIsInNwZWN1bGFyRmFjdG9yIiwic3BlY3VsYXJUZXh0dXJlIiwic3BlY3VsYXJDb2xvckZhY3RvciIsInNwZWN1bGFyQ29sb3IiLCJzcGVjdWxhckNvbG9yVGV4dHVyZSIsImxvYWRUZXh0dXJlIiwidGV4dHVyZUluZGV4IiwidGV4dHVyZURlZiIsInRleHR1cmVzIiwib3B0aW9ucyIsImxvYWRUZXh0dXJlSW1hZ2UiLCJzb3VyY2UiLCJpc1N1cHBvcnRlZCIsImltYWdlcyIsInRleHR1cmVMb2FkZXIiLCJ1cmkiLCJoYW5kbGVyIiwiZ2V0SGFuZGxlciIsImRldGVjdFN1cHBvcnQiLCJpbWFnZSIsIkltYWdlIiwic3JjIiwib25sb2FkIiwib25lcnJvciIsImhlaWdodCIsImxvYWRCdWZmZXJWaWV3IiwiYnVmZmVyVmlldyIsImJ1ZmZlclZpZXdzIiwiZXh0ZW5zaW9uRGVmIiwiYnVmZmVyIiwiZGVjb2RlciIsInN1cHBvcnRlZCIsImJ5dGVPZmZzZXQiLCJieXRlTGVuZ3RoIiwic3RyaWRlIiwiYnl0ZVN0cmlkZSIsImRlY29kZUdsdGZCdWZmZXJBc3luYyIsIm1vZGUiLCJmaWx0ZXIiLCJyZWFkeSIsInJlc3VsdCIsImRlY29kZUdsdGZCdWZmZXIiLCJjcmVhdGVOb2RlTWVzaCIsIm1lc2giLCJtZXNoRGVmIiwibWVzaGVzIiwicHJpbWl0aXZlIiwicHJpbWl0aXZlcyIsIldFQkdMX0NPTlNUQU5UUyIsIlRSSUFOR0xFUyIsIlRSSUFOR0xFX1NUUklQIiwiVFJJQU5HTEVfRkFOIiwiYXR0cmlidXRlc0RlZiIsImF0dHJpYnV0ZXMiLCJhY2Nlc3NvciIsInJlc3VsdHMiLCJub2RlT2JqZWN0IiwicG9wIiwiaXNHcm91cCIsImNoaWxkcmVuIiwiaW5zdGFuY2VkTWVzaGVzIiwibSIsIk1hdHJpeDQiLCJwIiwiVmVjdG9yMyIsInEiLCJRdWF0ZXJuaW9uIiwicyIsImluc3RhbmNlZE1lc2giLCJJbnN0YW5jZWRNZXNoIiwibWF0ZXJpYWwiLCJUUkFOU0xBVElPTiIsImZyb21CdWZmZXJBdHRyaWJ1dGUiLCJST1RBVElPTiIsIlNDQUxFIiwic2V0TWF0cml4QXQiLCJjb21wb3NlIiwiYXR0cmlidXRlTmFtZSIsInNldEF0dHJpYnV0ZSIsIk9iamVjdDNEIiwiZnJ1c3R1bUN1bGxlZCIsImFzc2lnbkZpbmFsTWF0ZXJpYWwiLCJjbGVhciIsImJvZHkiLCJoZWFkZXJWaWV3IiwiRGF0YVZpZXciLCJoZWFkZXIiLCJtYWdpYyIsImdldFVpbnQzMiIsImNodW5rQ29udGVudHNMZW5ndGgiLCJjaHVua1ZpZXciLCJjaHVua0luZGV4IiwiY2h1bmtMZW5ndGgiLCJjaHVua1R5cGUiLCJjb250ZW50QXJyYXkiLCJwcmVsb2FkIiwiZGVjb2RlUHJpbWl0aXZlIiwiYnVmZmVyVmlld0luZGV4IiwiZ2x0ZkF0dHJpYnV0ZU1hcCIsInRocmVlQXR0cmlidXRlTWFwIiwiYXR0cmlidXRlTm9ybWFsaXplZE1hcCIsImF0dHJpYnV0ZVR5cGVNYXAiLCJ0aHJlZUF0dHJpYnV0ZU5hbWUiLCJBVFRSSUJVVEVTIiwidG9Mb3dlckNhc2UiLCJhY2Nlc3NvckRlZiIsImFjY2Vzc29ycyIsImNvbXBvbmVudFR5cGUiLCJXRUJHTF9DT01QT05FTlRfVFlQRVMiLCJub3JtYWxpemVkIiwiZGVjb2RlRHJhY29GaWxlIiwiYXR0cmlidXRlIiwiZXh0ZW5kVGV4dHVyZSIsInRleHR1cmUiLCJ0cmFuc2Zvcm0iLCJ0ZXhDb29yZCIsIm9mZnNldCIsInJvdGF0aW9uIiwicmVwZWF0IiwibmVlZHNVcGRhdGUiLCJHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudCIsIkludGVycG9sYW50IiwicGFyYW1ldGVyUG9zaXRpb25zIiwic2FtcGxlVmFsdWVzIiwic2FtcGxlU2l6ZSIsInJlc3VsdEJ1ZmZlciIsImNvcHlTYW1wbGVWYWx1ZV8iLCJ2YWx1ZXMiLCJ2YWx1ZVNpemUiLCJpbnRlcnBvbGF0ZV8iLCJpMSIsInQwIiwidCIsInQxIiwic3RyaWRlMiIsInN0cmlkZTMiLCJ0ZCIsInBwIiwicHBwIiwib2Zmc2V0MSIsIm9mZnNldDAiLCJzMiIsInMzIiwiczAiLCJzMSIsInAwIiwibTAiLCJwMSIsIm0xIiwiX3EiLCJHTFRGQ3ViaWNTcGxpbmVRdWF0ZXJuaW9uSW50ZXJwb2xhbnQiLCJub3JtYWxpemUiLCJ0b0FycmF5IiwiRkxPQVQiLCJGTE9BVF9NQVQzIiwiRkxPQVRfTUFUNCIsIkZMT0FUX1ZFQzIiLCJGTE9BVF9WRUMzIiwiRkxPQVRfVkVDNCIsIkxJTkVBUiIsIlJFUEVBVCIsIlNBTVBMRVJfMkQiLCJQT0lOVFMiLCJMSU5FUyIsIkxJTkVfTE9PUCIsIkxJTkVfU1RSSVAiLCJVTlNJR05FRF9CWVRFIiwiVU5TSUdORURfU0hPUlQiLCJJbnQ4QXJyYXkiLCJJbnQxNkFycmF5IiwiVWludDE2QXJyYXkiLCJVaW50MzJBcnJheSIsIkZsb2F0MzJBcnJheSIsIldFQkdMX0ZJTFRFUlMiLCJOZWFyZXN0RmlsdGVyIiwiTGluZWFyRmlsdGVyIiwiTmVhcmVzdE1pcG1hcE5lYXJlc3RGaWx0ZXIiLCJMaW5lYXJNaXBtYXBOZWFyZXN0RmlsdGVyIiwiTmVhcmVzdE1pcG1hcExpbmVhckZpbHRlciIsIkxpbmVhck1pcG1hcExpbmVhckZpbHRlciIsIldFQkdMX1dSQVBQSU5HUyIsIkNsYW1wVG9FZGdlV3JhcHBpbmciLCJNaXJyb3JlZFJlcGVhdFdyYXBwaW5nIiwiUmVwZWF0V3JhcHBpbmciLCJXRUJHTF9UWVBFX1NJWkVTIiwiUE9TSVRJT04iLCJOT1JNQUwiLCJUQU5HRU5UIiwiVEVYQ09PUkRfMCIsIlRFWENPT1JEXzEiLCJDT0xPUl8wIiwiV0VJR0hUU18wIiwiSk9JTlRTXzAiLCJQQVRIX1BST1BFUlRJRVMiLCJ0cmFuc2xhdGlvbiIsIndlaWdodHMiLCJJTlRFUlBPTEFUSU9OIiwiQ1VCSUNTUExJTkUiLCJJbnRlcnBvbGF0ZUxpbmVhciIsIlNURVAiLCJJbnRlcnBvbGF0ZURpc2NyZXRlIiwiYWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhIiwia25vd25FeHRlbnNpb25zIiwib2JqZWN0RGVmIiwidXNlckRhdGEiLCJnbHRmRXh0ZW5zaW9ucyIsImdsdGZEZWYiLCJleHRyYXMiLCJhc3NpZ24iLCJ1cGRhdGVNb3JwaFRhcmdldHMiLCJpbCIsIm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyIsInRhcmdldE5hbWVzIiwibW9ycGhUYXJnZXREaWN0aW9uYXJ5IiwiY3JlYXRlUHJpbWl0aXZlS2V5IiwicHJpbWl0aXZlRGVmIiwiZHJhY29FeHRlbnNpb24iLCJnZW9tZXRyeUtleSIsImNyZWF0ZUF0dHJpYnV0ZXNLZXkiLCJhdHRyaWJ1dGVzS2V5Iiwia2V5cyIsInNvcnQiLCJnZXROb3JtYWxpemVkQ29tcG9uZW50U2NhbGUiLCJfaWRlbnRpdHlNYXRyaXgiLCJhc3NvY2lhdGlvbnMiLCJNYXAiLCJwcmltaXRpdmVDYWNoZSIsIm1lc2hDYWNoZSIsImNhbWVyYUNhY2hlIiwibGlnaHRDYWNoZSIsInNvdXJjZUNhY2hlIiwidGV4dHVyZUNhY2hlIiwibm9kZU5hbWVzVXNlZCIsImlzU2FmYXJpIiwiaXNGaXJlZm94IiwiZmlyZWZveFZlcnNpb24iLCJtYXRjaCIsImNyZWF0ZUltYWdlQml0bWFwIiwiVGV4dHVyZUxvYWRlciIsIkltYWdlQml0bWFwTG9hZGVyIiwic2V0Q3Jvc3NPcmlnaW4iLCJfaW52b2tlQWxsIiwiZXh0IiwiYmVmb3JlUm9vdCIsImdldERlcGVuZGVuY2llcyIsImRlcGVuZGVuY2llcyIsInNjZW5lcyIsImFuaW1hdGlvbnMiLCJjYW1lcmFzIiwiYWZ0ZXJSb290IiwiY2F0Y2giLCJza2luRGVmcyIsInNraW5zIiwibWVzaERlZnMiLCJza2luSW5kZXgiLCJza2luTGVuZ3RoIiwiam9pbnRzIiwiaXNCb25lIiwic2tpbiIsImlzU2tpbm5lZE1lc2giLCJyZWYiLCJ1cGRhdGVNYXBwaW5ncyIsIm9yaWdpbmFsIiwibWFwcGluZ3MiLCJjaGlsZCIsImVudHJpZXMiLCJfaW52b2tlT25lIiwiZnVuYyIsInVuc2hpZnQiLCJsb2FkU2NlbmUiLCJsb2FkTm9kZSIsImxvYWRNZXNoIiwibG9hZEFjY2Vzc29yIiwibG9hZEJ1ZmZlciIsImxvYWRNYXRlcmlhbCIsImxvYWRTa2luIiwibG9hZEFuaW1hdGlvbiIsImxvYWRDYW1lcmEiLCJkZWZzIiwibWFwIiwiZGVmIiwiYnVmZmVySW5kZXgiLCJidWZmZXJEZWYiLCJidWZmZXJzIiwiYnVmZmVyVmlld0RlZiIsImFjY2Vzc29ySW5kZXgiLCJzcGFyc2UiLCJpdGVtU2l6ZSIsIlR5cGVkQXJyYXkiLCJCdWZmZXJBdHRyaWJ1dGUiLCJwZW5kaW5nQnVmZmVyVmlld3MiLCJlbGVtZW50Qnl0ZXMiLCJCWVRFU19QRVJfRUxFTUVOVCIsIml0ZW1CeXRlcyIsImJ1ZmZlckF0dHJpYnV0ZSIsImliU2xpY2UiLCJmbG9vciIsImliQ2FjaGVLZXkiLCJpYiIsIkludGVybGVhdmVkQnVmZmVyIiwiSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUiLCJpdGVtU2l6ZUluZGljZXMiLCJTQ0FMQVIiLCJUeXBlZEFycmF5SW5kaWNlcyIsImJ5dGVPZmZzZXRJbmRpY2VzIiwiYnl0ZU9mZnNldFZhbHVlcyIsInNwYXJzZUluZGljZXMiLCJzcGFyc2VWYWx1ZXMiLCJzZXRYIiwic2V0WSIsInNldFoiLCJzZXRXIiwic291cmNlSW5kZXgiLCJzb3VyY2VEZWYiLCJzYW1wbGVyIiwicHJvbWlzZSIsImxvYWRJbWFnZVNvdXJjZSIsImZsaXBZIiwic2FtcGxlcnMiLCJtYWdGaWx0ZXIiLCJtaW5GaWx0ZXIiLCJ3cmFwUyIsIndyYXBUIiwiVVJMIiwid2Via2l0VVJMIiwic291cmNlVVJJIiwiaXNPYmplY3RVUkwiLCJibG9iIiwiQmxvYiIsIm1pbWVUeXBlIiwiY3JlYXRlT2JqZWN0VVJMIiwiaXNJbWFnZUJpdG1hcExvYWRlciIsImltYWdlQml0bWFwIiwiVGV4dHVyZSIsInJldm9rZU9iamVjdFVSTCIsInNlYXJjaCIsIm1hcE5hbWUiLCJtYXBEZWYiLCJlbmNvZGluZyIsImdsdGZSZWZlcmVuY2UiLCJ1c2VEZXJpdmF0aXZlVGFuZ2VudHMiLCJ0YW5nZW50IiwidXNlVmVydGV4Q29sb3JzIiwidXNlRmxhdFNoYWRpbmciLCJub3JtYWwiLCJpc1BvaW50cyIsInBvaW50c01hdGVyaWFsIiwiUG9pbnRzTWF0ZXJpYWwiLCJNYXRlcmlhbCIsImNvcHkiLCJzaXplQXR0ZW51YXRpb24iLCJpc0xpbmUiLCJsaW5lTWF0ZXJpYWwiLCJMaW5lQmFzaWNNYXRlcmlhbCIsImNhY2hlZE1hdGVyaWFsIiwidmVydGV4Q29sb3JzIiwiZmxhdFNoYWRpbmciLCJub3JtYWxTY2FsZSIsInkiLCJhb01hcCIsInV2MiIsInV2IiwiTWVzaFN0YW5kYXJkTWF0ZXJpYWwiLCJtYXRlcmlhbFR5cGUiLCJrbXVFeHRlbnNpb24iLCJtZXRhbG5lc3MiLCJtZXRhbGxpY0ZhY3RvciIsInJvdWdobmVzcyIsInJvdWdobmVzc0ZhY3RvciIsIm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSIsImRvdWJsZVNpZGVkIiwic2lkZSIsIkRvdWJsZVNpZGUiLCJhbHBoYU1vZGUiLCJ0cmFuc3BhcmVudCIsImRlcHRoV3JpdGUiLCJhbHBoYVRlc3QiLCJhbHBoYUN1dG9mZiIsIm5vcm1hbFRleHR1cmUiLCJvY2NsdXNpb25UZXh0dXJlIiwic3RyZW5ndGgiLCJhb01hcEludGVuc2l0eSIsImVtaXNzaXZlRmFjdG9yIiwiZW1pc3NpdmUiLCJlbWlzc2l2ZVRleHR1cmUiLCJvcmlnaW5hbE5hbWUiLCJzYW5pdGl6ZWROYW1lIiwiUHJvcGVydHlCaW5kaW5nIiwibG9hZEdlb21ldHJpZXMiLCJjcmVhdGVEcmFjb1ByaW1pdGl2ZSIsImFkZFByaW1pdGl2ZUF0dHJpYnV0ZXMiLCJjYWNoZWQiLCJnZW9tZXRyeVByb21pc2UiLCJCdWZmZXJHZW9tZXRyeSIsIm1lc2hJbmRleCIsImRlcHRoVGVzdCIsIkZyb250U2lkZSIsImdlb21ldHJpZXMiLCJTa2lubmVkTWVzaCIsIk1lc2giLCJza2luV2VpZ2h0Iiwibm9ybWFsaXplU2tpbldlaWdodHMiLCJMaW5lU2VnbWVudHMiLCJMaW5lIiwiTGluZUxvb3AiLCJQb2ludHMiLCJtb3JwaEF0dHJpYnV0ZXMiLCJncm91cCIsIkdyb3VwIiwiY2FtZXJhSW5kZXgiLCJjYW1lcmFEZWYiLCJwYXJhbXMiLCJQZXJzcGVjdGl2ZUNhbWVyYSIsIk1hdGhVdGlscyIsInlmb3YiLCJhc3BlY3RSYXRpbyIsInpuZWFyIiwiemZhciIsIk9ydGhvZ3JhcGhpY0NhbWVyYSIsInhtYWciLCJ5bWFnIiwic2tpbkRlZiIsImludmVyc2VCaW5kTWF0cmljZXMiLCJqb2ludE5vZGVzIiwiYm9uZXMiLCJib25lSW52ZXJzZXMiLCJqb2ludE5vZGUiLCJtYXQiLCJTa2VsZXRvbiIsImFuaW1hdGlvbkluZGV4IiwiYW5pbWF0aW9uRGVmIiwicGVuZGluZ05vZGVzIiwicGVuZGluZ0lucHV0QWNjZXNzb3JzIiwicGVuZGluZ091dHB1dEFjY2Vzc29ycyIsInBlbmRpbmdTYW1wbGVycyIsInBlbmRpbmdUYXJnZXRzIiwiY2hhbm5lbHMiLCJjaGFubmVsIiwibm9kZSIsInBhcmFtZXRlcnMiLCJvdXRwdXQiLCJpbnB1dEFjY2Vzc29ycyIsIm91dHB1dEFjY2Vzc29ycyIsInRhcmdldHMiLCJ0cmFja3MiLCJpbnB1dEFjY2Vzc29yIiwib3V0cHV0QWNjZXNzb3IiLCJUeXBlZEtleWZyYW1lVHJhY2siLCJ1cGRhdGVNYXRyaXgiLCJOdW1iZXJLZXlmcmFtZVRyYWNrIiwiUXVhdGVybmlvbktleWZyYW1lVHJhY2siLCJWZWN0b3JLZXlmcmFtZVRyYWNrIiwidGFyZ2V0TmFtZSIsImludGVycG9sYXRpb24iLCJ0cmF2ZXJzZSIsIm91dHB1dEFycmF5Iiwic2NhbGVkIiwiaiIsImpsIiwidHJhY2siLCJjcmVhdGVJbnRlcnBvbGFudCIsInRpbWVzIiwiZ2V0VmFsdWVTaXplIiwiaXNJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RHTFRGQ3ViaWNTcGxpbmUiLCJBbmltYXRpb25DbGlwIiwiaXNNZXNoIiwibm9kZU5hbWUiLCJvYmplY3RQZW5kaW5nIiwibWVzaFByb21pc2UiLCJmb3JFYWNoIiwiY2hpbGRQZW5kaW5nIiwiY2hpbGRyZW5EZWYiLCJza2VsZXRvblBlbmRpbmciLCJza2VsZXRvbiIsIkJvbmUiLCJhcHBseU1hdHJpeDQiLCJxdWF0ZXJuaW9uIiwiaGFzIiwiYmluZCIsInNjZW5lSW5kZXgiLCJzY2VuZURlZiIsIm5vZGVJZHMiLCJyZWR1Y2VkQXNzb2NpYXRpb25zIiwicmVkdWNlQXNzb2NpYXRpb25zIiwiYXNzaWduQXR0cmlidXRlQWNjZXNzb3IiLCJnbHRmQXR0cmlidXRlTmFtZSIsImJveCIsIkJveDMiLCJtaW4iLCJtYXgiLCJib3hTY2FsZSIsIm11bHRpcGx5U2NhbGFyIiwibWF4RGlzcGxhY2VtZW50IiwidmVjdG9yIiwiYWJzIiwiZXhwYW5kQnlWZWN0b3IiLCJib3VuZGluZ0JveCIsInNwaGVyZSIsIlNwaGVyZSIsImdldENlbnRlciIsImNlbnRlciIsInJhZGl1cyIsImRpc3RhbmNlVG8iLCJib3VuZGluZ1NwaGVyZSIsImNvbXB1dGVCb3VuZHMiLCJoYXNNb3JwaFBvc2l0aW9uIiwiaGFzTW9ycGhOb3JtYWwiLCJoYXNNb3JwaENvbG9yIiwicGVuZGluZ1Bvc2l0aW9uQWNjZXNzb3JzIiwicGVuZGluZ05vcm1hbEFjY2Vzc29ycyIsInBlbmRpbmdDb2xvckFjY2Vzc29ycyIsInBlbmRpbmdBY2Nlc3NvciIsIm1vcnBoUG9zaXRpb25zIiwibW9ycGhOb3JtYWxzIiwibW9ycGhDb2xvcnMiLCJtb3JwaFRhcmdldHNSZWxhdGl2ZSIsImFkZE1vcnBoVGFyZ2V0cyIsIkxvd1Bhc3NGaWx0ZXIiLCJzZXRBbHBoYSIsInRpbWVzdGFtcCIsIk9uZUV1cm9GaWx0ZXIiLCJmcmVxIiwibWluQ3V0T2ZmIiwiYXJndW1lbnRzIiwiYmV0YSIsImRDdXRPZmYiLCJ4IiwiZHgiLCJsYXN0dGltZSIsImN1cnJWYWx1ZSIsInByZXZWYWx1ZSIsImN1dE9mZiIsInRlIiwiX2ZyZXEiLCJfbWluY3V0b2ZmIiwiX2JldGEiLCJfZGN1dG9mZiIsInByZXZYIiwibGFzdFZhbHVlIiwiZWR4IiwiT25lRXVyb0ZpbHRlclZlY3RvcjMiLCJvbmVFdXJvRmlsdGVycyIsIlVwZGF0ZVBhcmFtcyIsIl92YWx1ZSIsIm91dCIsImZpbHRlcnMiLCJpZHgiLCJGaWx0ZXIiLCJhcnIiLCJEZWxheWFibGVTaWduYWxGaWx0ZXIiLCJ0aW1lT3V0IiwiX3RpbWVPdXQiLCJfaW5EZWxheSIsInRpY2siLCJ0aW1lIiwiRGF0ZSIsIm5vdyIsIl9wcmV2VGltZSIsIl90b3RhbFRpbWUiLCJBUm5mdEZpbHRlciIsImRlbGF5RW50ZXJDaGVjayIsImRlbGF5RXhpdENoZWNrIiwiX3Bvc2l0aW9uRmlsdGVyIiwiZmlsdGVyRnJlcXVlbmN5IiwiX3JvdGF0aW9uRmlsdGVyIiwicG9zIiwicm90YXRpb25WZWMiLCJ3b3JsZE1hdHJpeCIsImdldEFycmF5TWF0cml4IiwiX2hhc0ZvdW5kIiwiX2N1cnJlbnRUcmFuc2xhdGlvbiIsInNldEZyb21NYXRyaXhQb3NpdGlvbiIsIl9sYXN0VHJhbnNsYXRpb24iLCJfZGVsdGFBY2N1cmFjeSIsIl9mcmFtZURyb3BzIiwidmVjVHJhbnMiLCJmaWx0ZXJNaW5DdXRvZmYiLCJmaWx0ZXJCZXRhIiwiZmlsdGVyRGN1dG9mZiIsImV1bGVyUm90IiwiRXVsZXIiLCJkZWNvbXBvc2UiLCJlUm90Iiwic2V0RnJvbVF1YXRlcm5pb24iLCJldWxlclRvVmVjdG9yMyIsInNldEZyb21FdWxlciIsIk5GVGFkZFRKUyIsImdldEdsb2JhbFNjZW5lIiwibmFtZXMiLCJfZmlsdGVyIiwiX29lZiIsIm9ialZpc2liaWxpdHkiLCJtc2ciLCJkcGkiLCJ3aWR0aCIsInZpc2libGUiLCJ1cGRhdGUiLCJtYXRyaXhHTF9SSCIsInoiLCJzZXRGcm9tVmVjdG9yMyIsImludGVycG9sYXRlIiwiZW50aXRpZXMiLCJtb2RlbCIsIl90aGlzMiIsIl90aGlzMyIsImltYWdlVXJsIiwiY29uZmlncyIsIl90aGlzNCIsInBsYW5lR2VvbSIsIlBsYW5lR2VvbWV0cnkiLCJ3IiwiaCIsIndzIiwiaHMiLCJwbGFuZSIsImlkIiwiX3RoaXM1IiwiQVJWaWRlbyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJWaWRlb1RleHR1cmUiLCJwbGF5IiwicGF1c2UiLCJlbmFibGUiXSwic291cmNlUm9vdCI6IiJ9