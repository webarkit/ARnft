!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("three")):"function"==typeof define&&define.amd?define(["three"],t):"object"==typeof exports?exports.ARnftThreejs=t(require("three")):e.ARnftThreejs=t(e.THREE)}(this,(function(e){return(()=>{"use strict";var t={381:t=>{t.exports=e}},s={};function n(e){var r=s[e];if(void 0!==r)return r.exports;var i=s[e]={exports:{}};return t[e](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};return(()=>{function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,s,n){return s&&t(e.prototype,s),n&&t(e,n),e}n.d(r,{default:()=>Y});var i=n(381),a=function(){function t(){e(this,t)}return s(t,null,[{key:"interpolate",value:function(e){for(var t=0;t<16;t++)this.trackedMatrix.delta[t]=e[t]-this.trackedMatrix.interpolated[t],this.trackedMatrix.interpolated[t]=this.trackedMatrix.interpolated[t]+this.trackedMatrix.delta[t]/24;return this.trackedMatrix.interpolated}},{key:"isMobile",value:function(){return/Android|mobile|iPad|iPhone/i.test(navigator.userAgent)}},{key:"setMatrix",value:function(e,t){var s=[];for(var n in t)s[n]=t[n];"function"==typeof e.elements.set?e.elements.set(s):e.elements=[].slice.call(s)}}]),t}();a.trackedMatrix={delta:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],interpolated:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};var o=function(){function t(s,r,a,o){e(this,t),this.configData=s,this.uuid=a,this.target=window||n.g,this.renderer=new i.WebGLRenderer({canvas:r,context:s.renderer.context,alpha:s.renderer.alpha,premultipliedAlpha:s.renderer.premultipliedAlpha,antialias:s.renderer.antialias,stencil:s.renderer.stencil,precision:s.renderer.precision,depth:s.renderer.depth,logarithmicDepthBuffer:s.renderer.logarithmicDepthBuffer}),this.renderer.setPixelRatio(window.devicePixelRatio),this.scene=new i.Scene,t.globalScene=this.scene,this.camera=!0===o?new i.PerspectiveCamera(s.camera.fov,s.camera.ratio,s.camera.near,s.camera.far):new i.Camera,this.version="0.3.0",console.log("ARnftThreejs version: ",this.version)}return s(t,[{key:"initRenderer",value:function(){var e=this;this.camera.matrixAutoUpdate=!1,this.target.addEventListener("getProjectionMatrix",(function(t){a.setMatrix(e.camera.projectionMatrix,t.detail.proj)})),this.scene.add(this.camera);var t=new i.AmbientLight(16777215);this.scene.add(t),this.target.addEventListener("getWindowSize",(function(t){e.renderer.setSize(t.detail.sw,t.detail.sh)}));var s=new CustomEvent("onInitThreejsRendering",{detail:{renderer:this.renderer,scene:this.scene,camera:this.camera}});this.target.dispatchEvent(s)}},{key:"draw",value:function(){this.renderer.render(this.scene,this.camera)}},{key:"getRenderer",value:function(){return this.renderer}},{key:"getScene",value:function(){return this.scene}},{key:"getCamera",value:function(){return this.camera}},{key:"setRenderer",value:function(e){this.renderer=e}},{key:"setScene",value:function(e){this.scene=e}},{key:"setCamera",value:function(e){this.camera=e}}],[{key:"getGlobalScene",value:function(){return t.globalScene}}]),t}();class l extends i.Loader{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(e){return new p(e)})),this.register((function(e){return new v(e)})),this.register((function(e){return new T(e)})),this.register((function(e){return new m(e)})),this.register((function(e){return new f(e)})),this.register((function(e){return new g(e)})),this.register((function(e){return new x(e)})),this.register((function(e){return new h(e)})),this.register((function(e){return new M(e)}))}load(e,t,s,n){const r=this;let a;a=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:i.LoaderUtils.extractUrlBase(e),this.manager.itemStart(e);const o=function(t){n?n(t):console.error(t),r.manager.itemError(e),r.manager.itemEnd(e)},l=new i.FileLoader(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,(function(s){try{r.parse(s,a,(function(s){t(s),r.manager.itemEnd(e)}),o)}catch(e){o(e)}}),s,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,s,n){let r;const a={},o={};if("string"==typeof e)r=e;else if(i.LoaderUtils.decodeText(new Uint8Array(e,0,4))===R){try{a[u.KHR_BINARY_GLTF]=new y(e)}catch(e){return void(n&&n(e))}r=a[u.KHR_BINARY_GLTF].content}else r=i.LoaderUtils.decodeText(new Uint8Array(e));const l=JSON.parse(r);if(void 0===l.asset||l.asset.version[0]<2)return void(n&&n(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const c=new X(l,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let e=0;e<this.pluginCallbacks.length;e++){const t=this.pluginCallbacks[e](c);o[t.name]=t,a[t.name]=!0}if(l.extensionsUsed)for(let e=0;e<l.extensionsUsed.length;++e){const t=l.extensionsUsed[e],s=l.extensionsRequired||[];switch(t){case u.KHR_MATERIALS_UNLIT:a[t]=new d;break;case u.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:a[t]=new A;break;case u.KHR_DRACO_MESH_COMPRESSION:a[t]=new w(l,this.dracoLoader);break;case u.KHR_TEXTURE_TRANSFORM:a[t]=new S;break;case u.KHR_MESH_QUANTIZATION:a[t]=new E;break;default:s.indexOf(t)>=0&&void 0===o[t]&&console.warn('THREE.GLTFLoader: Unknown extension "'+t+'".')}}c.setExtensions(a),c.setPlugins(o),c.parse(s,n)}}function c(){let e={};return{get:function(t){return e[t]},add:function(t,s){e[t]=s},remove:function(t){delete e[t]},removeAll:function(){e={}}}}const u={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class h{constructor(e){this.parser=e,this.name=u.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let s=0,n=t.length;s<n;s++){const n=t[s];n.extensions&&n.extensions[this.name]&&void 0!==n.extensions[this.name].light&&e._addNodeRef(this.cache,n.extensions[this.name].light)}}_loadLight(e){const t=this.parser,s="light:"+e;let n=t.cache.get(s);if(n)return n;const r=t.json,a=((r.extensions&&r.extensions[this.name]||{}).lights||[])[e];let o;const l=new i.Color(16777215);void 0!==a.color&&l.fromArray(a.color);const c=void 0!==a.range?a.range:0;switch(a.type){case"directional":o=new i.DirectionalLight(l),o.target.position.set(0,0,-1),o.add(o.target);break;case"point":o=new i.PointLight(l),o.distance=c;break;case"spot":o=new i.SpotLight(l),o.distance=c,a.spot=a.spot||{},a.spot.innerConeAngle=void 0!==a.spot.innerConeAngle?a.spot.innerConeAngle:0,a.spot.outerConeAngle=void 0!==a.spot.outerConeAngle?a.spot.outerConeAngle:Math.PI/4,o.angle=a.spot.outerConeAngle,o.penumbra=1-a.spot.innerConeAngle/a.spot.outerConeAngle,o.target.position.set(0,0,-1),o.add(o.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+a.type)}return o.position.set(0,0,0),o.decay=2,void 0!==a.intensity&&(o.intensity=a.intensity),o.name=t.createUniqueName(a.name||"light_"+e),n=Promise.resolve(o),t.cache.add(s,n),n}createNodeAttachment(e){const t=this,s=this.parser,n=s.json.nodes[e],r=(n.extensions&&n.extensions[this.name]||{}).light;return void 0===r?null:this._loadLight(r).then((function(e){return s._getNodeRef(t.cache,r,e)}))}}class d{constructor(){this.name=u.KHR_MATERIALS_UNLIT}getMaterialType(){return i.MeshBasicMaterial}extendParams(e,t,s){const n=[];e.color=new i.Color(1,1,1),e.opacity=1;const r=t.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const t=r.baseColorFactor;e.color.fromArray(t),e.opacity=t[3]}void 0!==r.baseColorTexture&&n.push(s.assignTexture(e,"map",r.baseColorTexture))}return Promise.all(n)}}class p{constructor(e){this.parser=e,this.name=u.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const s=this.parser,n=s.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=[],a=n.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&r.push(s.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&r.push(s.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(r.push(s.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){const e=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new i.Vector2(e,e)}return Promise.all(r)}}class m{constructor(e){this.parser=e,this.name=u.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const s=this.parser,n=s.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=[],i=n.extensions[this.name];return void 0!==i.transmissionFactor&&(t.transmission=i.transmissionFactor),void 0!==i.transmissionTexture&&r.push(s.assignTexture(t,"transmissionMap",i.transmissionTexture)),Promise.all(r)}}class f{constructor(e){this.parser=e,this.name=u.KHR_MATERIALS_VOLUME}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const s=this.parser,n=s.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=[],a=n.extensions[this.name];t.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&r.push(s.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||0;const o=a.attenuationColor||[1,1,1];return t.attenuationTint=new i.Color(o[0],o[1],o[2]),Promise.all(r)}}class g{constructor(e){this.parser=e,this.name=u.KHR_MATERIALS_IOR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const n=s.extensions[this.name];return t.ior=void 0!==n.ior?n.ior:1.5,Promise.resolve()}}class x{constructor(e){this.parser=e,this.name=u.KHR_MATERIALS_SPECULAR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const s=this.parser,n=s.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=[],a=n.extensions[this.name];t.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&r.push(s.assignTexture(t,"specularIntensityMap",a.specularTexture));const o=a.specularColorFactor||[1,1,1];return t.specularTint=new i.Color(o[0],o[1],o[2]),void 0!==a.specularColorTexture&&r.push(s.assignTexture(t,"specularTintMap",a.specularColorTexture).then((function(e){e.encoding=i.sRGBEncoding}))),Promise.all(r)}}class v{constructor(e){this.parser=e,this.name=u.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,s=t.json,n=s.textures[e];if(!n.extensions||!n.extensions[this.name])return null;const r=n.extensions[this.name],i=s.images[r.source],a=t.options.ktx2Loader;if(!a){if(s.extensionsRequired&&s.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i,a)}}class T{constructor(e){this.parser=e,this.name=u.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,s=this.parser,n=s.json,r=n.textures[e];if(!r.extensions||!r.extensions[t])return null;const i=r.extensions[t],a=n.images[i.source];let o=s.textureLoader;if(a.uri){const e=s.options.manager.getHandler(a.uri);null!==e&&(o=e)}return this.detectSupport().then((function(r){if(r)return s.loadTextureImage(e,a,o);if(n.extensionsRequired&&n.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return s.loadTexture(e)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}class M{constructor(e){this.name=u.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,s=t.bufferViews[e];if(s.extensions&&s.extensions[this.name]){const e=s.extensions[this.name],n=this.parser.getDependency("buffer",e.buffer),r=this.parser.options.meshoptDecoder;if(!r||!r.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([n,r.ready]).then((function(t){const s=e.byteOffset||0,n=e.byteLength||0,i=e.count,a=e.byteStride,o=new ArrayBuffer(i*a),l=new Uint8Array(t[0],s,n);return r.decodeGltfBuffer(new Uint8Array(o),i,a,l,e.mode,e.filter),o}))}return null}}const R="glTF";class y{constructor(e){this.name=u.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,12);if(this.header={magic:i.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==R)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const s=this.header.length-12,n=new DataView(e,12);let r=0;for(;r<s;){const t=n.getUint32(r,!0);r+=4;const s=n.getUint32(r,!0);if(r+=4,1313821514===s){const s=new Uint8Array(e,12+r,t);this.content=i.LoaderUtils.decodeText(s)}else if(5130562===s){const s=12+r;this.body=e.slice(s,s+t)}r+=t}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class w{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=u.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const s=this.json,n=this.dracoLoader,r=e.extensions[this.name].bufferView,i=e.extensions[this.name].attributes,a={},o={},l={};for(const e in i){const t=H[e]||e.toLowerCase();a[t]=i[e]}for(const t in e.attributes){const n=H[t]||t.toLowerCase();if(void 0!==i[t]){const r=s.accessors[e.attributes[t]],i=I[r.componentType];l[n]=i,o[n]=!0===r.normalized}}return t.getDependency("bufferView",r).then((function(e){return new Promise((function(t){n.decodeDracoFile(e,(function(e){for(const t in e.attributes){const s=e.attributes[t],n=o[t];void 0!==n&&(s.normalized=n)}t(e)}),a,l)}))}))}}class S{constructor(){this.name=u.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class L extends i.MeshStandardMaterial{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),s=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),n=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),r=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),a=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),o={specular:{value:(new i.Color).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=o,this.onBeforeCompile=function(e){for(const t in o)e.uniforms[t]=o[t];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",s).replace("#include <roughnessmap_fragment>",n).replace("#include <metalnessmap_fragment>",r).replace("#include <lights_physical_fragment>",a)},Object.defineProperties(this,{specular:{get:function(){return o.specular.value},set:function(e){o.specular.value=e}},specularMap:{get:function(){return o.specularMap.value},set:function(e){o.specularMap.value=e,e?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return o.glossiness.value},set:function(e){o.glossiness.value=e}},glossinessMap:{get:function(){return o.glossinessMap.value},set:function(e){o.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class A{constructor(){this.name=u.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return L}extendParams(e,t,s){const n=t.extensions[this.name];e.color=new i.Color(1,1,1),e.opacity=1;const r=[];if(Array.isArray(n.diffuseFactor)){const t=n.diffuseFactor;e.color.fromArray(t),e.opacity=t[3]}if(void 0!==n.diffuseTexture&&r.push(s.assignTexture(e,"map",n.diffuseTexture)),e.emissive=new i.Color(0,0,0),e.glossiness=void 0!==n.glossinessFactor?n.glossinessFactor:1,e.specular=new i.Color(1,1,1),Array.isArray(n.specularFactor)&&e.specular.fromArray(n.specularFactor),void 0!==n.specularGlossinessTexture){const t=n.specularGlossinessTexture;r.push(s.assignTexture(e,"glossinessMap",t)),r.push(s.assignTexture(e,"specularMap",t))}return Promise.all(r)}createMaterial(e){const t=new L(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=i.TangentSpaceNormalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}class E{constructor(){this.name=u.KHR_MESH_QUANTIZATION}}class _ extends i.Interpolant{constructor(e,t,s,n){super(e,t,s,n)}copySampleValue_(e){const t=this.resultBuffer,s=this.sampleValues,n=this.valueSize,r=e*n*3+n;for(let e=0;e!==n;e++)t[e]=s[r+e];return t}}_.prototype.beforeStart_=_.prototype.copySampleValue_,_.prototype.afterEnd_=_.prototype.copySampleValue_,_.prototype.interpolate_=function(e,t,s,n){const r=this.resultBuffer,i=this.sampleValues,a=this.valueSize,o=2*a,l=3*a,c=n-t,u=(s-t)/c,h=u*u,d=h*u,p=e*l,m=p-l,f=-2*d+3*h,g=d-h,x=1-f,v=g-h+u;for(let e=0;e!==a;e++){const t=i[m+e+a],s=i[m+e+o]*c,n=i[p+e+a],l=i[p+e]*c;r[e]=x*t+v*s+f*n+g*l}return r};const b=new i.Quaternion;class P extends _{interpolate_(e,t,s,n){const r=super.interpolate_(e,t,s,n);return b.fromArray(r).normalize().toArray(r),r}}const I={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},C={9728:i.NearestFilter,9729:i.LinearFilter,9984:i.NearestMipmapNearestFilter,9985:i.LinearMipmapNearestFilter,9986:i.NearestMipmapLinearFilter,9987:i.LinearMipmapLinearFilter},O={33071:i.ClampToEdgeWrapping,33648:i.MirroredRepeatWrapping,10497:i.RepeatWrapping},N={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},H={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},F={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},k={CUBICSPLINE:void 0,LINEAR:i.InterpolateLinear,STEP:i.InterpolateDiscrete};function U(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}function D(e,t,s){for(const n in s.extensions)void 0===e[n]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[n]=s.extensions[n])}function G(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function j(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(let s=0,n=t.weights.length;s<n;s++)e.morphTargetInfluences[s]=t.weights[s];if(t.extras&&Array.isArray(t.extras.targetNames)){const s=t.extras.targetNames;if(e.morphTargetInfluences.length===s.length){e.morphTargetDictionary={};for(let t=0,n=s.length;t<n;t++)e.morphTargetDictionary[s[t]]=t}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function B(e){const t=e.extensions&&e.extensions[u.KHR_DRACO_MESH_COMPRESSION];let s;return s=t?"draco:"+t.bufferView+":"+t.indices+":"+K(t.attributes):e.indices+":"+K(e.attributes)+":"+e.mode,s}function K(e){let t="";const s=Object.keys(e).sort();for(let n=0,r=s.length;n<r;n++)t+=s[n]+":"+e[s[n]]+";";return t}function V(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class X{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new c,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},"undefined"!=typeof createImageBitmap&&!1===/Firefox/.test(navigator.userAgent)?this.textureLoader=new i.ImageBitmapLoader(this.options.manager):this.textureLoader=new i.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new i.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const s=this,n=this.json,r=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([s.getDependencies("scene"),s.getDependencies("animation"),s.getDependencies("camera")])})).then((function(t){const i={scene:t[0][n.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:n.asset,parser:s,userData:{}};D(r,i,n),G(i,n),Promise.all(s._invokeAll((function(e){return e.afterRoot&&e.afterRoot(i)}))).then((function(){e(i)}))})).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],s=this.json.meshes||[];for(let s=0,n=t.length;s<n;s++){const n=t[s].joints;for(let t=0,s=n.length;t<s;t++)e[n[t]].isBone=!0}for(let t=0,n=e.length;t<n;t++){const n=e[t];void 0!==n.mesh&&(this._addNodeRef(this.meshCache,n.mesh),void 0!==n.skin&&(s[n.mesh].isSkinnedMesh=!0)),void 0!==n.camera&&this._addNodeRef(this.cameraCache,n.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,s){if(e.refs[t]<=1)return s;const n=s.clone(),r=(e,t)=>{const s=this.associations.get(e);null!=s&&this.associations.set(t,s);for(const[s,n]of e.children.entries())r(n,t.children[s])};return r(s,n),n.name+="_instance_"+e.uses[t]++,n}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let s=0;s<t.length;s++){const n=e(t[s]);if(n)return n}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const s=[];for(let n=0;n<t.length;n++){const r=e(t[n]);r&&s.push(r)}return s}getDependency(e,t){const s=e+":"+t;let n=this.cache.get(s);if(!n){switch(e){case"scene":n=this.loadScene(t);break;case"node":n=this.loadNode(t);break;case"mesh":n=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":n=this.loadAccessor(t);break;case"bufferView":n=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":n=this.loadBuffer(t);break;case"material":n=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":n=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":n=this.loadSkin(t);break;case"animation":n=this.loadAnimation(t);break;case"camera":n=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(s,n)}return n}getDependencies(e){let t=this.cache.get(e);if(!t){const s=this,n=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(n.map((function(t,n){return s.getDependency(e,n)}))),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],s=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[u.KHR_BINARY_GLTF].body);const n=this.options;return new Promise((function(e,r){s.load(U(t.uri,n.path),e,void 0,(function(){r(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){const s=t.byteLength||0,n=t.byteOffset||0;return e.slice(n,n+s)}))}loadAccessor(e){const t=this,s=this.json,n=this.json.accessors[e];if(void 0===n.bufferView&&void 0===n.sparse)return Promise.resolve(null);const r=[];return void 0!==n.bufferView?r.push(this.getDependency("bufferView",n.bufferView)):r.push(null),void 0!==n.sparse&&(r.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(r).then((function(e){const r=e[0],a=N[n.type],o=I[n.componentType],l=o.BYTES_PER_ELEMENT,c=l*a,u=n.byteOffset||0,h=void 0!==n.bufferView?s.bufferViews[n.bufferView].byteStride:void 0,d=!0===n.normalized;let p,m;if(h&&h!==c){const e=Math.floor(u/h),s="InterleavedBuffer:"+n.bufferView+":"+n.componentType+":"+e+":"+n.count;let c=t.cache.get(s);c||(p=new o(r,e*h,n.count*h/l),c=new i.InterleavedBuffer(p,h/l),t.cache.add(s,c)),m=new i.InterleavedBufferAttribute(c,a,u%h/l,d)}else p=null===r?new o(n.count*a):new o(r,u,n.count*a),m=new i.BufferAttribute(p,a,d);if(void 0!==n.sparse){const t=N.SCALAR,s=I[n.sparse.indices.componentType],l=n.sparse.indices.byteOffset||0,c=n.sparse.values.byteOffset||0,u=new s(e[1],l,n.sparse.count*t),h=new o(e[2],c,n.sparse.count*a);null!==r&&(m=new i.BufferAttribute(m.array.slice(),m.itemSize,m.normalized));for(let e=0,t=u.length;e<t;e++){const t=u[e];if(m.setX(t,h[e*a]),a>=2&&m.setY(t,h[e*a+1]),a>=3&&m.setZ(t,h[e*a+2]),a>=4&&m.setW(t,h[e*a+3]),a>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return m}))}loadTexture(e){const t=this.json,s=this.options,n=t.textures[e],r=t.images[n.source];let i=this.textureLoader;if(r.uri){const e=s.manager.getHandler(r.uri);null!==e&&(i=e)}return this.loadTextureImage(e,r,i)}loadTextureImage(e,t,s){const n=this,r=this.json,a=this.options,o=r.textures[e],l=(t.uri||t.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=self.URL||self.webkitURL;let u=t.uri||"",h=!1;if(void 0!==t.bufferView)u=n.getDependency("bufferView",t.bufferView).then((function(e){h=!0;const s=new Blob([e],{type:t.mimeType});return u=c.createObjectURL(s),u}));else if(void 0===t.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(u).then((function(e){return new Promise((function(t,n){let r=t;!0===s.isImageBitmapLoader&&(r=function(e){const s=new i.Texture(e);s.needsUpdate=!0,t(s)}),s.load(U(e,a.path),r,void 0,n)}))})).then((function(t){!0===h&&c.revokeObjectURL(u),t.flipY=!1,o.name&&(t.name=o.name);const s=(r.samplers||{})[o.sampler]||{};return t.magFilter=C[s.magFilter]||i.LinearFilter,t.minFilter=C[s.minFilter]||i.LinearMipmapLinearFilter,t.wrapS=O[s.wrapS]||i.RepeatWrapping,t.wrapT=O[s.wrapT]||i.RepeatWrapping,n.associations.set(t,{textures:e}),t})).catch((function(){return console.error("THREE.GLTFLoader: Couldn't load texture",u),null}));return this.textureCache[l]=d,d}assignTexture(e,t,s){const n=this;return this.getDependency("texture",s.index).then((function(r){if(void 0===s.texCoord||0==s.texCoord||"aoMap"===t&&1==s.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+s.texCoord+" for texture "+t+" not yet supported."),n.extensions[u.KHR_TEXTURE_TRANSFORM]){const e=void 0!==s.extensions?s.extensions[u.KHR_TEXTURE_TRANSFORM]:void 0;if(e){const t=n.associations.get(r);r=n.extensions[u.KHR_TEXTURE_TRANSFORM].extendTexture(r,e),n.associations.set(r,t)}}return e[t]=r,r}))}assignFinalMaterial(e){const t=e.geometry;let s=e.material;const n=void 0===t.attributes.tangent,r=void 0!==t.attributes.color,a=void 0===t.attributes.normal;if(e.isPoints){const e="PointsMaterial:"+s.uuid;let t=this.cache.get(e);t||(t=new i.PointsMaterial,i.Material.prototype.copy.call(t,s),t.color.copy(s.color),t.map=s.map,t.sizeAttenuation=!1,this.cache.add(e,t)),s=t}else if(e.isLine){const e="LineBasicMaterial:"+s.uuid;let t=this.cache.get(e);t||(t=new i.LineBasicMaterial,i.Material.prototype.copy.call(t,s),t.color.copy(s.color),this.cache.add(e,t)),s=t}if(n||r||a){let e="ClonedMaterial:"+s.uuid+":";s.isGLTFSpecularGlossinessMaterial&&(e+="specular-glossiness:"),n&&(e+="derivative-tangents:"),r&&(e+="vertex-colors:"),a&&(e+="flat-shading:");let t=this.cache.get(e);t||(t=s.clone(),r&&(t.vertexColors=!0),a&&(t.flatShading=!0),n&&(t.normalScale&&(t.normalScale.y*=-1),t.clearcoatNormalScale&&(t.clearcoatNormalScale.y*=-1)),this.cache.add(e,t),this.associations.set(t,this.associations.get(s))),s=t}s.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=s}getMaterialType(){return i.MeshStandardMaterial}loadMaterial(e){const t=this,s=this.json,n=this.extensions,r=s.materials[e];let a;const o={},l=r.extensions||{},c=[];if(l[u.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const e=n[u.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];a=e.getMaterialType(),c.push(e.extendParams(o,r,t))}else if(l[u.KHR_MATERIALS_UNLIT]){const e=n[u.KHR_MATERIALS_UNLIT];a=e.getMaterialType(),c.push(e.extendParams(o,r,t))}else{const s=r.pbrMetallicRoughness||{};if(o.color=new i.Color(1,1,1),o.opacity=1,Array.isArray(s.baseColorFactor)){const e=s.baseColorFactor;o.color.fromArray(e),o.opacity=e[3]}void 0!==s.baseColorTexture&&c.push(t.assignTexture(o,"map",s.baseColorTexture)),o.metalness=void 0!==s.metallicFactor?s.metallicFactor:1,o.roughness=void 0!==s.roughnessFactor?s.roughnessFactor:1,void 0!==s.metallicRoughnessTexture&&(c.push(t.assignTexture(o,"metalnessMap",s.metallicRoughnessTexture)),c.push(t.assignTexture(o,"roughnessMap",s.metallicRoughnessTexture))),a=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),c.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,o)}))))}!0===r.doubleSided&&(o.side=i.DoubleSide);const h=r.alphaMode||"OPAQUE";if("BLEND"===h?(o.transparent=!0,o.depthWrite=!1):(o.format=i.RGBFormat,o.transparent=!1,"MASK"===h&&(o.alphaTest=void 0!==r.alphaCutoff?r.alphaCutoff:.5)),void 0!==r.normalTexture&&a!==i.MeshBasicMaterial&&(c.push(t.assignTexture(o,"normalMap",r.normalTexture)),o.normalScale=new i.Vector2(1,1),void 0!==r.normalTexture.scale)){const e=r.normalTexture.scale;o.normalScale.set(e,e)}return void 0!==r.occlusionTexture&&a!==i.MeshBasicMaterial&&(c.push(t.assignTexture(o,"aoMap",r.occlusionTexture)),void 0!==r.occlusionTexture.strength&&(o.aoMapIntensity=r.occlusionTexture.strength)),void 0!==r.emissiveFactor&&a!==i.MeshBasicMaterial&&(o.emissive=(new i.Color).fromArray(r.emissiveFactor)),void 0!==r.emissiveTexture&&a!==i.MeshBasicMaterial&&c.push(t.assignTexture(o,"emissiveMap",r.emissiveTexture)),Promise.all(c).then((function(){let s;return s=a===L?n[u.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(o):new a(o),r.name&&(s.name=r.name),s.map&&(s.map.encoding=i.sRGBEncoding),s.emissiveMap&&(s.emissiveMap.encoding=i.sRGBEncoding),G(s,r),t.associations.set(s,{materials:e}),r.extensions&&D(n,s,r),s}))}createUniqueName(e){const t=i.PropertyBinding.sanitizeNodeName(e||"");let s=t;for(let e=1;this.nodeNamesUsed[s];++e)s=t+"_"+e;return this.nodeNamesUsed[s]=!0,s}loadGeometries(e){const t=this,s=this.extensions,n=this.primitiveCache;function r(e){return s[u.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(s){return z(s,e,t)}))}const a=[];for(let s=0,o=e.length;s<o;s++){const o=e[s],l=B(o),c=n[l];if(c)a.push(c.promise);else{let e;e=o.extensions&&o.extensions[u.KHR_DRACO_MESH_COMPRESSION]?r(o):z(new i.BufferGeometry,o,t),n[l]={primitive:o,promise:e},a.push(e)}}return Promise.all(a)}loadMesh(e){const t=this,s=this.json,n=this.extensions,r=s.meshes[e],a=r.primitives,o=[];for(let e=0,t=a.length;e<t;e++){const t=void 0===a[e].material?(void 0===(l=this.cache).DefaultMaterial&&(l.DefaultMaterial=new i.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:i.FrontSide})),l.DefaultMaterial):this.getDependency("material",a[e].material);o.push(t)}var l;return o.push(t.loadGeometries(a)),Promise.all(o).then((function(s){const o=s.slice(0,s.length-1),l=s[s.length-1],c=[];for(let s=0,u=l.length;s<u;s++){const u=l[s],h=a[s];let d;const p=o[s];if(4===h.mode||5===h.mode||6===h.mode||void 0===h.mode)d=!0===r.isSkinnedMesh?new i.SkinnedMesh(u,p):new i.Mesh(u,p),!0!==d.isSkinnedMesh||d.geometry.attributes.skinWeight.normalized||d.normalizeSkinWeights(),5===h.mode?d.geometry=W(d.geometry,i.TriangleStripDrawMode):6===h.mode&&(d.geometry=W(d.geometry,i.TriangleFanDrawMode));else if(1===h.mode)d=new i.LineSegments(u,p);else if(3===h.mode)d=new i.Line(u,p);else if(2===h.mode)d=new i.LineLoop(u,p);else{if(0!==h.mode)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+h.mode);d=new i.Points(u,p)}Object.keys(d.geometry.morphAttributes).length>0&&j(d,r),d.name=t.createUniqueName(r.name||"mesh_"+e),G(d,r),h.extensions&&D(n,d,h),t.assignFinalMaterial(d),c.push(d)}for(let s=0,n=c.length;s<n;s++)t.associations.set(c[s],{meshes:e,primitives:s});if(1===c.length)return c[0];const u=new i.Group;t.associations.set(u,{meshes:e});for(let e=0,t=c.length;e<t;e++)u.add(c[e]);return u}))}loadCamera(e){let t;const s=this.json.cameras[e],n=s[s.type];if(n)return"perspective"===s.type?t=new i.PerspectiveCamera(i.MathUtils.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):"orthographic"===s.type&&(t=new i.OrthographicCamera(-n.xmag,n.xmag,n.ymag,-n.ymag,n.znear,n.zfar)),s.name&&(t.name=this.createUniqueName(s.name)),G(t,s),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){const t=this.json.skins[e],s={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(s):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return s.inverseBindMatrices=e,s}))}loadAnimation(e){const t=this.json.animations[e],s=[],n=[],r=[],a=[],o=[];for(let e=0,i=t.channels.length;e<i;e++){const i=t.channels[e],l=t.samplers[i.sampler],c=i.target,u=void 0!==c.node?c.node:c.id,h=void 0!==t.parameters?t.parameters[l.input]:l.input,d=void 0!==t.parameters?t.parameters[l.output]:l.output;s.push(this.getDependency("node",u)),n.push(this.getDependency("accessor",h)),r.push(this.getDependency("accessor",d)),a.push(l),o.push(c)}return Promise.all([Promise.all(s),Promise.all(n),Promise.all(r),Promise.all(a),Promise.all(o)]).then((function(s){const n=s[0],r=s[1],a=s[2],o=s[3],l=s[4],c=[];for(let e=0,t=n.length;e<t;e++){const t=n[e],s=r[e],u=a[e],h=o[e],d=l[e];if(void 0===t)continue;let p;switch(t.updateMatrix(),t.matrixAutoUpdate=!0,F[d.path]){case F.weights:p=i.NumberKeyframeTrack;break;case F.rotation:p=i.QuaternionKeyframeTrack;break;default:p=i.VectorKeyframeTrack}const m=t.name?t.name:t.uuid,f=void 0!==h.interpolation?k[h.interpolation]:i.InterpolateLinear,g=[];F[d.path]===F.weights?t.traverse((function(e){!0===e.isMesh&&e.morphTargetInfluences&&g.push(e.name?e.name:e.uuid)})):g.push(m);let x=u.array;if(u.normalized){const e=V(x.constructor),t=new Float32Array(x.length);for(let s=0,n=x.length;s<n;s++)t[s]=x[s]*e;x=t}for(let e=0,t=g.length;e<t;e++){const t=new p(g[e]+"."+F[d.path],s.array,x,f);"CUBICSPLINE"===h.interpolation&&(t.createInterpolant=function(e){return new(this instanceof i.QuaternionKeyframeTrack?P:_)(this.times,this.values,this.getValueSize()/3,e)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),c.push(t)}}const u=t.name?t.name:"animation_"+e;return new i.AnimationClip(u,void 0,c)}))}createNodeMesh(e){const t=this.json,s=this,n=t.nodes[e];return void 0===n.mesh?null:s.getDependency("mesh",n.mesh).then((function(e){const t=s._getNodeRef(s.meshCache,n.mesh,e);return void 0!==n.weights&&t.traverse((function(e){if(e.isMesh)for(let t=0,s=n.weights.length;t<s;t++)e.morphTargetInfluences[t]=n.weights[t]})),t}))}loadNode(e){const t=this.json,s=this.extensions,n=this,r=t.nodes[e],a=r.name?n.createUniqueName(r.name):"";return function(){const t=[],s=n._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return s&&t.push(s),void 0!==r.camera&&t.push(n.getDependency("camera",r.camera).then((function(e){return n._getNodeRef(n.cameraCache,r.camera,e)}))),n._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t)}().then((function(t){let o;if(o=!0===r.isBone?new i.Bone:t.length>1?new i.Group:1===t.length?t[0]:new i.Object3D,o!==t[0])for(let e=0,s=t.length;e<s;e++)o.add(t[e]);if(r.name&&(o.userData.name=r.name,o.name=a),G(o,r),r.extensions&&D(s,o,r),void 0!==r.matrix){const e=new i.Matrix4;e.fromArray(r.matrix),o.applyMatrix4(e)}else void 0!==r.translation&&o.position.fromArray(r.translation),void 0!==r.rotation&&o.quaternion.fromArray(r.rotation),void 0!==r.scale&&o.scale.fromArray(r.scale);return n.associations.has(o)||n.associations.set(o,{}),n.associations.get(o).nodes=e,o}))}loadScene(e){const t=this.json,s=this.extensions,n=this.json.scenes[e],r=this,a=new i.Group;n.name&&(a.name=r.createUniqueName(n.name)),G(a,n),n.extensions&&D(s,a,n);const o=n.nodes||[],l=[];for(let e=0,s=o.length;e<s;e++)l.push(q(o[e],a,t,r));return Promise.all(l).then((function(){return r.associations=(e=>{const t=new Map;for(const[e,s]of r.associations)(e instanceof i.Material||e instanceof i.Texture)&&t.set(e,s);return e.traverse((e=>{const s=r.associations.get(e);null!=s&&t.set(e,s)})),t})(a),a}))}}function q(e,t,s,n){const r=s.nodes[e];return n.getDependency("node",e).then((function(e){if(void 0===r.skin)return e;let t;return n.getDependency("skin",r.skin).then((function(e){t=e;const s=[];for(let e=0,r=t.joints.length;e<r;e++)s.push(n.getDependency("node",t.joints[e]));return Promise.all(s)})).then((function(s){return e.traverse((function(e){if(!e.isMesh)return;const n=[],r=[];for(let e=0,a=s.length;e<a;e++){const a=s[e];if(a){n.push(a);const s=new i.Matrix4;void 0!==t.inverseBindMatrices&&s.fromArray(t.inverseBindMatrices.array,16*e),r.push(s)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[e])}e.bind(new i.Skeleton(n,r),e.matrixWorld)})),e}))})).then((function(e){t.add(e);const i=[];if(r.children){const t=r.children;for(let r=0,a=t.length;r<a;r++){const a=t[r];i.push(q(a,e,s,n))}}return Promise.all(i)}))}function z(e,t,s){const n=t.attributes,r=[];function a(t,n){return s.getDependency("accessor",t).then((function(t){e.setAttribute(n,t)}))}for(const t in n){const s=H[t]||t.toLowerCase();s in e.attributes||r.push(a(n[t],s))}if(void 0!==t.indices&&!e.index){const n=s.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));r.push(n)}return G(e,t),function(e,t,s){const n=t.attributes,r=new i.Box3;if(void 0===n.POSITION)return;{const e=s.json.accessors[n.POSITION],t=e.min,a=e.max;if(void 0===t||void 0===a)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(r.set(new i.Vector3(t[0],t[1],t[2]),new i.Vector3(a[0],a[1],a[2])),e.normalized){const t=V(I[e.componentType]);r.min.multiplyScalar(t),r.max.multiplyScalar(t)}}const a=t.targets;if(void 0!==a){const e=new i.Vector3,t=new i.Vector3;for(let n=0,r=a.length;n<r;n++){const r=a[n];if(void 0!==r.POSITION){const n=s.json.accessors[r.POSITION],i=n.min,a=n.max;if(void 0!==i&&void 0!==a){if(t.setX(Math.max(Math.abs(i[0]),Math.abs(a[0]))),t.setY(Math.max(Math.abs(i[1]),Math.abs(a[1]))),t.setZ(Math.max(Math.abs(i[2]),Math.abs(a[2]))),n.normalized){const e=V(I[n.componentType]);t.multiplyScalar(e)}e.max(t)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(e)}e.boundingBox=r;const o=new i.Sphere;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,e.boundingSphere=o}(e,t,s),Promise.all(r).then((function(){return void 0!==t.targets?function(e,t,s){let n=!1,r=!1;for(let e=0,s=t.length;e<s;e++){const s=t[e];if(void 0!==s.POSITION&&(n=!0),void 0!==s.NORMAL&&(r=!0),n&&r)break}if(!n&&!r)return Promise.resolve(e);const i=[],a=[];for(let o=0,l=t.length;o<l;o++){const l=t[o];if(n){const t=void 0!==l.POSITION?s.getDependency("accessor",l.POSITION):e.attributes.position;i.push(t)}if(r){const t=void 0!==l.NORMAL?s.getDependency("accessor",l.NORMAL):e.attributes.normal;a.push(t)}}return Promise.all([Promise.all(i),Promise.all(a)]).then((function(t){const s=t[0],i=t[1];return n&&(e.morphAttributes.position=s),r&&(e.morphAttributes.normal=i),e.morphTargetsRelative=!0,e}))}(e,t.targets,s):e}))}function W(e,t){let s=e.getIndex();if(null===s){const t=[],n=e.getAttribute("position");if(void 0===n)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<n.count;e++)t.push(e);e.setIndex(t),s=e.getIndex()}const n=s.count-2,r=[];if(t===i.TriangleFanDrawMode)for(let e=1;e<=n;e++)r.push(s.getX(0)),r.push(s.getX(e)),r.push(s.getX(e+1));else for(let e=0;e<n;e++)e%2==0?(r.push(s.getX(e)),r.push(s.getX(e+1)),r.push(s.getX(e+2))):(r.push(s.getX(e+2)),r.push(s.getX(e+1)),r.push(s.getX(e)));r.length/3!==n&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=e.clone();return a.setIndex(r),a}var Q=function(){function t(s){e(this,t),this.entities=[],this.scene=o.getGlobalScene(),this.target=window||n.g,this.uuid=s,this.names=[]}return s(t,[{key:"add",value:function(e,t,s){this.target.addEventListener("getNFTData-"+this.uuid+"-"+t,(function(t){var s=t.detail;e.position.y=s.height/s.dpi*2.54*10/2,e.position.x=s.width/s.dpi*2.54*10/2}));var n=new i.Object3D;n.name="root-"+t,n.matrixAutoUpdate=!1,this.scene.add(n),n.add(e),this.target.addEventListener("getMatrixGL_RH-"+this.uuid+"-"+t,(function(t){n.visible=!0,e.visible=!0;var s=a.interpolate(t.detail.matrixGL_RH);a.setMatrix(n.matrix,s)})),this.target.addEventListener("nftTrackingLost-"+this.uuid+"-"+t,(function(t){n.visible=s,e.visible=s})),this.names.push(t),this.entities.push({name:t,mesh:e})}},{key:"addModel",value:function(e,t,s,n,r,o,c){var u,h=new i.Object3D;h.name="root-"+t,h.matrixAutoUpdate=!1,this.scene.add(h),(new l).load(e,(function(e){(u=e.scene).scale.set(o,o,o),u.rotation.x=Math.PI/2,u.position.x=s,u.position.y=n,u.position.z=r,h.add(u)})),this.target.addEventListener("getMatrixGL_RH-"+this.uuid+"-"+t,(function(e){h.visible=!0,u.visible=!0;var t=a.interpolate(e.detail.matrixGL_RH);a.setMatrix(h.matrix,t)})),this.target.addEventListener("nftTrackingLost-"+this.uuid+"-"+t,(function(e){h.visible=c,u.visible=c})),this.names.push(t)}},{key:"addImage",value:function(e,t,s,n,r){var o=new i.Object3D;o.name="root-"+t,o.matrixAutoUpdate=!1,this.scene.add(o);var l=new i.PlaneGeometry(1,1,1,1),c=(new i.TextureLoader).load(e),u=new i.MeshStandardMaterial({color:s,map:c}),h=new i.Mesh(l,u);h.scale.set(n,n,n),this.target.addEventListener("getNFTData-"+this.uuid+"-"+t,(function(e){var t=e.detail;h.position.y=t.height/t.dpi*2.54*10/2,h.position.x=t.width/t.dpi*2.54*10/2})),o.add(h),this.target.addEventListener("getMatrixGL_RH-"+this.uuid+"-"+t,(function(e){o.visible=!0,h.visible=!0;var t=a.interpolate(e.detail.matrixGL_RH);a.setMatrix(o.matrix,t)})),this.target.addEventListener("nftTrackingLost-"+this.uuid+"-"+t,(function(e){o.visible=r,h.visible=r})),this.names.push(t)}},{key:"addVideo",value:function(e,t,s,n){var r=new i.Object3D;r.name="root-"+t,r.matrixAutoUpdate=!1,this.scene.add(r);var o=document.getElementById(e),l=new i.VideoTexture(o),c=new i.MeshStandardMaterial({color:12303359,map:l});o.play();var u=new i.PlaneGeometry(1,1,1,1),h=new i.Mesh(u,c);h.scale.set(s,s,s),this.target.addEventListener("getNFTData-"+this.uuid+"-"+t,(function(e){var t=e.detail;h.position.y=t.height/t.dpi*2.54*10/2,h.position.x=t.width/t.dpi*2.54*10/2})),r.add(h),this.target.addEventListener("getMatrixGL_RH-"+this.uuid+"-"+t,(function(e){r.visible=!0,h.visible=!0;var t=a.interpolate(e.detail.matrixGL_RH);a.setMatrix(r.matrix,t)})),this.target.addEventListener("nftTrackingLost-"+this.uuid+"-"+t,(function(e){r.visible=n,h.visible=n})),this.names.push(t)}},{key:"getNames",value:function(){return this.names}}]),t}();const Y={SceneRendererTJS:o,NFTaddTJS:Q}})(),r.default})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S29KLEVBQVcxRCxHQUNsQzRELEVBQU16a0IsTUFBTXhOLElBQUl3TixFQUFPQSxFQUFPQSxHQUM5QjdRLEtBQUsrQixPQUFPb0QsaUJBQWlCLGNBQWdCbkYsS0FBSzBELEtBQU8sSUFBTThHLEdBQU0sU0FBQ3BGLEdBQ2xFLElBQUlzdkIsRUFBTXR2QixFQUFHRSxPQUNiZ3dCLEVBQU14bkIsU0FBU3diLEVBQU1vTCxFQUFJbmhCLE9BQVNtaEIsRUFBSUMsSUFBTyxLQUFPLEdBQU0sRUFDMURXLEVBQU14bkIsU0FBUzhtQixFQUFNRixFQUFJRyxNQUFRSCxFQUFJQyxJQUFPLEtBQU8sR0FBTSxLQUU3RGwxQixFQUFLK0YsSUFBSTh2QixHQUNUdDFCLEtBQUsrQixPQUFPb0QsaUJBQWlCLGtCQUFvQm5GLEtBQUswRCxLQUFPLElBQU04RyxHQUFNLFNBQUNwRixHQUN0RTNGLEVBQUtxMUIsU0FBVSxFQUNmUSxFQUFNUixTQUFVLEVBQ2hCLElBQU03eEIsRUFBU1IsRUFBTXN5QixZQUFZM3ZCLEVBQUdFLE9BQU8wdkIsYUFDM0N2eUIsRUFBQSxVQUFnQmhELEVBQUt3RCxPQUFRQSxNQUVqQ2pELEtBQUsrQixPQUFPb0QsaUJBQWlCLG1CQUFxQm5GLEtBQUswRCxLQUFPLElBQU04RyxHQUFNLFNBQUNwRixHQUN2RTNGLEVBQUtxMUIsUUFBVUwsRUFDZmEsRUFBTVIsUUFBVUwsS0FFcEJ6MEIsS0FBS3cwQixNQUFNbHJCLEtBQUtrQixLLHNCQUdiLFdBQ0gsT0FBT3hLLEtBQUt3MEIsVSxFQTlIQyxHQ1hyQixTQUFpQmp4QixpQkFBQUEsRUFBa0I4d0IsVUFBQUEsSSIsInNvdXJjZXMiOlsid2VicGFjazovL0FSbmZ0VGhyZWVqcy93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vQVJuZnRUaHJlZWpzL2V4dGVybmFsIHVtZCB7XCJjb21tb25qc1wiOlwidGhyZWVcIixcImNvbW1vbmpzMlwiOlwidGhyZWVcIixcImFtZFwiOlwidGhyZWVcIixcInJvb3RcIjpcIlRIUkVFXCJ9Iiwid2VicGFjazovL0FSbmZ0VGhyZWVqcy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9BUm5mdFRocmVlanMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL0FSbmZ0VGhyZWVqcy93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL0FSbmZ0VGhyZWVqcy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL0FSbmZ0VGhyZWVqcy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyIsIndlYnBhY2s6Ly9BUm5mdFRocmVlanMvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vQVJuZnRUaHJlZWpzLy4vc3JjL3V0aWxzL1V0aWxzLnRzIiwid2VicGFjazovL0FSbmZ0VGhyZWVqcy8uL3NyYy9TY2VuZVJlbmRlcmVyVEpTLnRzIiwid2VicGFjazovL0FSbmZ0VGhyZWVqcy8uL25vZGVfbW9kdWxlcy90aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9HTFRGTG9hZGVyLmpzIiwid2VicGFjazovL0FSbmZ0VGhyZWVqcy8uL3NyYy9tYXJrZXJtZWRpYS9ORlRhZGRUSlMudHMiLCJ3ZWJwYWNrOi8vQVJuZnRUaHJlZWpzLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcInRocmVlXCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcInRocmVlXCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkFSbmZ0VGhyZWVqc1wiXSA9IGZhY3RvcnkocmVxdWlyZShcInRocmVlXCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJBUm5mdFRocmVlanNcIl0gPSBmYWN0b3J5KHJvb3RbXCJUSFJFRVwiXSk7XG59KSh0aGlzLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18zODFfXykge1xucmV0dXJuICIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMzgxX187IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59IiwiZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufSIsImV4cG9ydCBjbGFzcyBVdGlscyB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgdHJhY2tlZE1hdHJpeDogYW55ID0ge1xuICAgICAgICAvLyBmb3IgaW50ZXJwb2xhdGlvblxuICAgICAgICBkZWx0YTogWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgICAgICBpbnRlcnBvbGF0ZWQ6IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICB9O1xuICAgIC8vcHJpdmF0ZSBzdGF0aWMgaW50ZXJwb2xhdGlvbkZhY3RvcjogbnVtYmVyID0gMjRcbiAgICBzdGF0aWMgaW50ZXJwb2xhdGUod29ybGQ6IGFueSkge1xuICAgICAgICBjb25zdCBpbnRlcnBvbGF0aW9uRmFjdG9yID0gMjQ7XG5cbiAgICAgICAgLy8gaW50ZXJwb2xhdGUgbWF0cml4XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgICAgICAgICAgdGhpcy50cmFja2VkTWF0cml4LmRlbHRhW2ldID0gd29ybGRbaV0gLSB0aGlzLnRyYWNrZWRNYXRyaXguaW50ZXJwb2xhdGVkW2ldO1xuICAgICAgICAgICAgdGhpcy50cmFja2VkTWF0cml4LmludGVycG9sYXRlZFtpXSA9XG4gICAgICAgICAgICAgICAgdGhpcy50cmFja2VkTWF0cml4LmludGVycG9sYXRlZFtpXSArIHRoaXMudHJhY2tlZE1hdHJpeC5kZWx0YVtpXSAvIGludGVycG9sYXRpb25GYWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudHJhY2tlZE1hdHJpeC5pbnRlcnBvbGF0ZWQ7XG4gICAgfVxuXG4gICAgc3RhdGljIGlzTW9iaWxlKCkge1xuICAgICAgICByZXR1cm4gL0FuZHJvaWR8bW9iaWxlfGlQYWR8aVBob25lL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0TWF0cml4KG1hdHJpeDogYW55LCB2YWx1ZTogYW55KSB7XG4gICAgICAgIGNvbnN0IGFycmF5OiBhbnkgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgIGFycmF5W2tleV0gPSB2YWx1ZVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgbWF0cml4LmVsZW1lbnRzLnNldCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBtYXRyaXguZWxlbWVudHMuc2V0KGFycmF5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1hdHJpeC5lbGVtZW50cyA9IFtdLnNsaWNlLmNhbGwoYXJyYXkpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCI7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuL3V0aWxzL1V0aWxzXCI7XG5cbmludGVyZmFjZSBDb25maWdEYXRhIHtcbiAgICBjYW1lcmE6IHtcbiAgICAgICAgZmFyOiBudW1iZXI7XG4gICAgICAgIGZvdjogbnVtYmVyO1xuICAgICAgICBtYXRyaXhBdXRvVXBkYXRlOiBib29sZWFuO1xuICAgICAgICBuZWFyOiBudW1iZXI7XG4gICAgICAgIHJhdGlvOiBudW1iZXI7XG4gICAgfTtcbiAgICByZW5kZXJlcjoge1xuICAgICAgICBhbHBoYTogYm9vbGVhbjtcbiAgICAgICAgYW50aWFsaWFzOiBib29sZWFuO1xuICAgICAgICBjb250ZXh0OiBhbnk7XG4gICAgICAgIGRlcHRoOiBib29sZWFuO1xuICAgICAgICBsb2dhcml0aG1pY0RlcHRoQnVmZmVyOiBib29sZWFuO1xuICAgICAgICBwcmVjaXNpb246IHN0cmluZztcbiAgICAgICAgc3RlbmNpbDogYm9vbGVhbjtcbiAgICAgICAgcHJlbXVsdGlwbGllZEFscGhhOiBib29sZWFuO1xuICAgICAgICBvYmpWaXNpYmlsaXR5OiBib29sZWFuO1xuICAgIH07XG59XG5cbmludGVyZmFjZSBSb290IGV4dGVuZHMgVEhSRUUuT2JqZWN0M0Qge1xuICAgIC8vbWF0cml4OiBvYmplY3Rcbn1cblxuaW50ZXJmYWNlIFJlbmRlcmVyIHtcbiAgICByZW5kZXI6IChzY2VuZTogVEhSRUUuU2NlbmUsIGNhbWVyYTogVEhSRUUuQ2FtZXJhKSA9PiB2b2lkO1xuICAgIHNldFBpeGVsUmF0aW86IChwaXhlbFJhdGlvOiBudW1iZXIpID0+IHZvaWQ7XG4gICAgc2V0U2l6ZTogKHc6IG51bWJlciwgaDogbnVtYmVyKSA9PiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgQ2FtZXJhIGV4dGVuZHMgVEhSRUUuQ2FtZXJhIHtcbiAgICBtYXRyaXhBdXRvVXBkYXRlOiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgU2NlbmUgZXh0ZW5kcyBUSFJFRS5TY2VuZSB7XG4gICAgYWRkOiAobm9kZTogVEhSRUUuT2JqZWN0M0QpID0+IHRoaXM7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjZW5lUmVuZGVyZXJUSlMge1xuICAgIHB1YmxpYyBjYW52YXNfZHJhdzogSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgcHJpdmF0ZSBjYW1lcmE6IENhbWVyYTtcbiAgICBwcml2YXRlIGNvbmZpZ0RhdGE6IENvbmZpZ0RhdGE7XG4gICAgcHVibGljIHJlbmRlcmVyOiBSZW5kZXJlcjtcbiAgICBwcml2YXRlIHV1aWQ6IHN0cmluZztcbiAgICBwcml2YXRlIHJvb3Q6IFJvb3Q7XG4gICAgcHJpdmF0ZSB0YXJnZXQ6IEV2ZW50VGFyZ2V0O1xuICAgIHByaXZhdGUgc2NlbmU6IFNjZW5lO1xuICAgIHByaXZhdGUgc3RhdGljIGdsb2JhbFNjZW5lOiBTY2VuZTtcbiAgICBwcml2YXRlIHZlcnNpb246IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ0RhdGE6IENvbmZpZ0RhdGEsIGNhbnZhc0RyYXc6IEhUTUxDYW52YXNFbGVtZW50LCB1dWlkOiBzdHJpbmcsIGNhbWVyYUJvb2w6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5jb25maWdEYXRhID0gY29uZmlnRGF0YTtcbiAgICAgICAgdGhpcy51dWlkID0gdXVpZDtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB3aW5kb3cgfHwgZ2xvYmFsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoe1xuICAgICAgICAgICAgY2FudmFzOiBjYW52YXNEcmF3LFxuICAgICAgICAgICAgY29udGV4dDogY29uZmlnRGF0YS5yZW5kZXJlci5jb250ZXh0LFxuICAgICAgICAgICAgYWxwaGE6IGNvbmZpZ0RhdGEucmVuZGVyZXIuYWxwaGEsXG4gICAgICAgICAgICBwcmVtdWx0aXBsaWVkQWxwaGE6IGNvbmZpZ0RhdGEucmVuZGVyZXIucHJlbXVsdGlwbGllZEFscGhhLFxuICAgICAgICAgICAgYW50aWFsaWFzOiBjb25maWdEYXRhLnJlbmRlcmVyLmFudGlhbGlhcyxcbiAgICAgICAgICAgIHN0ZW5jaWw6IGNvbmZpZ0RhdGEucmVuZGVyZXIuc3RlbmNpbCxcbiAgICAgICAgICAgIHByZWNpc2lvbjogY29uZmlnRGF0YS5yZW5kZXJlci5wcmVjaXNpb24sXG4gICAgICAgICAgICBkZXB0aDogY29uZmlnRGF0YS5yZW5kZXJlci5kZXB0aCxcbiAgICAgICAgICAgIGxvZ2FyaXRobWljRGVwdGhCdWZmZXI6IGNvbmZpZ0RhdGEucmVuZGVyZXIubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcixcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICAgICAgU2NlbmVSZW5kZXJlclRKUy5nbG9iYWxTY2VuZSA9IHRoaXMuc2NlbmU7XG4gICAgICAgIGlmIChjYW1lcmFCb29sID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYShcbiAgICAgICAgICAgICAgICBjb25maWdEYXRhLmNhbWVyYS5mb3YsXG4gICAgICAgICAgICAgICAgY29uZmlnRGF0YS5jYW1lcmEucmF0aW8sXG4gICAgICAgICAgICAgICAgY29uZmlnRGF0YS5jYW1lcmEubmVhcixcbiAgICAgICAgICAgICAgICBjb25maWdEYXRhLmNhbWVyYS5mYXJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5DYW1lcmEoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZlcnNpb24gPSBcIjAuMy4wXCI7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQVJuZnRUaHJlZWpzIHZlcnNpb246IFwiLCB0aGlzLnZlcnNpb24pO1xuICAgIH1cblxuICAgIGluaXRSZW5kZXJlcigpIHtcbiAgICAgICAgdGhpcy5jYW1lcmEubWF0cml4QXV0b1VwZGF0ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwiZ2V0UHJvamVjdGlvbk1hdHJpeFwiLCAoZXY6IGFueSkgPT4ge1xuICAgICAgICAgICAgVXRpbHMuc2V0TWF0cml4KHRoaXMuY2FtZXJhLnByb2plY3Rpb25NYXRyaXgsIGV2LmRldGFpbC5wcm9qKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMuY2FtZXJhKTtcblxuICAgICAgICBjb25zdCBsaWdodCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoMHhmZmZmZmYpO1xuICAgICAgICB0aGlzLnNjZW5lLmFkZChsaWdodCk7XG5cbiAgICAgICAgdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImdldFdpbmRvd1NpemVcIiwgKF9ldjogYW55KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUoX2V2LmRldGFpbC5zdywgX2V2LmRldGFpbC5zaCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHNldEluaXRSZW5kZXJlckV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFwib25Jbml0VGhyZWVqc1JlbmRlcmluZ1wiLCB7XG4gICAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgICAgICByZW5kZXJlcjogdGhpcy5yZW5kZXJlcixcbiAgICAgICAgICAgICAgICBzY2VuZTogdGhpcy5zY2VuZSxcbiAgICAgICAgICAgICAgICBjYW1lcmE6IHRoaXMuY2FtZXJhLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudGFyZ2V0LmRpc3BhdGNoRXZlbnQoc2V0SW5pdFJlbmRlcmVyRXZlbnQpO1xuICAgIH1cblxuICAgIGRyYXcoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgICB9XG5cbiAgICAvLyBnZXR0ZXJzXG5cbiAgICBnZXRSZW5kZXJlcigpOiBSZW5kZXJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyO1xuICAgIH1cblxuICAgIGdldFNjZW5lKCk6IFNjZW5lIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NlbmU7XG4gICAgfVxuXG4gICAgZ2V0Q2FtZXJhKCk6IENhbWVyYSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbWVyYTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0R2xvYmFsU2NlbmUoKTogU2NlbmUge1xuICAgICAgICByZXR1cm4gU2NlbmVSZW5kZXJlclRKUy5nbG9iYWxTY2VuZTtcbiAgICB9XG5cbiAgICAvLyBzZXR0ZXJzXG5cbiAgICBzZXRSZW5kZXJlcihyZW5kZXJlcjogUmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIH1cblxuICAgIHNldFNjZW5lKHNjZW5lOiBTY2VuZSkge1xuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XG4gICAgfVxuXG4gICAgc2V0Q2FtZXJhKGNhbWVyYTogQ2FtZXJhKSB7XG4gICAgICAgIHRoaXMuY2FtZXJhID0gY2FtZXJhO1xuICAgIH1cblxuICAgIC8vIHRpY2sgdG8gYmUgaW1wbGVtZW50ZWRcbiAgICAvKiB0aWNrICgpIHtcbiAgICB0aGlzLmRyYXcoKVxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy50aWNrKVxuICB9Ki9cbn1cbiIsImltcG9ydCB7XG5cdEFuaW1hdGlvbkNsaXAsXG5cdEJvbmUsXG5cdEJveDMsXG5cdEJ1ZmZlckF0dHJpYnV0ZSxcblx0QnVmZmVyR2VvbWV0cnksXG5cdENsYW1wVG9FZGdlV3JhcHBpbmcsXG5cdENvbG9yLFxuXHREaXJlY3Rpb25hbExpZ2h0LFxuXHREb3VibGVTaWRlLFxuXHRGaWxlTG9hZGVyLFxuXHRGcm9udFNpZGUsXG5cdEdyb3VwLFxuXHRJbWFnZUJpdG1hcExvYWRlcixcblx0SW50ZXJsZWF2ZWRCdWZmZXIsXG5cdEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlLFxuXHRJbnRlcnBvbGFudCxcblx0SW50ZXJwb2xhdGVEaXNjcmV0ZSxcblx0SW50ZXJwb2xhdGVMaW5lYXIsXG5cdExpbmUsXG5cdExpbmVCYXNpY01hdGVyaWFsLFxuXHRMaW5lTG9vcCxcblx0TGluZVNlZ21lbnRzLFxuXHRMaW5lYXJGaWx0ZXIsXG5cdExpbmVhck1pcG1hcExpbmVhckZpbHRlcixcblx0TGluZWFyTWlwbWFwTmVhcmVzdEZpbHRlcixcblx0TG9hZGVyLFxuXHRMb2FkZXJVdGlscyxcblx0TWF0ZXJpYWwsXG5cdE1hdGhVdGlscyxcblx0TWF0cml4NCxcblx0TWVzaCxcblx0TWVzaEJhc2ljTWF0ZXJpYWwsXG5cdE1lc2hQaHlzaWNhbE1hdGVyaWFsLFxuXHRNZXNoU3RhbmRhcmRNYXRlcmlhbCxcblx0TWlycm9yZWRSZXBlYXRXcmFwcGluZyxcblx0TmVhcmVzdEZpbHRlcixcblx0TmVhcmVzdE1pcG1hcExpbmVhckZpbHRlcixcblx0TmVhcmVzdE1pcG1hcE5lYXJlc3RGaWx0ZXIsXG5cdE51bWJlcktleWZyYW1lVHJhY2ssXG5cdE9iamVjdDNELFxuXHRPcnRob2dyYXBoaWNDYW1lcmEsXG5cdFBlcnNwZWN0aXZlQ2FtZXJhLFxuXHRQb2ludExpZ2h0LFxuXHRQb2ludHMsXG5cdFBvaW50c01hdGVyaWFsLFxuXHRQcm9wZXJ0eUJpbmRpbmcsXG5cdFF1YXRlcm5pb24sXG5cdFF1YXRlcm5pb25LZXlmcmFtZVRyYWNrLFxuXHRSR0JGb3JtYXQsXG5cdFJlcGVhdFdyYXBwaW5nLFxuXHRTa2VsZXRvbixcblx0U2tpbm5lZE1lc2gsXG5cdFNwaGVyZSxcblx0U3BvdExpZ2h0LFxuXHRUYW5nZW50U3BhY2VOb3JtYWxNYXAsXG5cdFRleHR1cmUsXG5cdFRleHR1cmVMb2FkZXIsXG5cdFRyaWFuZ2xlRmFuRHJhd01vZGUsXG5cdFRyaWFuZ2xlU3RyaXBEcmF3TW9kZSxcblx0VmVjdG9yMixcblx0VmVjdG9yMyxcblx0VmVjdG9yS2V5ZnJhbWVUcmFjayxcblx0c1JHQkVuY29kaW5nXG59IGZyb20gJ3RocmVlJztcblxuY2xhc3MgR0xURkxvYWRlciBleHRlbmRzIExvYWRlciB7XG5cblx0Y29uc3RydWN0b3IoIG1hbmFnZXIgKSB7XG5cblx0XHRzdXBlciggbWFuYWdlciApO1xuXG5cdFx0dGhpcy5kcmFjb0xvYWRlciA9IG51bGw7XG5cdFx0dGhpcy5rdHgyTG9hZGVyID0gbnVsbDtcblx0XHR0aGlzLm1lc2hvcHREZWNvZGVyID0gbnVsbDtcblxuXHRcdHRoaXMucGx1Z2luQ2FsbGJhY2tzID0gW107XG5cblx0XHR0aGlzLnJlZ2lzdGVyKCBmdW5jdGlvbiAoIHBhcnNlciApIHtcblxuXHRcdFx0cmV0dXJuIG5ldyBHTFRGTWF0ZXJpYWxzQ2xlYXJjb2F0RXh0ZW5zaW9uKCBwYXJzZXIgKTtcblxuXHRcdH0gKTtcblxuXHRcdHRoaXMucmVnaXN0ZXIoIGZ1bmN0aW9uICggcGFyc2VyICkge1xuXG5cdFx0XHRyZXR1cm4gbmV3IEdMVEZUZXh0dXJlQmFzaXNVRXh0ZW5zaW9uKCBwYXJzZXIgKTtcblxuXHRcdH0gKTtcblxuXHRcdHRoaXMucmVnaXN0ZXIoIGZ1bmN0aW9uICggcGFyc2VyICkge1xuXG5cdFx0XHRyZXR1cm4gbmV3IEdMVEZUZXh0dXJlV2ViUEV4dGVuc2lvbiggcGFyc2VyICk7XG5cblx0XHR9ICk7XG5cblx0XHR0aGlzLnJlZ2lzdGVyKCBmdW5jdGlvbiAoIHBhcnNlciApIHtcblxuXHRcdFx0cmV0dXJuIG5ldyBHTFRGTWF0ZXJpYWxzVHJhbnNtaXNzaW9uRXh0ZW5zaW9uKCBwYXJzZXIgKTtcblxuXHRcdH0gKTtcblxuXHRcdHRoaXMucmVnaXN0ZXIoIGZ1bmN0aW9uICggcGFyc2VyICkge1xuXG5cdFx0XHRyZXR1cm4gbmV3IEdMVEZNYXRlcmlhbHNWb2x1bWVFeHRlbnNpb24oIHBhcnNlciApO1xuXG5cdFx0fSApO1xuXG5cdFx0dGhpcy5yZWdpc3RlciggZnVuY3Rpb24gKCBwYXJzZXIgKSB7XG5cblx0XHRcdHJldHVybiBuZXcgR0xURk1hdGVyaWFsc0lvckV4dGVuc2lvbiggcGFyc2VyICk7XG5cblx0XHR9ICk7XG5cblx0XHR0aGlzLnJlZ2lzdGVyKCBmdW5jdGlvbiAoIHBhcnNlciApIHtcblxuXHRcdFx0cmV0dXJuIG5ldyBHTFRGTWF0ZXJpYWxzU3BlY3VsYXJFeHRlbnNpb24oIHBhcnNlciApO1xuXG5cdFx0fSApO1xuXG5cdFx0dGhpcy5yZWdpc3RlciggZnVuY3Rpb24gKCBwYXJzZXIgKSB7XG5cblx0XHRcdHJldHVybiBuZXcgR0xURkxpZ2h0c0V4dGVuc2lvbiggcGFyc2VyICk7XG5cblx0XHR9ICk7XG5cblx0XHR0aGlzLnJlZ2lzdGVyKCBmdW5jdGlvbiAoIHBhcnNlciApIHtcblxuXHRcdFx0cmV0dXJuIG5ldyBHTFRGTWVzaG9wdENvbXByZXNzaW9uKCBwYXJzZXIgKTtcblxuXHRcdH0gKTtcblxuXHR9XG5cblx0bG9hZCggdXJsLCBvbkxvYWQsIG9uUHJvZ3Jlc3MsIG9uRXJyb3IgKSB7XG5cblx0XHRjb25zdCBzY29wZSA9IHRoaXM7XG5cblx0XHRsZXQgcmVzb3VyY2VQYXRoO1xuXG5cdFx0aWYgKCB0aGlzLnJlc291cmNlUGF0aCAhPT0gJycgKSB7XG5cblx0XHRcdHJlc291cmNlUGF0aCA9IHRoaXMucmVzb3VyY2VQYXRoO1xuXG5cdFx0fSBlbHNlIGlmICggdGhpcy5wYXRoICE9PSAnJyApIHtcblxuXHRcdFx0cmVzb3VyY2VQYXRoID0gdGhpcy5wYXRoO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0cmVzb3VyY2VQYXRoID0gTG9hZGVyVXRpbHMuZXh0cmFjdFVybEJhc2UoIHVybCApO1xuXG5cdFx0fVxuXG5cdFx0Ly8gVGVsbHMgdGhlIExvYWRpbmdNYW5hZ2VyIHRvIHRyYWNrIGFuIGV4dHJhIGl0ZW0sIHdoaWNoIHJlc29sdmVzIGFmdGVyXG5cdFx0Ly8gdGhlIG1vZGVsIGlzIGZ1bGx5IGxvYWRlZC4gVGhpcyBtZWFucyB0aGUgY291bnQgb2YgaXRlbXMgbG9hZGVkIHdpbGxcblx0XHQvLyBiZSBpbmNvcnJlY3QsIGJ1dCBlbnN1cmVzIG1hbmFnZXIub25Mb2FkKCkgZG9lcyBub3QgZmlyZSBlYXJseS5cblx0XHR0aGlzLm1hbmFnZXIuaXRlbVN0YXJ0KCB1cmwgKTtcblxuXHRcdGNvbnN0IF9vbkVycm9yID0gZnVuY3Rpb24gKCBlICkge1xuXG5cdFx0XHRpZiAoIG9uRXJyb3IgKSB7XG5cblx0XHRcdFx0b25FcnJvciggZSApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoIGUgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRzY29wZS5tYW5hZ2VyLml0ZW1FcnJvciggdXJsICk7XG5cdFx0XHRzY29wZS5tYW5hZ2VyLml0ZW1FbmQoIHVybCApO1xuXG5cdFx0fTtcblxuXHRcdGNvbnN0IGxvYWRlciA9IG5ldyBGaWxlTG9hZGVyKCB0aGlzLm1hbmFnZXIgKTtcblxuXHRcdGxvYWRlci5zZXRQYXRoKCB0aGlzLnBhdGggKTtcblx0XHRsb2FkZXIuc2V0UmVzcG9uc2VUeXBlKCAnYXJyYXlidWZmZXInICk7XG5cdFx0bG9hZGVyLnNldFJlcXVlc3RIZWFkZXIoIHRoaXMucmVxdWVzdEhlYWRlciApO1xuXHRcdGxvYWRlci5zZXRXaXRoQ3JlZGVudGlhbHMoIHRoaXMud2l0aENyZWRlbnRpYWxzICk7XG5cblx0XHRsb2FkZXIubG9hZCggdXJsLCBmdW5jdGlvbiAoIGRhdGEgKSB7XG5cblx0XHRcdHRyeSB7XG5cblx0XHRcdFx0c2NvcGUucGFyc2UoIGRhdGEsIHJlc291cmNlUGF0aCwgZnVuY3Rpb24gKCBnbHRmICkge1xuXG5cdFx0XHRcdFx0b25Mb2FkKCBnbHRmICk7XG5cblx0XHRcdFx0XHRzY29wZS5tYW5hZ2VyLml0ZW1FbmQoIHVybCApO1xuXG5cdFx0XHRcdH0sIF9vbkVycm9yICk7XG5cblx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdF9vbkVycm9yKCBlICk7XG5cblx0XHRcdH1cblxuXHRcdH0sIG9uUHJvZ3Jlc3MsIF9vbkVycm9yICk7XG5cblx0fVxuXG5cdHNldERSQUNPTG9hZGVyKCBkcmFjb0xvYWRlciApIHtcblxuXHRcdHRoaXMuZHJhY29Mb2FkZXIgPSBkcmFjb0xvYWRlcjtcblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RERTTG9hZGVyKCkge1xuXG5cdFx0dGhyb3cgbmV3IEVycm9yKFxuXG5cdFx0XHQnVEhSRUUuR0xURkxvYWRlcjogXCJNU0ZUX3RleHR1cmVfZGRzXCIgbm8gbG9uZ2VyIHN1cHBvcnRlZC4gUGxlYXNlIHVwZGF0ZSB0byBcIktIUl90ZXh0dXJlX2Jhc2lzdVwiLidcblxuXHRcdCk7XG5cblx0fVxuXG5cdHNldEtUWDJMb2FkZXIoIGt0eDJMb2FkZXIgKSB7XG5cblx0XHR0aGlzLmt0eDJMb2FkZXIgPSBrdHgyTG9hZGVyO1xuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRNZXNob3B0RGVjb2RlciggbWVzaG9wdERlY29kZXIgKSB7XG5cblx0XHR0aGlzLm1lc2hvcHREZWNvZGVyID0gbWVzaG9wdERlY29kZXI7XG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHJlZ2lzdGVyKCBjYWxsYmFjayApIHtcblxuXHRcdGlmICggdGhpcy5wbHVnaW5DYWxsYmFja3MuaW5kZXhPZiggY2FsbGJhY2sgKSA9PT0gLSAxICkge1xuXG5cdFx0XHR0aGlzLnBsdWdpbkNhbGxiYWNrcy5wdXNoKCBjYWxsYmFjayApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHVucmVnaXN0ZXIoIGNhbGxiYWNrICkge1xuXG5cdFx0aWYgKCB0aGlzLnBsdWdpbkNhbGxiYWNrcy5pbmRleE9mKCBjYWxsYmFjayApICE9PSAtIDEgKSB7XG5cblx0XHRcdHRoaXMucGx1Z2luQ2FsbGJhY2tzLnNwbGljZSggdGhpcy5wbHVnaW5DYWxsYmFja3MuaW5kZXhPZiggY2FsbGJhY2sgKSwgMSApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHBhcnNlKCBkYXRhLCBwYXRoLCBvbkxvYWQsIG9uRXJyb3IgKSB7XG5cblx0XHRsZXQgY29udGVudDtcblx0XHRjb25zdCBleHRlbnNpb25zID0ge307XG5cdFx0Y29uc3QgcGx1Z2lucyA9IHt9O1xuXG5cdFx0aWYgKCB0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycgKSB7XG5cblx0XHRcdGNvbnRlbnQgPSBkYXRhO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Y29uc3QgbWFnaWMgPSBMb2FkZXJVdGlscy5kZWNvZGVUZXh0KCBuZXcgVWludDhBcnJheSggZGF0YSwgMCwgNCApICk7XG5cblx0XHRcdGlmICggbWFnaWMgPT09IEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX01BR0lDICkge1xuXG5cdFx0XHRcdHRyeSB7XG5cblx0XHRcdFx0XHRleHRlbnNpb25zWyBFWFRFTlNJT05TLktIUl9CSU5BUllfR0xURiBdID0gbmV3IEdMVEZCaW5hcnlFeHRlbnNpb24oIGRhdGEgKTtcblxuXHRcdFx0XHR9IGNhdGNoICggZXJyb3IgKSB7XG5cblx0XHRcdFx0XHRpZiAoIG9uRXJyb3IgKSBvbkVycm9yKCBlcnJvciApO1xuXHRcdFx0XHRcdHJldHVybjtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGVudCA9IGV4dGVuc2lvbnNbIEVYVEVOU0lPTlMuS0hSX0JJTkFSWV9HTFRGIF0uY29udGVudDtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRjb250ZW50ID0gTG9hZGVyVXRpbHMuZGVjb2RlVGV4dCggbmV3IFVpbnQ4QXJyYXkoIGRhdGEgKSApO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRjb25zdCBqc29uID0gSlNPTi5wYXJzZSggY29udGVudCApO1xuXG5cdFx0aWYgKCBqc29uLmFzc2V0ID09PSB1bmRlZmluZWQgfHwganNvbi5hc3NldC52ZXJzaW9uWyAwIF0gPCAyICkge1xuXG5cdFx0XHRpZiAoIG9uRXJyb3IgKSBvbkVycm9yKCBuZXcgRXJyb3IoICdUSFJFRS5HTFRGTG9hZGVyOiBVbnN1cHBvcnRlZCBhc3NldC4gZ2xURiB2ZXJzaW9ucyA+PTIuMCBhcmUgc3VwcG9ydGVkLicgKSApO1xuXHRcdFx0cmV0dXJuO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgcGFyc2VyID0gbmV3IEdMVEZQYXJzZXIoIGpzb24sIHtcblxuXHRcdFx0cGF0aDogcGF0aCB8fCB0aGlzLnJlc291cmNlUGF0aCB8fCAnJyxcblx0XHRcdGNyb3NzT3JpZ2luOiB0aGlzLmNyb3NzT3JpZ2luLFxuXHRcdFx0cmVxdWVzdEhlYWRlcjogdGhpcy5yZXF1ZXN0SGVhZGVyLFxuXHRcdFx0bWFuYWdlcjogdGhpcy5tYW5hZ2VyLFxuXHRcdFx0a3R4MkxvYWRlcjogdGhpcy5rdHgyTG9hZGVyLFxuXHRcdFx0bWVzaG9wdERlY29kZXI6IHRoaXMubWVzaG9wdERlY29kZXJcblxuXHRcdH0gKTtcblxuXHRcdHBhcnNlci5maWxlTG9hZGVyLnNldFJlcXVlc3RIZWFkZXIoIHRoaXMucmVxdWVzdEhlYWRlciApO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgdGhpcy5wbHVnaW5DYWxsYmFja3MubGVuZ3RoOyBpICsrICkge1xuXG5cdFx0XHRjb25zdCBwbHVnaW4gPSB0aGlzLnBsdWdpbkNhbGxiYWNrc1sgaSBdKCBwYXJzZXIgKTtcblx0XHRcdHBsdWdpbnNbIHBsdWdpbi5uYW1lIF0gPSBwbHVnaW47XG5cblx0XHRcdC8vIFdvcmthcm91bmQgdG8gYXZvaWQgZGV0ZXJtaW5pbmcgYXMgdW5rbm93biBleHRlbnNpb25cblx0XHRcdC8vIGluIGFkZFVua25vd25FeHRlbnNpb25zVG9Vc2VyRGF0YSgpLlxuXHRcdFx0Ly8gUmVtb3ZlIHRoaXMgd29ya2Fyb3VuZCBpZiB3ZSBtb3ZlIGFsbCB0aGUgZXhpc3Rpbmdcblx0XHRcdC8vIGV4dGVuc2lvbiBoYW5kbGVycyB0byBwbHVnaW4gc3lzdGVtXG5cdFx0XHRleHRlbnNpb25zWyBwbHVnaW4ubmFtZSBdID0gdHJ1ZTtcblxuXHRcdH1cblxuXHRcdGlmICgganNvbi5leHRlbnNpb25zVXNlZCApIHtcblxuXHRcdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwganNvbi5leHRlbnNpb25zVXNlZC5sZW5ndGg7ICsrIGkgKSB7XG5cblx0XHRcdFx0Y29uc3QgZXh0ZW5zaW9uTmFtZSA9IGpzb24uZXh0ZW5zaW9uc1VzZWRbIGkgXTtcblx0XHRcdFx0Y29uc3QgZXh0ZW5zaW9uc1JlcXVpcmVkID0ganNvbi5leHRlbnNpb25zUmVxdWlyZWQgfHwgW107XG5cblx0XHRcdFx0c3dpdGNoICggZXh0ZW5zaW9uTmFtZSApIHtcblxuXHRcdFx0XHRcdGNhc2UgRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1VOTElUOlxuXHRcdFx0XHRcdFx0ZXh0ZW5zaW9uc1sgZXh0ZW5zaW9uTmFtZSBdID0gbmV3IEdMVEZNYXRlcmlhbHNVbmxpdEV4dGVuc2lvbigpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRjYXNlIEVYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19QQlJfU1BFQ1VMQVJfR0xPU1NJTkVTUzpcblx0XHRcdFx0XHRcdGV4dGVuc2lvbnNbIGV4dGVuc2lvbk5hbWUgXSA9IG5ldyBHTFRGTWF0ZXJpYWxzUGJyU3BlY3VsYXJHbG9zc2luZXNzRXh0ZW5zaW9uKCk7XG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdGNhc2UgRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTjpcblx0XHRcdFx0XHRcdGV4dGVuc2lvbnNbIGV4dGVuc2lvbk5hbWUgXSA9IG5ldyBHTFRGRHJhY29NZXNoQ29tcHJlc3Npb25FeHRlbnNpb24oIGpzb24sIHRoaXMuZHJhY29Mb2FkZXIgKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0Y2FzZSBFWFRFTlNJT05TLktIUl9URVhUVVJFX1RSQU5TRk9STTpcblx0XHRcdFx0XHRcdGV4dGVuc2lvbnNbIGV4dGVuc2lvbk5hbWUgXSA9IG5ldyBHTFRGVGV4dHVyZVRyYW5zZm9ybUV4dGVuc2lvbigpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRjYXNlIEVYVEVOU0lPTlMuS0hSX01FU0hfUVVBTlRJWkFUSU9OOlxuXHRcdFx0XHRcdFx0ZXh0ZW5zaW9uc1sgZXh0ZW5zaW9uTmFtZSBdID0gbmV3IEdMVEZNZXNoUXVhbnRpemF0aW9uRXh0ZW5zaW9uKCk7XG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cblx0XHRcdFx0XHRcdGlmICggZXh0ZW5zaW9uc1JlcXVpcmVkLmluZGV4T2YoIGV4dGVuc2lvbk5hbWUgKSA+PSAwICYmIHBsdWdpbnNbIGV4dGVuc2lvbk5hbWUgXSA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkdMVEZMb2FkZXI6IFVua25vd24gZXh0ZW5zaW9uIFwiJyArIGV4dGVuc2lvbk5hbWUgKyAnXCIuJyApO1xuXG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRwYXJzZXIuc2V0RXh0ZW5zaW9ucyggZXh0ZW5zaW9ucyApO1xuXHRcdHBhcnNlci5zZXRQbHVnaW5zKCBwbHVnaW5zICk7XG5cdFx0cGFyc2VyLnBhcnNlKCBvbkxvYWQsIG9uRXJyb3IgKTtcblxuXHR9XG5cbn1cblxuLyogR0xURlJFR0lTVFJZICovXG5cbmZ1bmN0aW9uIEdMVEZSZWdpc3RyeSgpIHtcblxuXHRsZXQgb2JqZWN0cyA9IHt9O1xuXG5cdHJldHVyblx0e1xuXG5cdFx0Z2V0OiBmdW5jdGlvbiAoIGtleSApIHtcblxuXHRcdFx0cmV0dXJuIG9iamVjdHNbIGtleSBdO1xuXG5cdFx0fSxcblxuXHRcdGFkZDogZnVuY3Rpb24gKCBrZXksIG9iamVjdCApIHtcblxuXHRcdFx0b2JqZWN0c1sga2V5IF0gPSBvYmplY3Q7XG5cblx0XHR9LFxuXG5cdFx0cmVtb3ZlOiBmdW5jdGlvbiAoIGtleSApIHtcblxuXHRcdFx0ZGVsZXRlIG9iamVjdHNbIGtleSBdO1xuXG5cdFx0fSxcblxuXHRcdHJlbW92ZUFsbDogZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRvYmplY3RzID0ge307XG5cblx0XHR9XG5cblx0fTtcblxufVxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKioqKiogRVhURU5TSU9OUyAqKioqKioqKioqKi9cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmNvbnN0IEVYVEVOU0lPTlMgPSB7XG5cdEtIUl9CSU5BUllfR0xURjogJ0tIUl9iaW5hcnlfZ2xURicsXG5cdEtIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OOiAnS0hSX2RyYWNvX21lc2hfY29tcHJlc3Npb24nLFxuXHRLSFJfTElHSFRTX1BVTkNUVUFMOiAnS0hSX2xpZ2h0c19wdW5jdHVhbCcsXG5cdEtIUl9NQVRFUklBTFNfQ0xFQVJDT0FUOiAnS0hSX21hdGVyaWFsc19jbGVhcmNvYXQnLFxuXHRLSFJfTUFURVJJQUxTX0lPUjogJ0tIUl9tYXRlcmlhbHNfaW9yJyxcblx0S0hSX01BVEVSSUFMU19QQlJfU1BFQ1VMQVJfR0xPU1NJTkVTUzogJ0tIUl9tYXRlcmlhbHNfcGJyU3BlY3VsYXJHbG9zc2luZXNzJyxcblx0S0hSX01BVEVSSUFMU19TUEVDVUxBUjogJ0tIUl9tYXRlcmlhbHNfc3BlY3VsYXInLFxuXHRLSFJfTUFURVJJQUxTX1RSQU5TTUlTU0lPTjogJ0tIUl9tYXRlcmlhbHNfdHJhbnNtaXNzaW9uJyxcblx0S0hSX01BVEVSSUFMU19VTkxJVDogJ0tIUl9tYXRlcmlhbHNfdW5saXQnLFxuXHRLSFJfTUFURVJJQUxTX1ZPTFVNRTogJ0tIUl9tYXRlcmlhbHNfdm9sdW1lJyxcblx0S0hSX1RFWFRVUkVfQkFTSVNVOiAnS0hSX3RleHR1cmVfYmFzaXN1Jyxcblx0S0hSX1RFWFRVUkVfVFJBTlNGT1JNOiAnS0hSX3RleHR1cmVfdHJhbnNmb3JtJyxcblx0S0hSX01FU0hfUVVBTlRJWkFUSU9OOiAnS0hSX21lc2hfcXVhbnRpemF0aW9uJyxcblx0RVhUX1RFWFRVUkVfV0VCUDogJ0VYVF90ZXh0dXJlX3dlYnAnLFxuXHRFWFRfTUVTSE9QVF9DT01QUkVTU0lPTjogJ0VYVF9tZXNob3B0X2NvbXByZXNzaW9uJ1xufTtcblxuLyoqXG4gKiBQdW5jdHVhbCBMaWdodHMgRXh0ZW5zaW9uXG4gKlxuICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX2xpZ2h0c19wdW5jdHVhbFxuICovXG5jbGFzcyBHTFRGTGlnaHRzRXh0ZW5zaW9uIHtcblxuXHRjb25zdHJ1Y3RvciggcGFyc2VyICkge1xuXG5cdFx0dGhpcy5wYXJzZXIgPSBwYXJzZXI7XG5cdFx0dGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfTElHSFRTX1BVTkNUVUFMO1xuXG5cdFx0Ly8gT2JqZWN0M0QgaW5zdGFuY2UgY2FjaGVzXG5cdFx0dGhpcy5jYWNoZSA9IHsgcmVmczoge30sIHVzZXM6IHt9IH07XG5cblx0fVxuXG5cdF9tYXJrRGVmcygpIHtcblxuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXMucGFyc2VyO1xuXHRcdGNvbnN0IG5vZGVEZWZzID0gdGhpcy5wYXJzZXIuanNvbi5ub2RlcyB8fCBbXTtcblxuXHRcdGZvciAoIGxldCBub2RlSW5kZXggPSAwLCBub2RlTGVuZ3RoID0gbm9kZURlZnMubGVuZ3RoOyBub2RlSW5kZXggPCBub2RlTGVuZ3RoOyBub2RlSW5kZXggKysgKSB7XG5cblx0XHRcdGNvbnN0IG5vZGVEZWYgPSBub2RlRGVmc1sgbm9kZUluZGV4IF07XG5cblx0XHRcdGlmICggbm9kZURlZi5leHRlbnNpb25zXG5cdFx0XHRcdFx0JiYgbm9kZURlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXVxuXHRcdFx0XHRcdCYmIG5vZGVEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF0ubGlnaHQgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRwYXJzZXIuX2FkZE5vZGVSZWYoIHRoaXMuY2FjaGUsIG5vZGVEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF0ubGlnaHQgKTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdH1cblxuXHRfbG9hZExpZ2h0KCBsaWdodEluZGV4ICkge1xuXG5cdFx0Y29uc3QgcGFyc2VyID0gdGhpcy5wYXJzZXI7XG5cdFx0Y29uc3QgY2FjaGVLZXkgPSAnbGlnaHQ6JyArIGxpZ2h0SW5kZXg7XG5cdFx0bGV0IGRlcGVuZGVuY3kgPSBwYXJzZXIuY2FjaGUuZ2V0KCBjYWNoZUtleSApO1xuXG5cdFx0aWYgKCBkZXBlbmRlbmN5ICkgcmV0dXJuIGRlcGVuZGVuY3k7XG5cblx0XHRjb25zdCBqc29uID0gcGFyc2VyLmpzb247XG5cdFx0Y29uc3QgZXh0ZW5zaW9ucyA9ICgganNvbi5leHRlbnNpb25zICYmIGpzb24uZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF0gKSB8fCB7fTtcblx0XHRjb25zdCBsaWdodERlZnMgPSBleHRlbnNpb25zLmxpZ2h0cyB8fCBbXTtcblx0XHRjb25zdCBsaWdodERlZiA9IGxpZ2h0RGVmc1sgbGlnaHRJbmRleCBdO1xuXHRcdGxldCBsaWdodE5vZGU7XG5cblx0XHRjb25zdCBjb2xvciA9IG5ldyBDb2xvciggMHhmZmZmZmYgKTtcblxuXHRcdGlmICggbGlnaHREZWYuY29sb3IgIT09IHVuZGVmaW5lZCApIGNvbG9yLmZyb21BcnJheSggbGlnaHREZWYuY29sb3IgKTtcblxuXHRcdGNvbnN0IHJhbmdlID0gbGlnaHREZWYucmFuZ2UgIT09IHVuZGVmaW5lZCA/IGxpZ2h0RGVmLnJhbmdlIDogMDtcblxuXHRcdHN3aXRjaCAoIGxpZ2h0RGVmLnR5cGUgKSB7XG5cblx0XHRcdGNhc2UgJ2RpcmVjdGlvbmFsJzpcblx0XHRcdFx0bGlnaHROb2RlID0gbmV3IERpcmVjdGlvbmFsTGlnaHQoIGNvbG9yICk7XG5cdFx0XHRcdGxpZ2h0Tm9kZS50YXJnZXQucG9zaXRpb24uc2V0KCAwLCAwLCAtIDEgKTtcblx0XHRcdFx0bGlnaHROb2RlLmFkZCggbGlnaHROb2RlLnRhcmdldCApO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAncG9pbnQnOlxuXHRcdFx0XHRsaWdodE5vZGUgPSBuZXcgUG9pbnRMaWdodCggY29sb3IgKTtcblx0XHRcdFx0bGlnaHROb2RlLmRpc3RhbmNlID0gcmFuZ2U7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdzcG90Jzpcblx0XHRcdFx0bGlnaHROb2RlID0gbmV3IFNwb3RMaWdodCggY29sb3IgKTtcblx0XHRcdFx0bGlnaHROb2RlLmRpc3RhbmNlID0gcmFuZ2U7XG5cdFx0XHRcdC8vIEhhbmRsZSBzcG90bGlnaHQgcHJvcGVydGllcy5cblx0XHRcdFx0bGlnaHREZWYuc3BvdCA9IGxpZ2h0RGVmLnNwb3QgfHwge307XG5cdFx0XHRcdGxpZ2h0RGVmLnNwb3QuaW5uZXJDb25lQW5nbGUgPSBsaWdodERlZi5zcG90LmlubmVyQ29uZUFuZ2xlICE9PSB1bmRlZmluZWQgPyBsaWdodERlZi5zcG90LmlubmVyQ29uZUFuZ2xlIDogMDtcblx0XHRcdFx0bGlnaHREZWYuc3BvdC5vdXRlckNvbmVBbmdsZSA9IGxpZ2h0RGVmLnNwb3Qub3V0ZXJDb25lQW5nbGUgIT09IHVuZGVmaW5lZCA/IGxpZ2h0RGVmLnNwb3Qub3V0ZXJDb25lQW5nbGUgOiBNYXRoLlBJIC8gNC4wO1xuXHRcdFx0XHRsaWdodE5vZGUuYW5nbGUgPSBsaWdodERlZi5zcG90Lm91dGVyQ29uZUFuZ2xlO1xuXHRcdFx0XHRsaWdodE5vZGUucGVudW1icmEgPSAxLjAgLSBsaWdodERlZi5zcG90LmlubmVyQ29uZUFuZ2xlIC8gbGlnaHREZWYuc3BvdC5vdXRlckNvbmVBbmdsZTtcblx0XHRcdFx0bGlnaHROb2RlLnRhcmdldC5wb3NpdGlvbi5zZXQoIDAsIDAsIC0gMSApO1xuXHRcdFx0XHRsaWdodE5vZGUuYWRkKCBsaWdodE5vZGUudGFyZ2V0ICk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoICdUSFJFRS5HTFRGTG9hZGVyOiBVbmV4cGVjdGVkIGxpZ2h0IHR5cGU6ICcgKyBsaWdodERlZi50eXBlICk7XG5cblx0XHR9XG5cblx0XHQvLyBTb21lIGxpZ2h0cyAoZS5nLiBzcG90KSBkZWZhdWx0IHRvIGEgcG9zaXRpb24gb3RoZXIgdGhhbiB0aGUgb3JpZ2luLiBSZXNldCB0aGUgcG9zaXRpb25cblx0XHQvLyBoZXJlLCBiZWNhdXNlIG5vZGUtbGV2ZWwgcGFyc2luZyB3aWxsIG9ubHkgb3ZlcnJpZGUgcG9zaXRpb24gaWYgZXhwbGljaXRseSBzcGVjaWZpZWQuXG5cdFx0bGlnaHROb2RlLnBvc2l0aW9uLnNldCggMCwgMCwgMCApO1xuXG5cdFx0bGlnaHROb2RlLmRlY2F5ID0gMjtcblxuXHRcdGlmICggbGlnaHREZWYuaW50ZW5zaXR5ICE9PSB1bmRlZmluZWQgKSBsaWdodE5vZGUuaW50ZW5zaXR5ID0gbGlnaHREZWYuaW50ZW5zaXR5O1xuXG5cdFx0bGlnaHROb2RlLm5hbWUgPSBwYXJzZXIuY3JlYXRlVW5pcXVlTmFtZSggbGlnaHREZWYubmFtZSB8fCAoICdsaWdodF8nICsgbGlnaHRJbmRleCApICk7XG5cblx0XHRkZXBlbmRlbmN5ID0gUHJvbWlzZS5yZXNvbHZlKCBsaWdodE5vZGUgKTtcblxuXHRcdHBhcnNlci5jYWNoZS5hZGQoIGNhY2hlS2V5LCBkZXBlbmRlbmN5ICk7XG5cblx0XHRyZXR1cm4gZGVwZW5kZW5jeTtcblxuXHR9XG5cblx0Y3JlYXRlTm9kZUF0dGFjaG1lbnQoIG5vZGVJbmRleCApIHtcblxuXHRcdGNvbnN0IHNlbGYgPSB0aGlzO1xuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXMucGFyc2VyO1xuXHRcdGNvbnN0IGpzb24gPSBwYXJzZXIuanNvbjtcblx0XHRjb25zdCBub2RlRGVmID0ganNvbi5ub2Rlc1sgbm9kZUluZGV4IF07XG5cdFx0Y29uc3QgbGlnaHREZWYgPSAoIG5vZGVEZWYuZXh0ZW5zaW9ucyAmJiBub2RlRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdICkgfHwge307XG5cdFx0Y29uc3QgbGlnaHRJbmRleCA9IGxpZ2h0RGVmLmxpZ2h0O1xuXG5cdFx0aWYgKCBsaWdodEluZGV4ID09PSB1bmRlZmluZWQgKSByZXR1cm4gbnVsbDtcblxuXHRcdHJldHVybiB0aGlzLl9sb2FkTGlnaHQoIGxpZ2h0SW5kZXggKS50aGVuKCBmdW5jdGlvbiAoIGxpZ2h0ICkge1xuXG5cdFx0XHRyZXR1cm4gcGFyc2VyLl9nZXROb2RlUmVmKCBzZWxmLmNhY2hlLCBsaWdodEluZGV4LCBsaWdodCApO1xuXG5cdFx0fSApO1xuXG5cdH1cblxufVxuXG4vKipcbiAqIFVubGl0IE1hdGVyaWFscyBFeHRlbnNpb25cbiAqXG4gKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfbWF0ZXJpYWxzX3VubGl0XG4gKi9cbmNsYXNzIEdMVEZNYXRlcmlhbHNVbmxpdEV4dGVuc2lvbiB7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cblx0XHR0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfVU5MSVQ7XG5cblx0fVxuXG5cdGdldE1hdGVyaWFsVHlwZSgpIHtcblxuXHRcdHJldHVybiBNZXNoQmFzaWNNYXRlcmlhbDtcblxuXHR9XG5cblx0ZXh0ZW5kUGFyYW1zKCBtYXRlcmlhbFBhcmFtcywgbWF0ZXJpYWxEZWYsIHBhcnNlciApIHtcblxuXHRcdGNvbnN0IHBlbmRpbmcgPSBbXTtcblxuXHRcdG1hdGVyaWFsUGFyYW1zLmNvbG9yID0gbmV3IENvbG9yKCAxLjAsIDEuMCwgMS4wICk7XG5cdFx0bWF0ZXJpYWxQYXJhbXMub3BhY2l0eSA9IDEuMDtcblxuXHRcdGNvbnN0IG1ldGFsbGljUm91Z2huZXNzID0gbWF0ZXJpYWxEZWYucGJyTWV0YWxsaWNSb3VnaG5lc3M7XG5cblx0XHRpZiAoIG1ldGFsbGljUm91Z2huZXNzICkge1xuXG5cdFx0XHRpZiAoIEFycmF5LmlzQXJyYXkoIG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvckZhY3RvciApICkge1xuXG5cdFx0XHRcdGNvbnN0IGFycmF5ID0gbWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yRmFjdG9yO1xuXG5cdFx0XHRcdG1hdGVyaWFsUGFyYW1zLmNvbG9yLmZyb21BcnJheSggYXJyYXkgKTtcblx0XHRcdFx0bWF0ZXJpYWxQYXJhbXMub3BhY2l0eSA9IGFycmF5WyAzIF07XG5cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JUZXh0dXJlICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0cGVuZGluZy5wdXNoKCBwYXJzZXIuYXNzaWduVGV4dHVyZSggbWF0ZXJpYWxQYXJhbXMsICdtYXAnLCBtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JUZXh0dXJlICkgKTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIFByb21pc2UuYWxsKCBwZW5kaW5nICk7XG5cblx0fVxuXG59XG5cbi8qKlxuICogQ2xlYXJjb2F0IE1hdGVyaWFscyBFeHRlbnNpb25cbiAqXG4gKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfbWF0ZXJpYWxzX2NsZWFyY29hdFxuICovXG5jbGFzcyBHTFRGTWF0ZXJpYWxzQ2xlYXJjb2F0RXh0ZW5zaW9uIHtcblxuXHRjb25zdHJ1Y3RvciggcGFyc2VyICkge1xuXG5cdFx0dGhpcy5wYXJzZXIgPSBwYXJzZXI7XG5cdFx0dGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX0NMRUFSQ09BVDtcblxuXHR9XG5cblx0Z2V0TWF0ZXJpYWxUeXBlKCBtYXRlcmlhbEluZGV4ICkge1xuXG5cdFx0Y29uc3QgcGFyc2VyID0gdGhpcy5wYXJzZXI7XG5cdFx0Y29uc3QgbWF0ZXJpYWxEZWYgPSBwYXJzZXIuanNvbi5tYXRlcmlhbHNbIG1hdGVyaWFsSW5kZXggXTtcblxuXHRcdGlmICggISBtYXRlcmlhbERlZi5leHRlbnNpb25zIHx8ICEgbWF0ZXJpYWxEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF0gKSByZXR1cm4gbnVsbDtcblxuXHRcdHJldHVybiBNZXNoUGh5c2ljYWxNYXRlcmlhbDtcblxuXHR9XG5cblx0ZXh0ZW5kTWF0ZXJpYWxQYXJhbXMoIG1hdGVyaWFsSW5kZXgsIG1hdGVyaWFsUGFyYW1zICkge1xuXG5cdFx0Y29uc3QgcGFyc2VyID0gdGhpcy5wYXJzZXI7XG5cdFx0Y29uc3QgbWF0ZXJpYWxEZWYgPSBwYXJzZXIuanNvbi5tYXRlcmlhbHNbIG1hdGVyaWFsSW5kZXggXTtcblxuXHRcdGlmICggISBtYXRlcmlhbERlZi5leHRlbnNpb25zIHx8ICEgbWF0ZXJpYWxEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF0gKSB7XG5cblx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IHBlbmRpbmcgPSBbXTtcblxuXHRcdGNvbnN0IGV4dGVuc2lvbiA9IG1hdGVyaWFsRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdO1xuXG5cdFx0aWYgKCBleHRlbnNpb24uY2xlYXJjb2F0RmFjdG9yICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdG1hdGVyaWFsUGFyYW1zLmNsZWFyY29hdCA9IGV4dGVuc2lvbi5jbGVhcmNvYXRGYWN0b3I7XG5cblx0XHR9XG5cblx0XHRpZiAoIGV4dGVuc2lvbi5jbGVhcmNvYXRUZXh0dXJlICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdHBlbmRpbmcucHVzaCggcGFyc2VyLmFzc2lnblRleHR1cmUoIG1hdGVyaWFsUGFyYW1zLCAnY2xlYXJjb2F0TWFwJywgZXh0ZW5zaW9uLmNsZWFyY29hdFRleHR1cmUgKSApO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBleHRlbnNpb24uY2xlYXJjb2F0Um91Z2huZXNzRmFjdG9yICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdG1hdGVyaWFsUGFyYW1zLmNsZWFyY29hdFJvdWdobmVzcyA9IGV4dGVuc2lvbi5jbGVhcmNvYXRSb3VnaG5lc3NGYWN0b3I7XG5cblx0XHR9XG5cblx0XHRpZiAoIGV4dGVuc2lvbi5jbGVhcmNvYXRSb3VnaG5lc3NUZXh0dXJlICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdHBlbmRpbmcucHVzaCggcGFyc2VyLmFzc2lnblRleHR1cmUoIG1hdGVyaWFsUGFyYW1zLCAnY2xlYXJjb2F0Um91Z2huZXNzTWFwJywgZXh0ZW5zaW9uLmNsZWFyY29hdFJvdWdobmVzc1RleHR1cmUgKSApO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBleHRlbnNpb24uY2xlYXJjb2F0Tm9ybWFsVGV4dHVyZSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRwZW5kaW5nLnB1c2goIHBhcnNlci5hc3NpZ25UZXh0dXJlKCBtYXRlcmlhbFBhcmFtcywgJ2NsZWFyY29hdE5vcm1hbE1hcCcsIGV4dGVuc2lvbi5jbGVhcmNvYXROb3JtYWxUZXh0dXJlICkgKTtcblxuXHRcdFx0aWYgKCBleHRlbnNpb24uY2xlYXJjb2F0Tm9ybWFsVGV4dHVyZS5zY2FsZSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdGNvbnN0IHNjYWxlID0gZXh0ZW5zaW9uLmNsZWFyY29hdE5vcm1hbFRleHR1cmUuc2NhbGU7XG5cblx0XHRcdFx0bWF0ZXJpYWxQYXJhbXMuY2xlYXJjb2F0Tm9ybWFsU2NhbGUgPSBuZXcgVmVjdG9yMiggc2NhbGUsIHNjYWxlICk7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdHJldHVybiBQcm9taXNlLmFsbCggcGVuZGluZyApO1xuXG5cdH1cblxufVxuXG4vKipcbiAqIFRyYW5zbWlzc2lvbiBNYXRlcmlhbHMgRXh0ZW5zaW9uXG4gKlxuICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX21hdGVyaWFsc190cmFuc21pc3Npb25cbiAqIERyYWZ0OiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvcHVsbC8xNjk4XG4gKi9cbmNsYXNzIEdMVEZNYXRlcmlhbHNUcmFuc21pc3Npb25FeHRlbnNpb24ge1xuXG5cdGNvbnN0cnVjdG9yKCBwYXJzZXIgKSB7XG5cblx0XHR0aGlzLnBhcnNlciA9IHBhcnNlcjtcblx0XHR0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfVFJBTlNNSVNTSU9OO1xuXG5cdH1cblxuXHRnZXRNYXRlcmlhbFR5cGUoIG1hdGVyaWFsSW5kZXggKSB7XG5cblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjtcblx0XHRjb25zdCBtYXRlcmlhbERlZiA9IHBhcnNlci5qc29uLm1hdGVyaWFsc1sgbWF0ZXJpYWxJbmRleCBdO1xuXG5cdFx0aWYgKCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnMgfHwgISBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXSApIHJldHVybiBudWxsO1xuXG5cdFx0cmV0dXJuIE1lc2hQaHlzaWNhbE1hdGVyaWFsO1xuXG5cdH1cblxuXHRleHRlbmRNYXRlcmlhbFBhcmFtcyggbWF0ZXJpYWxJbmRleCwgbWF0ZXJpYWxQYXJhbXMgKSB7XG5cblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjtcblx0XHRjb25zdCBtYXRlcmlhbERlZiA9IHBhcnNlci5qc29uLm1hdGVyaWFsc1sgbWF0ZXJpYWxJbmRleCBdO1xuXG5cdFx0aWYgKCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnMgfHwgISBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXSApIHtcblxuXHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgcGVuZGluZyA9IFtdO1xuXG5cdFx0Y29uc3QgZXh0ZW5zaW9uID0gbWF0ZXJpYWxEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF07XG5cblx0XHRpZiAoIGV4dGVuc2lvbi50cmFuc21pc3Npb25GYWN0b3IgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0bWF0ZXJpYWxQYXJhbXMudHJhbnNtaXNzaW9uID0gZXh0ZW5zaW9uLnRyYW5zbWlzc2lvbkZhY3RvcjtcblxuXHRcdH1cblxuXHRcdGlmICggZXh0ZW5zaW9uLnRyYW5zbWlzc2lvblRleHR1cmUgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0cGVuZGluZy5wdXNoKCBwYXJzZXIuYXNzaWduVGV4dHVyZSggbWF0ZXJpYWxQYXJhbXMsICd0cmFuc21pc3Npb25NYXAnLCBleHRlbnNpb24udHJhbnNtaXNzaW9uVGV4dHVyZSApICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gUHJvbWlzZS5hbGwoIHBlbmRpbmcgKTtcblxuXHR9XG5cbn1cblxuLyoqXG4gKiBNYXRlcmlhbHMgVm9sdW1lIEV4dGVuc2lvblxuICpcbiAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9tYXRlcmlhbHNfdm9sdW1lXG4gKi9cbmNsYXNzIEdMVEZNYXRlcmlhbHNWb2x1bWVFeHRlbnNpb24ge1xuXG5cdGNvbnN0cnVjdG9yKCBwYXJzZXIgKSB7XG5cblx0XHR0aGlzLnBhcnNlciA9IHBhcnNlcjtcblx0XHR0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfVk9MVU1FO1xuXG5cdH1cblxuXHRnZXRNYXRlcmlhbFR5cGUoIG1hdGVyaWFsSW5kZXggKSB7XG5cblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjtcblx0XHRjb25zdCBtYXRlcmlhbERlZiA9IHBhcnNlci5qc29uLm1hdGVyaWFsc1sgbWF0ZXJpYWxJbmRleCBdO1xuXG5cdFx0aWYgKCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnMgfHwgISBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXSApIHJldHVybiBudWxsO1xuXG5cdFx0cmV0dXJuIE1lc2hQaHlzaWNhbE1hdGVyaWFsO1xuXG5cdH1cblxuXHRleHRlbmRNYXRlcmlhbFBhcmFtcyggbWF0ZXJpYWxJbmRleCwgbWF0ZXJpYWxQYXJhbXMgKSB7XG5cblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjtcblx0XHRjb25zdCBtYXRlcmlhbERlZiA9IHBhcnNlci5qc29uLm1hdGVyaWFsc1sgbWF0ZXJpYWxJbmRleCBdO1xuXG5cdFx0aWYgKCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnMgfHwgISBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXSApIHtcblxuXHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgcGVuZGluZyA9IFtdO1xuXG5cdFx0Y29uc3QgZXh0ZW5zaW9uID0gbWF0ZXJpYWxEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF07XG5cblx0XHRtYXRlcmlhbFBhcmFtcy50aGlja25lc3MgPSBleHRlbnNpb24udGhpY2tuZXNzRmFjdG9yICE9PSB1bmRlZmluZWQgPyBleHRlbnNpb24udGhpY2tuZXNzRmFjdG9yIDogMDtcblxuXHRcdGlmICggZXh0ZW5zaW9uLnRoaWNrbmVzc1RleHR1cmUgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0cGVuZGluZy5wdXNoKCBwYXJzZXIuYXNzaWduVGV4dHVyZSggbWF0ZXJpYWxQYXJhbXMsICd0aGlja25lc3NNYXAnLCBleHRlbnNpb24udGhpY2tuZXNzVGV4dHVyZSApICk7XG5cblx0XHR9XG5cblx0XHRtYXRlcmlhbFBhcmFtcy5hdHRlbnVhdGlvbkRpc3RhbmNlID0gZXh0ZW5zaW9uLmF0dGVudWF0aW9uRGlzdGFuY2UgfHwgMDtcblxuXHRcdGNvbnN0IGNvbG9yQXJyYXkgPSBleHRlbnNpb24uYXR0ZW51YXRpb25Db2xvciB8fCBbIDEsIDEsIDEgXTtcblx0XHRtYXRlcmlhbFBhcmFtcy5hdHRlbnVhdGlvblRpbnQgPSBuZXcgQ29sb3IoIGNvbG9yQXJyYXlbIDAgXSwgY29sb3JBcnJheVsgMSBdLCBjb2xvckFycmF5WyAyIF0gKTtcblxuXHRcdHJldHVybiBQcm9taXNlLmFsbCggcGVuZGluZyApO1xuXG5cdH1cblxufVxuXG4vKipcbiAqIE1hdGVyaWFscyBpb3IgRXh0ZW5zaW9uXG4gKlxuICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX21hdGVyaWFsc19pb3JcbiAqL1xuY2xhc3MgR0xURk1hdGVyaWFsc0lvckV4dGVuc2lvbiB7XG5cblx0Y29uc3RydWN0b3IoIHBhcnNlciApIHtcblxuXHRcdHRoaXMucGFyc2VyID0gcGFyc2VyO1xuXHRcdHRoaXMubmFtZSA9IEVYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19JT1I7XG5cblx0fVxuXG5cdGdldE1hdGVyaWFsVHlwZSggbWF0ZXJpYWxJbmRleCApIHtcblxuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXMucGFyc2VyO1xuXHRcdGNvbnN0IG1hdGVyaWFsRGVmID0gcGFyc2VyLmpzb24ubWF0ZXJpYWxzWyBtYXRlcmlhbEluZGV4IF07XG5cblx0XHRpZiAoICEgbWF0ZXJpYWxEZWYuZXh0ZW5zaW9ucyB8fCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdICkgcmV0dXJuIG51bGw7XG5cblx0XHRyZXR1cm4gTWVzaFBoeXNpY2FsTWF0ZXJpYWw7XG5cblx0fVxuXG5cdGV4dGVuZE1hdGVyaWFsUGFyYW1zKCBtYXRlcmlhbEluZGV4LCBtYXRlcmlhbFBhcmFtcyApIHtcblxuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXMucGFyc2VyO1xuXHRcdGNvbnN0IG1hdGVyaWFsRGVmID0gcGFyc2VyLmpzb24ubWF0ZXJpYWxzWyBtYXRlcmlhbEluZGV4IF07XG5cblx0XHRpZiAoICEgbWF0ZXJpYWxEZWYuZXh0ZW5zaW9ucyB8fCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdICkge1xuXG5cdFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG5cblx0XHR9XG5cblx0XHRjb25zdCBleHRlbnNpb24gPSBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXTtcblxuXHRcdG1hdGVyaWFsUGFyYW1zLmlvciA9IGV4dGVuc2lvbi5pb3IgIT09IHVuZGVmaW5lZCA/IGV4dGVuc2lvbi5pb3IgOiAxLjU7XG5cblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG5cblx0fVxuXG59XG5cbi8qKlxuICogTWF0ZXJpYWxzIHNwZWN1bGFyIEV4dGVuc2lvblxuICpcbiAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9tYXRlcmlhbHNfc3BlY3VsYXJcbiAqL1xuY2xhc3MgR0xURk1hdGVyaWFsc1NwZWN1bGFyRXh0ZW5zaW9uIHtcblxuXHRjb25zdHJ1Y3RvciggcGFyc2VyICkge1xuXG5cdFx0dGhpcy5wYXJzZXIgPSBwYXJzZXI7XG5cdFx0dGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1NQRUNVTEFSO1xuXG5cdH1cblxuXHRnZXRNYXRlcmlhbFR5cGUoIG1hdGVyaWFsSW5kZXggKSB7XG5cblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjtcblx0XHRjb25zdCBtYXRlcmlhbERlZiA9IHBhcnNlci5qc29uLm1hdGVyaWFsc1sgbWF0ZXJpYWxJbmRleCBdO1xuXG5cdFx0aWYgKCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnMgfHwgISBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXSApIHJldHVybiBudWxsO1xuXG5cdFx0cmV0dXJuIE1lc2hQaHlzaWNhbE1hdGVyaWFsO1xuXG5cdH1cblxuXHRleHRlbmRNYXRlcmlhbFBhcmFtcyggbWF0ZXJpYWxJbmRleCwgbWF0ZXJpYWxQYXJhbXMgKSB7XG5cblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjtcblx0XHRjb25zdCBtYXRlcmlhbERlZiA9IHBhcnNlci5qc29uLm1hdGVyaWFsc1sgbWF0ZXJpYWxJbmRleCBdO1xuXG5cdFx0aWYgKCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnMgfHwgISBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXSApIHtcblxuXHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgcGVuZGluZyA9IFtdO1xuXG5cdFx0Y29uc3QgZXh0ZW5zaW9uID0gbWF0ZXJpYWxEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF07XG5cblx0XHRtYXRlcmlhbFBhcmFtcy5zcGVjdWxhckludGVuc2l0eSA9IGV4dGVuc2lvbi5zcGVjdWxhckZhY3RvciAhPT0gdW5kZWZpbmVkID8gZXh0ZW5zaW9uLnNwZWN1bGFyRmFjdG9yIDogMS4wO1xuXG5cdFx0aWYgKCBleHRlbnNpb24uc3BlY3VsYXJUZXh0dXJlICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdHBlbmRpbmcucHVzaCggcGFyc2VyLmFzc2lnblRleHR1cmUoIG1hdGVyaWFsUGFyYW1zLCAnc3BlY3VsYXJJbnRlbnNpdHlNYXAnLCBleHRlbnNpb24uc3BlY3VsYXJUZXh0dXJlICkgKTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IGNvbG9yQXJyYXkgPSBleHRlbnNpb24uc3BlY3VsYXJDb2xvckZhY3RvciB8fCBbIDEsIDEsIDEgXTtcblx0XHRtYXRlcmlhbFBhcmFtcy5zcGVjdWxhclRpbnQgPSBuZXcgQ29sb3IoIGNvbG9yQXJyYXlbIDAgXSwgY29sb3JBcnJheVsgMSBdLCBjb2xvckFycmF5WyAyIF0gKTtcblxuXHRcdGlmICggZXh0ZW5zaW9uLnNwZWN1bGFyQ29sb3JUZXh0dXJlICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdHBlbmRpbmcucHVzaCggcGFyc2VyLmFzc2lnblRleHR1cmUoIG1hdGVyaWFsUGFyYW1zLCAnc3BlY3VsYXJUaW50TWFwJywgZXh0ZW5zaW9uLnNwZWN1bGFyQ29sb3JUZXh0dXJlICkudGhlbiggZnVuY3Rpb24gKCB0ZXh0dXJlICkge1xuXG5cdFx0XHRcdHRleHR1cmUuZW5jb2RpbmcgPSBzUkdCRW5jb2Rpbmc7XG5cblx0XHRcdH0gKSApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIFByb21pc2UuYWxsKCBwZW5kaW5nICk7XG5cblx0fVxuXG59XG5cbi8qKlxuICogQmFzaXNVIFRleHR1cmUgRXh0ZW5zaW9uXG4gKlxuICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX3RleHR1cmVfYmFzaXN1XG4gKi9cbmNsYXNzIEdMVEZUZXh0dXJlQmFzaXNVRXh0ZW5zaW9uIHtcblxuXHRjb25zdHJ1Y3RvciggcGFyc2VyICkge1xuXG5cdFx0dGhpcy5wYXJzZXIgPSBwYXJzZXI7XG5cdFx0dGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfVEVYVFVSRV9CQVNJU1U7XG5cblx0fVxuXG5cdGxvYWRUZXh0dXJlKCB0ZXh0dXJlSW5kZXggKSB7XG5cblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjtcblx0XHRjb25zdCBqc29uID0gcGFyc2VyLmpzb247XG5cblx0XHRjb25zdCB0ZXh0dXJlRGVmID0ganNvbi50ZXh0dXJlc1sgdGV4dHVyZUluZGV4IF07XG5cblx0XHRpZiAoICEgdGV4dHVyZURlZi5leHRlbnNpb25zIHx8ICEgdGV4dHVyZURlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXSApIHtcblxuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHR9XG5cblx0XHRjb25zdCBleHRlbnNpb24gPSB0ZXh0dXJlRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdO1xuXHRcdGNvbnN0IHNvdXJjZSA9IGpzb24uaW1hZ2VzWyBleHRlbnNpb24uc291cmNlIF07XG5cdFx0Y29uc3QgbG9hZGVyID0gcGFyc2VyLm9wdGlvbnMua3R4MkxvYWRlcjtcblxuXHRcdGlmICggISBsb2FkZXIgKSB7XG5cblx0XHRcdGlmICgganNvbi5leHRlbnNpb25zUmVxdWlyZWQgJiYganNvbi5leHRlbnNpb25zUmVxdWlyZWQuaW5kZXhPZiggdGhpcy5uYW1lICkgPj0gMCApIHtcblxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoICdUSFJFRS5HTFRGTG9hZGVyOiBzZXRLVFgyTG9hZGVyIG11c3QgYmUgY2FsbGVkIGJlZm9yZSBsb2FkaW5nIEtUWDIgdGV4dHVyZXMnICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gQXNzdW1lcyB0aGF0IHRoZSBleHRlbnNpb24gaXMgb3B0aW9uYWwgYW5kIHRoYXQgYSBmYWxsYmFjayB0ZXh0dXJlIGlzIHByZXNlbnRcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdHJldHVybiBwYXJzZXIubG9hZFRleHR1cmVJbWFnZSggdGV4dHVyZUluZGV4LCBzb3VyY2UsIGxvYWRlciApO1xuXG5cdH1cblxufVxuXG4vKipcbiAqIFdlYlAgVGV4dHVyZSBFeHRlbnNpb25cbiAqXG4gKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvVmVuZG9yL0VYVF90ZXh0dXJlX3dlYnBcbiAqL1xuY2xhc3MgR0xURlRleHR1cmVXZWJQRXh0ZW5zaW9uIHtcblxuXHRjb25zdHJ1Y3RvciggcGFyc2VyICkge1xuXG5cdFx0dGhpcy5wYXJzZXIgPSBwYXJzZXI7XG5cdFx0dGhpcy5uYW1lID0gRVhURU5TSU9OUy5FWFRfVEVYVFVSRV9XRUJQO1xuXHRcdHRoaXMuaXNTdXBwb3J0ZWQgPSBudWxsO1xuXG5cdH1cblxuXHRsb2FkVGV4dHVyZSggdGV4dHVyZUluZGV4ICkge1xuXG5cdFx0Y29uc3QgbmFtZSA9IHRoaXMubmFtZTtcblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjtcblx0XHRjb25zdCBqc29uID0gcGFyc2VyLmpzb247XG5cblx0XHRjb25zdCB0ZXh0dXJlRGVmID0ganNvbi50ZXh0dXJlc1sgdGV4dHVyZUluZGV4IF07XG5cblx0XHRpZiAoICEgdGV4dHVyZURlZi5leHRlbnNpb25zIHx8ICEgdGV4dHVyZURlZi5leHRlbnNpb25zWyBuYW1lIF0gKSB7XG5cblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgZXh0ZW5zaW9uID0gdGV4dHVyZURlZi5leHRlbnNpb25zWyBuYW1lIF07XG5cdFx0Y29uc3Qgc291cmNlID0ganNvbi5pbWFnZXNbIGV4dGVuc2lvbi5zb3VyY2UgXTtcblxuXHRcdGxldCBsb2FkZXIgPSBwYXJzZXIudGV4dHVyZUxvYWRlcjtcblx0XHRpZiAoIHNvdXJjZS51cmkgKSB7XG5cblx0XHRcdGNvbnN0IGhhbmRsZXIgPSBwYXJzZXIub3B0aW9ucy5tYW5hZ2VyLmdldEhhbmRsZXIoIHNvdXJjZS51cmkgKTtcblx0XHRcdGlmICggaGFuZGxlciAhPT0gbnVsbCApIGxvYWRlciA9IGhhbmRsZXI7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5kZXRlY3RTdXBwb3J0KCkudGhlbiggZnVuY3Rpb24gKCBpc1N1cHBvcnRlZCApIHtcblxuXHRcdFx0aWYgKCBpc1N1cHBvcnRlZCApIHJldHVybiBwYXJzZXIubG9hZFRleHR1cmVJbWFnZSggdGV4dHVyZUluZGV4LCBzb3VyY2UsIGxvYWRlciApO1xuXG5cdFx0XHRpZiAoIGpzb24uZXh0ZW5zaW9uc1JlcXVpcmVkICYmIGpzb24uZXh0ZW5zaW9uc1JlcXVpcmVkLmluZGV4T2YoIG5hbWUgKSA+PSAwICkge1xuXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvciggJ1RIUkVFLkdMVEZMb2FkZXI6IFdlYlAgcmVxdWlyZWQgYnkgYXNzZXQgYnV0IHVuc3VwcG9ydGVkLicgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHQvLyBGYWxsIGJhY2sgdG8gUE5HIG9yIEpQRUcuXG5cdFx0XHRyZXR1cm4gcGFyc2VyLmxvYWRUZXh0dXJlKCB0ZXh0dXJlSW5kZXggKTtcblxuXHRcdH0gKTtcblxuXHR9XG5cblx0ZGV0ZWN0U3VwcG9ydCgpIHtcblxuXHRcdGlmICggISB0aGlzLmlzU3VwcG9ydGVkICkge1xuXG5cdFx0XHR0aGlzLmlzU3VwcG9ydGVkID0gbmV3IFByb21pc2UoIGZ1bmN0aW9uICggcmVzb2x2ZSApIHtcblxuXHRcdFx0XHRjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG5cdFx0XHRcdC8vIExvc3N5IHRlc3QgaW1hZ2UuIFN1cHBvcnQgZm9yIGxvc3N5IGltYWdlcyBkb2Vzbid0IGd1YXJhbnRlZSBzdXBwb3J0IGZvciBhbGxcblx0XHRcdFx0Ly8gV2ViUCBpbWFnZXMsIHVuZm9ydHVuYXRlbHkuXG5cdFx0XHRcdGltYWdlLnNyYyA9ICdkYXRhOmltYWdlL3dlYnA7YmFzZTY0LFVrbEdSaUlBQUFCWFJVSlFWbEE0SUJZQUFBQXdBUUNkQVNvQkFBRUFEc0QrSmFRQUEzQUFBQUFBJztcblxuXHRcdFx0XHRpbWFnZS5vbmxvYWQgPSBpbWFnZS5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRcdFx0cmVzb2x2ZSggaW1hZ2UuaGVpZ2h0ID09PSAxICk7XG5cblx0XHRcdFx0fTtcblxuXHRcdFx0fSApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuaXNTdXBwb3J0ZWQ7XG5cblx0fVxuXG59XG5cbi8qKlxuICogbWVzaG9wdCBCdWZmZXJWaWV3IENvbXByZXNzaW9uIEV4dGVuc2lvblxuICpcbiAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9WZW5kb3IvRVhUX21lc2hvcHRfY29tcHJlc3Npb25cbiAqL1xuY2xhc3MgR0xURk1lc2hvcHRDb21wcmVzc2lvbiB7XG5cblx0Y29uc3RydWN0b3IoIHBhcnNlciApIHtcblxuXHRcdHRoaXMubmFtZSA9IEVYVEVOU0lPTlMuRVhUX01FU0hPUFRfQ09NUFJFU1NJT047XG5cdFx0dGhpcy5wYXJzZXIgPSBwYXJzZXI7XG5cblx0fVxuXG5cdGxvYWRCdWZmZXJWaWV3KCBpbmRleCApIHtcblxuXHRcdGNvbnN0IGpzb24gPSB0aGlzLnBhcnNlci5qc29uO1xuXHRcdGNvbnN0IGJ1ZmZlclZpZXcgPSBqc29uLmJ1ZmZlclZpZXdzWyBpbmRleCBdO1xuXG5cdFx0aWYgKCBidWZmZXJWaWV3LmV4dGVuc2lvbnMgJiYgYnVmZmVyVmlldy5leHRlbnNpb25zWyB0aGlzLm5hbWUgXSApIHtcblxuXHRcdFx0Y29uc3QgZXh0ZW5zaW9uRGVmID0gYnVmZmVyVmlldy5leHRlbnNpb25zWyB0aGlzLm5hbWUgXTtcblxuXHRcdFx0Y29uc3QgYnVmZmVyID0gdGhpcy5wYXJzZXIuZ2V0RGVwZW5kZW5jeSggJ2J1ZmZlcicsIGV4dGVuc2lvbkRlZi5idWZmZXIgKTtcblx0XHRcdGNvbnN0IGRlY29kZXIgPSB0aGlzLnBhcnNlci5vcHRpb25zLm1lc2hvcHREZWNvZGVyO1xuXG5cdFx0XHRpZiAoICEgZGVjb2RlciB8fCAhIGRlY29kZXIuc3VwcG9ydGVkICkge1xuXG5cdFx0XHRcdGlmICgganNvbi5leHRlbnNpb25zUmVxdWlyZWQgJiYganNvbi5leHRlbnNpb25zUmVxdWlyZWQuaW5kZXhPZiggdGhpcy5uYW1lICkgPj0gMCApIHtcblxuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvciggJ1RIUkVFLkdMVEZMb2FkZXI6IHNldE1lc2hvcHREZWNvZGVyIG11c3QgYmUgY2FsbGVkIGJlZm9yZSBsb2FkaW5nIGNvbXByZXNzZWQgZmlsZXMnICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdC8vIEFzc3VtZXMgdGhhdCB0aGUgZXh0ZW5zaW9uIGlzIG9wdGlvbmFsIGFuZCB0aGF0IGZhbGxiYWNrIGJ1ZmZlciBkYXRhIGlzIHByZXNlbnRcblx0XHRcdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIFByb21pc2UuYWxsKCBbIGJ1ZmZlciwgZGVjb2Rlci5yZWFkeSBdICkudGhlbiggZnVuY3Rpb24gKCByZXMgKSB7XG5cblx0XHRcdFx0Y29uc3QgYnl0ZU9mZnNldCA9IGV4dGVuc2lvbkRlZi5ieXRlT2Zmc2V0IHx8IDA7XG5cdFx0XHRcdGNvbnN0IGJ5dGVMZW5ndGggPSBleHRlbnNpb25EZWYuYnl0ZUxlbmd0aCB8fCAwO1xuXG5cdFx0XHRcdGNvbnN0IGNvdW50ID0gZXh0ZW5zaW9uRGVmLmNvdW50O1xuXHRcdFx0XHRjb25zdCBzdHJpZGUgPSBleHRlbnNpb25EZWYuYnl0ZVN0cmlkZTtcblxuXHRcdFx0XHRjb25zdCByZXN1bHQgPSBuZXcgQXJyYXlCdWZmZXIoIGNvdW50ICogc3RyaWRlICk7XG5cdFx0XHRcdGNvbnN0IHNvdXJjZSA9IG5ldyBVaW50OEFycmF5KCByZXNbIDAgXSwgYnl0ZU9mZnNldCwgYnl0ZUxlbmd0aCApO1xuXG5cdFx0XHRcdGRlY29kZXIuZGVjb2RlR2x0ZkJ1ZmZlciggbmV3IFVpbnQ4QXJyYXkoIHJlc3VsdCApLCBjb3VudCwgc3RyaWRlLCBzb3VyY2UsIGV4dGVuc2lvbkRlZi5tb2RlLCBleHRlbnNpb25EZWYuZmlsdGVyICk7XG5cdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cblx0XHRcdH0gKTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdH1cblxufVxuXG4vKiBCSU5BUlkgRVhURU5TSU9OICovXG5jb25zdCBCSU5BUllfRVhURU5TSU9OX0hFQURFUl9NQUdJQyA9ICdnbFRGJztcbmNvbnN0IEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX0xFTkdUSCA9IDEyO1xuY29uc3QgQklOQVJZX0VYVEVOU0lPTl9DSFVOS19UWVBFUyA9IHsgSlNPTjogMHg0RTRGNTM0QSwgQklOOiAweDAwNEU0OTQyIH07XG5cbmNsYXNzIEdMVEZCaW5hcnlFeHRlbnNpb24ge1xuXG5cdGNvbnN0cnVjdG9yKCBkYXRhICkge1xuXG5cdFx0dGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfQklOQVJZX0dMVEY7XG5cdFx0dGhpcy5jb250ZW50ID0gbnVsbDtcblx0XHR0aGlzLmJvZHkgPSBudWxsO1xuXG5cdFx0Y29uc3QgaGVhZGVyVmlldyA9IG5ldyBEYXRhVmlldyggZGF0YSwgMCwgQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTEVOR1RIICk7XG5cblx0XHR0aGlzLmhlYWRlciA9IHtcblx0XHRcdG1hZ2ljOiBMb2FkZXJVdGlscy5kZWNvZGVUZXh0KCBuZXcgVWludDhBcnJheSggZGF0YS5zbGljZSggMCwgNCApICkgKSxcblx0XHRcdHZlcnNpb246IGhlYWRlclZpZXcuZ2V0VWludDMyKCA0LCB0cnVlICksXG5cdFx0XHRsZW5ndGg6IGhlYWRlclZpZXcuZ2V0VWludDMyKCA4LCB0cnVlIClcblx0XHR9O1xuXG5cdFx0aWYgKCB0aGlzLmhlYWRlci5tYWdpYyAhPT0gQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTUFHSUMgKSB7XG5cblx0XHRcdHRocm93IG5ldyBFcnJvciggJ1RIUkVFLkdMVEZMb2FkZXI6IFVuc3VwcG9ydGVkIGdsVEYtQmluYXJ5IGhlYWRlci4nICk7XG5cblx0XHR9IGVsc2UgaWYgKCB0aGlzLmhlYWRlci52ZXJzaW9uIDwgMi4wICkge1xuXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoICdUSFJFRS5HTFRGTG9hZGVyOiBMZWdhY3kgYmluYXJ5IGZpbGUgZGV0ZWN0ZWQuJyApO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgY2h1bmtDb250ZW50c0xlbmd0aCA9IHRoaXMuaGVhZGVyLmxlbmd0aCAtIEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX0xFTkdUSDtcblx0XHRjb25zdCBjaHVua1ZpZXcgPSBuZXcgRGF0YVZpZXcoIGRhdGEsIEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX0xFTkdUSCApO1xuXHRcdGxldCBjaHVua0luZGV4ID0gMDtcblxuXHRcdHdoaWxlICggY2h1bmtJbmRleCA8IGNodW5rQ29udGVudHNMZW5ndGggKSB7XG5cblx0XHRcdGNvbnN0IGNodW5rTGVuZ3RoID0gY2h1bmtWaWV3LmdldFVpbnQzMiggY2h1bmtJbmRleCwgdHJ1ZSApO1xuXHRcdFx0Y2h1bmtJbmRleCArPSA0O1xuXG5cdFx0XHRjb25zdCBjaHVua1R5cGUgPSBjaHVua1ZpZXcuZ2V0VWludDMyKCBjaHVua0luZGV4LCB0cnVlICk7XG5cdFx0XHRjaHVua0luZGV4ICs9IDQ7XG5cblx0XHRcdGlmICggY2h1bmtUeXBlID09PSBCSU5BUllfRVhURU5TSU9OX0NIVU5LX1RZUEVTLkpTT04gKSB7XG5cblx0XHRcdFx0Y29uc3QgY29udGVudEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoIGRhdGEsIEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX0xFTkdUSCArIGNodW5rSW5kZXgsIGNodW5rTGVuZ3RoICk7XG5cdFx0XHRcdHRoaXMuY29udGVudCA9IExvYWRlclV0aWxzLmRlY29kZVRleHQoIGNvbnRlbnRBcnJheSApO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBjaHVua1R5cGUgPT09IEJJTkFSWV9FWFRFTlNJT05fQ0hVTktfVFlQRVMuQklOICkge1xuXG5cdFx0XHRcdGNvbnN0IGJ5dGVPZmZzZXQgPSBCSU5BUllfRVhURU5TSU9OX0hFQURFUl9MRU5HVEggKyBjaHVua0luZGV4O1xuXHRcdFx0XHR0aGlzLmJvZHkgPSBkYXRhLnNsaWNlKCBieXRlT2Zmc2V0LCBieXRlT2Zmc2V0ICsgY2h1bmtMZW5ndGggKTtcblxuXHRcdFx0fVxuXG5cdFx0XHQvLyBDbGllbnRzIG11c3QgaWdub3JlIGNodW5rcyB3aXRoIHVua25vd24gdHlwZXMuXG5cblx0XHRcdGNodW5rSW5kZXggKz0gY2h1bmtMZW5ndGg7XG5cblx0XHR9XG5cblx0XHRpZiAoIHRoaXMuY29udGVudCA9PT0gbnVsbCApIHtcblxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCAnVEhSRUUuR0xURkxvYWRlcjogSlNPTiBjb250ZW50IG5vdCBmb3VuZC4nICk7XG5cblx0XHR9XG5cblx0fVxuXG59XG5cbi8qKlxuICogRFJBQ08gTWVzaCBDb21wcmVzc2lvbiBFeHRlbnNpb25cbiAqXG4gKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfZHJhY29fbWVzaF9jb21wcmVzc2lvblxuICovXG5jbGFzcyBHTFRGRHJhY29NZXNoQ29tcHJlc3Npb25FeHRlbnNpb24ge1xuXG5cdGNvbnN0cnVjdG9yKCBqc29uLCBkcmFjb0xvYWRlciApIHtcblxuXHRcdGlmICggISBkcmFjb0xvYWRlciApIHtcblxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCAnVEhSRUUuR0xURkxvYWRlcjogTm8gRFJBQ09Mb2FkZXIgaW5zdGFuY2UgcHJvdmlkZWQuJyApO1xuXG5cdFx0fVxuXG5cdFx0dGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTjtcblx0XHR0aGlzLmpzb24gPSBqc29uO1xuXHRcdHRoaXMuZHJhY29Mb2FkZXIgPSBkcmFjb0xvYWRlcjtcblx0XHR0aGlzLmRyYWNvTG9hZGVyLnByZWxvYWQoKTtcblxuXHR9XG5cblx0ZGVjb2RlUHJpbWl0aXZlKCBwcmltaXRpdmUsIHBhcnNlciApIHtcblxuXHRcdGNvbnN0IGpzb24gPSB0aGlzLmpzb247XG5cdFx0Y29uc3QgZHJhY29Mb2FkZXIgPSB0aGlzLmRyYWNvTG9hZGVyO1xuXHRcdGNvbnN0IGJ1ZmZlclZpZXdJbmRleCA9IHByaW1pdGl2ZS5leHRlbnNpb25zWyB0aGlzLm5hbWUgXS5idWZmZXJWaWV3O1xuXHRcdGNvbnN0IGdsdGZBdHRyaWJ1dGVNYXAgPSBwcmltaXRpdmUuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF0uYXR0cmlidXRlcztcblx0XHRjb25zdCB0aHJlZUF0dHJpYnV0ZU1hcCA9IHt9O1xuXHRcdGNvbnN0IGF0dHJpYnV0ZU5vcm1hbGl6ZWRNYXAgPSB7fTtcblx0XHRjb25zdCBhdHRyaWJ1dGVUeXBlTWFwID0ge307XG5cblx0XHRmb3IgKCBjb25zdCBhdHRyaWJ1dGVOYW1lIGluIGdsdGZBdHRyaWJ1dGVNYXAgKSB7XG5cblx0XHRcdGNvbnN0IHRocmVlQXR0cmlidXRlTmFtZSA9IEFUVFJJQlVURVNbIGF0dHJpYnV0ZU5hbWUgXSB8fCBhdHRyaWJ1dGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cblx0XHRcdHRocmVlQXR0cmlidXRlTWFwWyB0aHJlZUF0dHJpYnV0ZU5hbWUgXSA9IGdsdGZBdHRyaWJ1dGVNYXBbIGF0dHJpYnV0ZU5hbWUgXTtcblxuXHRcdH1cblxuXHRcdGZvciAoIGNvbnN0IGF0dHJpYnV0ZU5hbWUgaW4gcHJpbWl0aXZlLmF0dHJpYnV0ZXMgKSB7XG5cblx0XHRcdGNvbnN0IHRocmVlQXR0cmlidXRlTmFtZSA9IEFUVFJJQlVURVNbIGF0dHJpYnV0ZU5hbWUgXSB8fCBhdHRyaWJ1dGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cblx0XHRcdGlmICggZ2x0ZkF0dHJpYnV0ZU1hcFsgYXR0cmlidXRlTmFtZSBdICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0Y29uc3QgYWNjZXNzb3JEZWYgPSBqc29uLmFjY2Vzc29yc1sgcHJpbWl0aXZlLmF0dHJpYnV0ZXNbIGF0dHJpYnV0ZU5hbWUgXSBdO1xuXHRcdFx0XHRjb25zdCBjb21wb25lbnRUeXBlID0gV0VCR0xfQ09NUE9ORU5UX1RZUEVTWyBhY2Nlc3NvckRlZi5jb21wb25lbnRUeXBlIF07XG5cblx0XHRcdFx0YXR0cmlidXRlVHlwZU1hcFsgdGhyZWVBdHRyaWJ1dGVOYW1lIF0gPSBjb21wb25lbnRUeXBlO1xuXHRcdFx0XHRhdHRyaWJ1dGVOb3JtYWxpemVkTWFwWyB0aHJlZUF0dHJpYnV0ZU5hbWUgXSA9IGFjY2Vzc29yRGVmLm5vcm1hbGl6ZWQgPT09IHRydWU7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdHJldHVybiBwYXJzZXIuZ2V0RGVwZW5kZW5jeSggJ2J1ZmZlclZpZXcnLCBidWZmZXJWaWV3SW5kZXggKS50aGVuKCBmdW5jdGlvbiAoIGJ1ZmZlclZpZXcgKSB7XG5cblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSggZnVuY3Rpb24gKCByZXNvbHZlICkge1xuXG5cdFx0XHRcdGRyYWNvTG9hZGVyLmRlY29kZURyYWNvRmlsZSggYnVmZmVyVmlldywgZnVuY3Rpb24gKCBnZW9tZXRyeSApIHtcblxuXHRcdFx0XHRcdGZvciAoIGNvbnN0IGF0dHJpYnV0ZU5hbWUgaW4gZ2VvbWV0cnkuYXR0cmlidXRlcyApIHtcblxuXHRcdFx0XHRcdFx0Y29uc3QgYXR0cmlidXRlID0gZ2VvbWV0cnkuYXR0cmlidXRlc1sgYXR0cmlidXRlTmFtZSBdO1xuXHRcdFx0XHRcdFx0Y29uc3Qgbm9ybWFsaXplZCA9IGF0dHJpYnV0ZU5vcm1hbGl6ZWRNYXBbIGF0dHJpYnV0ZU5hbWUgXTtcblxuXHRcdFx0XHRcdFx0aWYgKCBub3JtYWxpemVkICE9PSB1bmRlZmluZWQgKSBhdHRyaWJ1dGUubm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQ7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXNvbHZlKCBnZW9tZXRyeSApO1xuXG5cdFx0XHRcdH0sIHRocmVlQXR0cmlidXRlTWFwLCBhdHRyaWJ1dGVUeXBlTWFwICk7XG5cblx0XHRcdH0gKTtcblxuXHRcdH0gKTtcblxuXHR9XG5cbn1cblxuLyoqXG4gKiBUZXh0dXJlIFRyYW5zZm9ybSBFeHRlbnNpb25cbiAqXG4gKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfdGV4dHVyZV90cmFuc2Zvcm1cbiAqL1xuY2xhc3MgR0xURlRleHR1cmVUcmFuc2Zvcm1FeHRlbnNpb24ge1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuXG5cdFx0dGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfVEVYVFVSRV9UUkFOU0ZPUk07XG5cblx0fVxuXG5cdGV4dGVuZFRleHR1cmUoIHRleHR1cmUsIHRyYW5zZm9ybSApIHtcblxuXHRcdGlmICggdHJhbnNmb3JtLnRleENvb3JkICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkdMVEZMb2FkZXI6IEN1c3RvbSBVViBzZXRzIGluIFwiJyArIHRoaXMubmFtZSArICdcIiBleHRlbnNpb24gbm90IHlldCBzdXBwb3J0ZWQuJyApO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCB0cmFuc2Zvcm0ub2Zmc2V0ID09PSB1bmRlZmluZWQgJiYgdHJhbnNmb3JtLnJvdGF0aW9uID09PSB1bmRlZmluZWQgJiYgdHJhbnNmb3JtLnNjYWxlID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2lzc3Vlcy8yMTgxOS5cblx0XHRcdHJldHVybiB0ZXh0dXJlO1xuXG5cdFx0fVxuXG5cdFx0dGV4dHVyZSA9IHRleHR1cmUuY2xvbmUoKTtcblxuXHRcdGlmICggdHJhbnNmb3JtLm9mZnNldCAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHR0ZXh0dXJlLm9mZnNldC5mcm9tQXJyYXkoIHRyYW5zZm9ybS5vZmZzZXQgKTtcblxuXHRcdH1cblxuXHRcdGlmICggdHJhbnNmb3JtLnJvdGF0aW9uICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdHRleHR1cmUucm90YXRpb24gPSB0cmFuc2Zvcm0ucm90YXRpb247XG5cblx0XHR9XG5cblx0XHRpZiAoIHRyYW5zZm9ybS5zY2FsZSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHR0ZXh0dXJlLnJlcGVhdC5mcm9tQXJyYXkoIHRyYW5zZm9ybS5zY2FsZSApO1xuXG5cdFx0fVxuXG5cdFx0dGV4dHVyZS5uZWVkc1VwZGF0ZSA9IHRydWU7XG5cblx0XHRyZXR1cm4gdGV4dHVyZTtcblxuXHR9XG5cbn1cblxuLyoqXG4gKiBTcGVjdWxhci1HbG9zc2luZXNzIEV4dGVuc2lvblxuICpcbiAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9tYXRlcmlhbHNfcGJyU3BlY3VsYXJHbG9zc2luZXNzXG4gKi9cblxuLyoqXG4gKiBBIHN1YiBjbGFzcyBvZiBTdGFuZGFyZE1hdGVyaWFsIHdpdGggc29tZSBvZiB0aGUgZnVuY3Rpb25hbGl0eVxuICogY2hhbmdlZCB2aWEgdGhlIGBvbkJlZm9yZUNvbXBpbGVgIGNhbGxiYWNrXG4gKiBAcGFpbGhlYWRcbiAqL1xuY2xhc3MgR0xURk1lc2hTdGFuZGFyZFNHTWF0ZXJpYWwgZXh0ZW5kcyBNZXNoU3RhbmRhcmRNYXRlcmlhbCB7XG5cblx0Y29uc3RydWN0b3IoIHBhcmFtcyApIHtcblxuXHRcdHN1cGVyKCk7XG5cblx0XHR0aGlzLmlzR0xURlNwZWN1bGFyR2xvc3NpbmVzc01hdGVyaWFsID0gdHJ1ZTtcblxuXHRcdC8vdmFyaW91cyBjaHVua3MgdGhhdCBuZWVkIHJlcGxhY2luZ1xuXHRcdGNvbnN0IHNwZWN1bGFyTWFwUGFyc0ZyYWdtZW50Q2h1bmsgPSBbXG5cdFx0XHQnI2lmZGVmIFVTRV9TUEVDVUxBUk1BUCcsXG5cdFx0XHQnXHR1bmlmb3JtIHNhbXBsZXIyRCBzcGVjdWxhck1hcDsnLFxuXHRcdFx0JyNlbmRpZidcblx0XHRdLmpvaW4oICdcXG4nICk7XG5cblx0XHRjb25zdCBnbG9zc2luZXNzTWFwUGFyc0ZyYWdtZW50Q2h1bmsgPSBbXG5cdFx0XHQnI2lmZGVmIFVTRV9HTE9TU0lORVNTTUFQJyxcblx0XHRcdCdcdHVuaWZvcm0gc2FtcGxlcjJEIGdsb3NzaW5lc3NNYXA7Jyxcblx0XHRcdCcjZW5kaWYnXG5cdFx0XS5qb2luKCAnXFxuJyApO1xuXG5cdFx0Y29uc3Qgc3BlY3VsYXJNYXBGcmFnbWVudENodW5rID0gW1xuXHRcdFx0J3ZlYzMgc3BlY3VsYXJGYWN0b3IgPSBzcGVjdWxhcjsnLFxuXHRcdFx0JyNpZmRlZiBVU0VfU1BFQ1VMQVJNQVAnLFxuXHRcdFx0J1x0dmVjNCB0ZXhlbFNwZWN1bGFyID0gdGV4dHVyZTJEKCBzcGVjdWxhck1hcCwgdlV2ICk7Jyxcblx0XHRcdCdcdHRleGVsU3BlY3VsYXIgPSBzUkdCVG9MaW5lYXIoIHRleGVsU3BlY3VsYXIgKTsnLFxuXHRcdFx0J1x0Ly8gcmVhZHMgY2hhbm5lbCBSR0IsIGNvbXBhdGlibGUgd2l0aCBhIGdsVEYgU3BlY3VsYXItR2xvc3NpbmVzcyAoUkdCQSkgdGV4dHVyZScsXG5cdFx0XHQnXHRzcGVjdWxhckZhY3RvciAqPSB0ZXhlbFNwZWN1bGFyLnJnYjsnLFxuXHRcdFx0JyNlbmRpZidcblx0XHRdLmpvaW4oICdcXG4nICk7XG5cblx0XHRjb25zdCBnbG9zc2luZXNzTWFwRnJhZ21lbnRDaHVuayA9IFtcblx0XHRcdCdmbG9hdCBnbG9zc2luZXNzRmFjdG9yID0gZ2xvc3NpbmVzczsnLFxuXHRcdFx0JyNpZmRlZiBVU0VfR0xPU1NJTkVTU01BUCcsXG5cdFx0XHQnXHR2ZWM0IHRleGVsR2xvc3NpbmVzcyA9IHRleHR1cmUyRCggZ2xvc3NpbmVzc01hcCwgdlV2ICk7Jyxcblx0XHRcdCdcdC8vIHJlYWRzIGNoYW5uZWwgQSwgY29tcGF0aWJsZSB3aXRoIGEgZ2xURiBTcGVjdWxhci1HbG9zc2luZXNzIChSR0JBKSB0ZXh0dXJlJyxcblx0XHRcdCdcdGdsb3NzaW5lc3NGYWN0b3IgKj0gdGV4ZWxHbG9zc2luZXNzLmE7Jyxcblx0XHRcdCcjZW5kaWYnXG5cdFx0XS5qb2luKCAnXFxuJyApO1xuXG5cdFx0Y29uc3QgbGlnaHRQaHlzaWNhbEZyYWdtZW50Q2h1bmsgPSBbXG5cdFx0XHQnUGh5c2ljYWxNYXRlcmlhbCBtYXRlcmlhbDsnLFxuXHRcdFx0J21hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IGRpZmZ1c2VDb2xvci5yZ2IgKiAoIDEuIC0gbWF4KCBzcGVjdWxhckZhY3Rvci5yLCBtYXgoIHNwZWN1bGFyRmFjdG9yLmcsIHNwZWN1bGFyRmFjdG9yLmIgKSApICk7Jyxcblx0XHRcdCd2ZWMzIGR4eSA9IG1heCggYWJzKCBkRmR4KCBnZW9tZXRyeU5vcm1hbCApICksIGFicyggZEZkeSggZ2VvbWV0cnlOb3JtYWwgKSApICk7Jyxcblx0XHRcdCdmbG9hdCBnZW9tZXRyeVJvdWdobmVzcyA9IG1heCggbWF4KCBkeHkueCwgZHh5LnkgKSwgZHh5LnogKTsnLFxuXHRcdFx0J21hdGVyaWFsLnJvdWdobmVzcyA9IG1heCggMS4wIC0gZ2xvc3NpbmVzc0ZhY3RvciwgMC4wNTI1ICk7IC8vIDAuMDUyNSBjb3JyZXNwb25kcyB0byB0aGUgYmFzZSBtaXAgb2YgYSAyNTYgY3ViZW1hcC4nLFxuXHRcdFx0J21hdGVyaWFsLnJvdWdobmVzcyArPSBnZW9tZXRyeVJvdWdobmVzczsnLFxuXHRcdFx0J21hdGVyaWFsLnJvdWdobmVzcyA9IG1pbiggbWF0ZXJpYWwucm91Z2huZXNzLCAxLjAgKTsnLFxuXHRcdFx0J21hdGVyaWFsLnNwZWN1bGFyQ29sb3IgPSBzcGVjdWxhckZhY3RvcjsnLFxuXHRcdF0uam9pbiggJ1xcbicgKTtcblxuXHRcdGNvbnN0IHVuaWZvcm1zID0ge1xuXHRcdFx0c3BlY3VsYXI6IHsgdmFsdWU6IG5ldyBDb2xvcigpLnNldEhleCggMHhmZmZmZmYgKSB9LFxuXHRcdFx0Z2xvc3NpbmVzczogeyB2YWx1ZTogMSB9LFxuXHRcdFx0c3BlY3VsYXJNYXA6IHsgdmFsdWU6IG51bGwgfSxcblx0XHRcdGdsb3NzaW5lc3NNYXA6IHsgdmFsdWU6IG51bGwgfVxuXHRcdH07XG5cblx0XHR0aGlzLl9leHRyYVVuaWZvcm1zID0gdW5pZm9ybXM7XG5cblx0XHR0aGlzLm9uQmVmb3JlQ29tcGlsZSA9IGZ1bmN0aW9uICggc2hhZGVyICkge1xuXG5cdFx0XHRmb3IgKCBjb25zdCB1bmlmb3JtTmFtZSBpbiB1bmlmb3JtcyApIHtcblxuXHRcdFx0XHRzaGFkZXIudW5pZm9ybXNbIHVuaWZvcm1OYW1lIF0gPSB1bmlmb3Jtc1sgdW5pZm9ybU5hbWUgXTtcblxuXHRcdFx0fVxuXG5cdFx0XHRzaGFkZXIuZnJhZ21lbnRTaGFkZXIgPSBzaGFkZXIuZnJhZ21lbnRTaGFkZXJcblx0XHRcdFx0LnJlcGxhY2UoICd1bmlmb3JtIGZsb2F0IHJvdWdobmVzczsnLCAndW5pZm9ybSB2ZWMzIHNwZWN1bGFyOycgKVxuXHRcdFx0XHQucmVwbGFjZSggJ3VuaWZvcm0gZmxvYXQgbWV0YWxuZXNzOycsICd1bmlmb3JtIGZsb2F0IGdsb3NzaW5lc3M7JyApXG5cdFx0XHRcdC5yZXBsYWNlKCAnI2luY2x1ZGUgPHJvdWdobmVzc21hcF9wYXJzX2ZyYWdtZW50PicsIHNwZWN1bGFyTWFwUGFyc0ZyYWdtZW50Q2h1bmsgKVxuXHRcdFx0XHQucmVwbGFjZSggJyNpbmNsdWRlIDxtZXRhbG5lc3NtYXBfcGFyc19mcmFnbWVudD4nLCBnbG9zc2luZXNzTWFwUGFyc0ZyYWdtZW50Q2h1bmsgKVxuXHRcdFx0XHQucmVwbGFjZSggJyNpbmNsdWRlIDxyb3VnaG5lc3NtYXBfZnJhZ21lbnQ+Jywgc3BlY3VsYXJNYXBGcmFnbWVudENodW5rIClcblx0XHRcdFx0LnJlcGxhY2UoICcjaW5jbHVkZSA8bWV0YWxuZXNzbWFwX2ZyYWdtZW50PicsIGdsb3NzaW5lc3NNYXBGcmFnbWVudENodW5rIClcblx0XHRcdFx0LnJlcGxhY2UoICcjaW5jbHVkZSA8bGlnaHRzX3BoeXNpY2FsX2ZyYWdtZW50PicsIGxpZ2h0UGh5c2ljYWxGcmFnbWVudENodW5rICk7XG5cblx0XHR9O1xuXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIHRoaXMsIHtcblxuXHRcdFx0c3BlY3VsYXI6IHtcblx0XHRcdFx0Z2V0OiBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdFx0XHRyZXR1cm4gdW5pZm9ybXMuc3BlY3VsYXIudmFsdWU7XG5cblx0XHRcdFx0fSxcblx0XHRcdFx0c2V0OiBmdW5jdGlvbiAoIHYgKSB7XG5cblx0XHRcdFx0XHR1bmlmb3Jtcy5zcGVjdWxhci52YWx1ZSA9IHY7XG5cblx0XHRcdFx0fVxuXHRcdFx0fSxcblxuXHRcdFx0c3BlY3VsYXJNYXA6IHtcblx0XHRcdFx0Z2V0OiBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdFx0XHRyZXR1cm4gdW5pZm9ybXMuc3BlY3VsYXJNYXAudmFsdWU7XG5cblx0XHRcdFx0fSxcblx0XHRcdFx0c2V0OiBmdW5jdGlvbiAoIHYgKSB7XG5cblx0XHRcdFx0XHR1bmlmb3Jtcy5zcGVjdWxhck1hcC52YWx1ZSA9IHY7XG5cblx0XHRcdFx0XHRpZiAoIHYgKSB7XG5cblx0XHRcdFx0XHRcdHRoaXMuZGVmaW5lcy5VU0VfU1BFQ1VMQVJNQVAgPSAnJzsgLy8gVVNFX1VWIGlzIHNldCBieSB0aGUgcmVuZGVyZXIgZm9yIHNwZWN1bGFyIG1hcHNcblxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdGRlbGV0ZSB0aGlzLmRlZmluZXMuVVNFX1NQRUNVTEFSTUFQO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cblx0XHRcdGdsb3NzaW5lc3M6IHtcblx0XHRcdFx0Z2V0OiBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdFx0XHRyZXR1cm4gdW5pZm9ybXMuZ2xvc3NpbmVzcy52YWx1ZTtcblxuXHRcdFx0XHR9LFxuXHRcdFx0XHRzZXQ6IGZ1bmN0aW9uICggdiApIHtcblxuXHRcdFx0XHRcdHVuaWZvcm1zLmdsb3NzaW5lc3MudmFsdWUgPSB2O1xuXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cblx0XHRcdGdsb3NzaW5lc3NNYXA6IHtcblx0XHRcdFx0Z2V0OiBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdFx0XHRyZXR1cm4gdW5pZm9ybXMuZ2xvc3NpbmVzc01hcC52YWx1ZTtcblxuXHRcdFx0XHR9LFxuXHRcdFx0XHRzZXQ6IGZ1bmN0aW9uICggdiApIHtcblxuXHRcdFx0XHRcdHVuaWZvcm1zLmdsb3NzaW5lc3NNYXAudmFsdWUgPSB2O1xuXG5cdFx0XHRcdFx0aWYgKCB2ICkge1xuXG5cdFx0XHRcdFx0XHR0aGlzLmRlZmluZXMuVVNFX0dMT1NTSU5FU1NNQVAgPSAnJztcblx0XHRcdFx0XHRcdHRoaXMuZGVmaW5lcy5VU0VfVVYgPSAnJztcblxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdGRlbGV0ZSB0aGlzLmRlZmluZXMuVVNFX0dMT1NTSU5FU1NNQVA7XG5cdFx0XHRcdFx0XHRkZWxldGUgdGhpcy5kZWZpbmVzLlVTRV9VVjtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHR9ICk7XG5cblx0XHRkZWxldGUgdGhpcy5tZXRhbG5lc3M7XG5cdFx0ZGVsZXRlIHRoaXMucm91Z2huZXNzO1xuXHRcdGRlbGV0ZSB0aGlzLm1ldGFsbmVzc01hcDtcblx0XHRkZWxldGUgdGhpcy5yb3VnaG5lc3NNYXA7XG5cblx0XHR0aGlzLnNldFZhbHVlcyggcGFyYW1zICk7XG5cblx0fVxuXG5cdGNvcHkoIHNvdXJjZSApIHtcblxuXHRcdHN1cGVyLmNvcHkoIHNvdXJjZSApO1xuXG5cdFx0dGhpcy5zcGVjdWxhck1hcCA9IHNvdXJjZS5zcGVjdWxhck1hcDtcblx0XHR0aGlzLnNwZWN1bGFyLmNvcHkoIHNvdXJjZS5zcGVjdWxhciApO1xuXHRcdHRoaXMuZ2xvc3NpbmVzc01hcCA9IHNvdXJjZS5nbG9zc2luZXNzTWFwO1xuXHRcdHRoaXMuZ2xvc3NpbmVzcyA9IHNvdXJjZS5nbG9zc2luZXNzO1xuXHRcdGRlbGV0ZSB0aGlzLm1ldGFsbmVzcztcblx0XHRkZWxldGUgdGhpcy5yb3VnaG5lc3M7XG5cdFx0ZGVsZXRlIHRoaXMubWV0YWxuZXNzTWFwO1xuXHRcdGRlbGV0ZSB0aGlzLnJvdWdobmVzc01hcDtcblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cbn1cblxuXG5jbGFzcyBHTFRGTWF0ZXJpYWxzUGJyU3BlY3VsYXJHbG9zc2luZXNzRXh0ZW5zaW9uIHtcblxuXHRjb25zdHJ1Y3RvcigpIHtcblxuXHRcdHRoaXMubmFtZSA9IEVYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19QQlJfU1BFQ1VMQVJfR0xPU1NJTkVTUztcblxuXHRcdHRoaXMuc3BlY3VsYXJHbG9zc2luZXNzUGFyYW1zID0gW1xuXHRcdFx0J2NvbG9yJyxcblx0XHRcdCdtYXAnLFxuXHRcdFx0J2xpZ2h0TWFwJyxcblx0XHRcdCdsaWdodE1hcEludGVuc2l0eScsXG5cdFx0XHQnYW9NYXAnLFxuXHRcdFx0J2FvTWFwSW50ZW5zaXR5Jyxcblx0XHRcdCdlbWlzc2l2ZScsXG5cdFx0XHQnZW1pc3NpdmVJbnRlbnNpdHknLFxuXHRcdFx0J2VtaXNzaXZlTWFwJyxcblx0XHRcdCdidW1wTWFwJyxcblx0XHRcdCdidW1wU2NhbGUnLFxuXHRcdFx0J25vcm1hbE1hcCcsXG5cdFx0XHQnbm9ybWFsTWFwVHlwZScsXG5cdFx0XHQnZGlzcGxhY2VtZW50TWFwJyxcblx0XHRcdCdkaXNwbGFjZW1lbnRTY2FsZScsXG5cdFx0XHQnZGlzcGxhY2VtZW50QmlhcycsXG5cdFx0XHQnc3BlY3VsYXJNYXAnLFxuXHRcdFx0J3NwZWN1bGFyJyxcblx0XHRcdCdnbG9zc2luZXNzTWFwJyxcblx0XHRcdCdnbG9zc2luZXNzJyxcblx0XHRcdCdhbHBoYU1hcCcsXG5cdFx0XHQnZW52TWFwJyxcblx0XHRcdCdlbnZNYXBJbnRlbnNpdHknLFxuXHRcdFx0J3JlZnJhY3Rpb25SYXRpbycsXG5cdFx0XTtcblxuXHR9XG5cblx0Z2V0TWF0ZXJpYWxUeXBlKCkge1xuXG5cdFx0cmV0dXJuIEdMVEZNZXNoU3RhbmRhcmRTR01hdGVyaWFsO1xuXG5cdH1cblxuXHRleHRlbmRQYXJhbXMoIG1hdGVyaWFsUGFyYW1zLCBtYXRlcmlhbERlZiwgcGFyc2VyICkge1xuXG5cdFx0Y29uc3QgcGJyU3BlY3VsYXJHbG9zc2luZXNzID0gbWF0ZXJpYWxEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF07XG5cblx0XHRtYXRlcmlhbFBhcmFtcy5jb2xvciA9IG5ldyBDb2xvciggMS4wLCAxLjAsIDEuMCApO1xuXHRcdG1hdGVyaWFsUGFyYW1zLm9wYWNpdHkgPSAxLjA7XG5cblx0XHRjb25zdCBwZW5kaW5nID0gW107XG5cblx0XHRpZiAoIEFycmF5LmlzQXJyYXkoIHBiclNwZWN1bGFyR2xvc3NpbmVzcy5kaWZmdXNlRmFjdG9yICkgKSB7XG5cblx0XHRcdGNvbnN0IGFycmF5ID0gcGJyU3BlY3VsYXJHbG9zc2luZXNzLmRpZmZ1c2VGYWN0b3I7XG5cblx0XHRcdG1hdGVyaWFsUGFyYW1zLmNvbG9yLmZyb21BcnJheSggYXJyYXkgKTtcblx0XHRcdG1hdGVyaWFsUGFyYW1zLm9wYWNpdHkgPSBhcnJheVsgMyBdO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBwYnJTcGVjdWxhckdsb3NzaW5lc3MuZGlmZnVzZVRleHR1cmUgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0cGVuZGluZy5wdXNoKCBwYXJzZXIuYXNzaWduVGV4dHVyZSggbWF0ZXJpYWxQYXJhbXMsICdtYXAnLCBwYnJTcGVjdWxhckdsb3NzaW5lc3MuZGlmZnVzZVRleHR1cmUgKSApO1xuXG5cdFx0fVxuXG5cdFx0bWF0ZXJpYWxQYXJhbXMuZW1pc3NpdmUgPSBuZXcgQ29sb3IoIDAuMCwgMC4wLCAwLjAgKTtcblx0XHRtYXRlcmlhbFBhcmFtcy5nbG9zc2luZXNzID0gcGJyU3BlY3VsYXJHbG9zc2luZXNzLmdsb3NzaW5lc3NGYWN0b3IgIT09IHVuZGVmaW5lZCA/IHBiclNwZWN1bGFyR2xvc3NpbmVzcy5nbG9zc2luZXNzRmFjdG9yIDogMS4wO1xuXHRcdG1hdGVyaWFsUGFyYW1zLnNwZWN1bGFyID0gbmV3IENvbG9yKCAxLjAsIDEuMCwgMS4wICk7XG5cblx0XHRpZiAoIEFycmF5LmlzQXJyYXkoIHBiclNwZWN1bGFyR2xvc3NpbmVzcy5zcGVjdWxhckZhY3RvciApICkge1xuXG5cdFx0XHRtYXRlcmlhbFBhcmFtcy5zcGVjdWxhci5mcm9tQXJyYXkoIHBiclNwZWN1bGFyR2xvc3NpbmVzcy5zcGVjdWxhckZhY3RvciApO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBwYnJTcGVjdWxhckdsb3NzaW5lc3Muc3BlY3VsYXJHbG9zc2luZXNzVGV4dHVyZSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zdCBzcGVjR2xvc3NNYXBEZWYgPSBwYnJTcGVjdWxhckdsb3NzaW5lc3Muc3BlY3VsYXJHbG9zc2luZXNzVGV4dHVyZTtcblx0XHRcdHBlbmRpbmcucHVzaCggcGFyc2VyLmFzc2lnblRleHR1cmUoIG1hdGVyaWFsUGFyYW1zLCAnZ2xvc3NpbmVzc01hcCcsIHNwZWNHbG9zc01hcERlZiApICk7XG5cdFx0XHRwZW5kaW5nLnB1c2goIHBhcnNlci5hc3NpZ25UZXh0dXJlKCBtYXRlcmlhbFBhcmFtcywgJ3NwZWN1bGFyTWFwJywgc3BlY0dsb3NzTWFwRGVmICkgKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiBQcm9taXNlLmFsbCggcGVuZGluZyApO1xuXG5cdH1cblxuXHRjcmVhdGVNYXRlcmlhbCggbWF0ZXJpYWxQYXJhbXMgKSB7XG5cblx0XHRjb25zdCBtYXRlcmlhbCA9IG5ldyBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbCggbWF0ZXJpYWxQYXJhbXMgKTtcblx0XHRtYXRlcmlhbC5mb2cgPSB0cnVlO1xuXG5cdFx0bWF0ZXJpYWwuY29sb3IgPSBtYXRlcmlhbFBhcmFtcy5jb2xvcjtcblxuXHRcdG1hdGVyaWFsLm1hcCA9IG1hdGVyaWFsUGFyYW1zLm1hcCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG1hdGVyaWFsUGFyYW1zLm1hcDtcblxuXHRcdG1hdGVyaWFsLmxpZ2h0TWFwID0gbnVsbDtcblx0XHRtYXRlcmlhbC5saWdodE1hcEludGVuc2l0eSA9IDEuMDtcblxuXHRcdG1hdGVyaWFsLmFvTWFwID0gbWF0ZXJpYWxQYXJhbXMuYW9NYXAgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBtYXRlcmlhbFBhcmFtcy5hb01hcDtcblx0XHRtYXRlcmlhbC5hb01hcEludGVuc2l0eSA9IDEuMDtcblxuXHRcdG1hdGVyaWFsLmVtaXNzaXZlID0gbWF0ZXJpYWxQYXJhbXMuZW1pc3NpdmU7XG5cdFx0bWF0ZXJpYWwuZW1pc3NpdmVJbnRlbnNpdHkgPSAxLjA7XG5cdFx0bWF0ZXJpYWwuZW1pc3NpdmVNYXAgPSBtYXRlcmlhbFBhcmFtcy5lbWlzc2l2ZU1hcCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG1hdGVyaWFsUGFyYW1zLmVtaXNzaXZlTWFwO1xuXG5cdFx0bWF0ZXJpYWwuYnVtcE1hcCA9IG1hdGVyaWFsUGFyYW1zLmJ1bXBNYXAgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBtYXRlcmlhbFBhcmFtcy5idW1wTWFwO1xuXHRcdG1hdGVyaWFsLmJ1bXBTY2FsZSA9IDE7XG5cblx0XHRtYXRlcmlhbC5ub3JtYWxNYXAgPSBtYXRlcmlhbFBhcmFtcy5ub3JtYWxNYXAgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBtYXRlcmlhbFBhcmFtcy5ub3JtYWxNYXA7XG5cdFx0bWF0ZXJpYWwubm9ybWFsTWFwVHlwZSA9IFRhbmdlbnRTcGFjZU5vcm1hbE1hcDtcblxuXHRcdGlmICggbWF0ZXJpYWxQYXJhbXMubm9ybWFsU2NhbGUgKSBtYXRlcmlhbC5ub3JtYWxTY2FsZSA9IG1hdGVyaWFsUGFyYW1zLm5vcm1hbFNjYWxlO1xuXG5cdFx0bWF0ZXJpYWwuZGlzcGxhY2VtZW50TWFwID0gbnVsbDtcblx0XHRtYXRlcmlhbC5kaXNwbGFjZW1lbnRTY2FsZSA9IDE7XG5cdFx0bWF0ZXJpYWwuZGlzcGxhY2VtZW50QmlhcyA9IDA7XG5cblx0XHRtYXRlcmlhbC5zcGVjdWxhck1hcCA9IG1hdGVyaWFsUGFyYW1zLnNwZWN1bGFyTWFwID09PSB1bmRlZmluZWQgPyBudWxsIDogbWF0ZXJpYWxQYXJhbXMuc3BlY3VsYXJNYXA7XG5cdFx0bWF0ZXJpYWwuc3BlY3VsYXIgPSBtYXRlcmlhbFBhcmFtcy5zcGVjdWxhcjtcblxuXHRcdG1hdGVyaWFsLmdsb3NzaW5lc3NNYXAgPSBtYXRlcmlhbFBhcmFtcy5nbG9zc2luZXNzTWFwID09PSB1bmRlZmluZWQgPyBudWxsIDogbWF0ZXJpYWxQYXJhbXMuZ2xvc3NpbmVzc01hcDtcblx0XHRtYXRlcmlhbC5nbG9zc2luZXNzID0gbWF0ZXJpYWxQYXJhbXMuZ2xvc3NpbmVzcztcblxuXHRcdG1hdGVyaWFsLmFscGhhTWFwID0gbnVsbDtcblxuXHRcdG1hdGVyaWFsLmVudk1hcCA9IG1hdGVyaWFsUGFyYW1zLmVudk1hcCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG1hdGVyaWFsUGFyYW1zLmVudk1hcDtcblx0XHRtYXRlcmlhbC5lbnZNYXBJbnRlbnNpdHkgPSAxLjA7XG5cblx0XHRtYXRlcmlhbC5yZWZyYWN0aW9uUmF0aW8gPSAwLjk4O1xuXG5cdFx0cmV0dXJuIG1hdGVyaWFsO1xuXG5cdH1cblxufVxuXG4vKipcbiAqIE1lc2ggUXVhbnRpemF0aW9uIEV4dGVuc2lvblxuICpcbiAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9tZXNoX3F1YW50aXphdGlvblxuICovXG5jbGFzcyBHTFRGTWVzaFF1YW50aXphdGlvbkV4dGVuc2lvbiB7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cblx0XHR0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9NRVNIX1FVQU5USVpBVElPTjtcblxuXHR9XG5cbn1cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKioqKioqIElOVEVSUE9MQVRJT04gKioqKioqKiovXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vLyBTcGxpbmUgSW50ZXJwb2xhdGlvblxuLy8gU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNhcHBlbmRpeC1jLXNwbGluZS1pbnRlcnBvbGF0aW9uXG5jbGFzcyBHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudCBleHRlbmRzIEludGVycG9sYW50IHtcblxuXHRjb25zdHJ1Y3RvciggcGFyYW1ldGVyUG9zaXRpb25zLCBzYW1wbGVWYWx1ZXMsIHNhbXBsZVNpemUsIHJlc3VsdEJ1ZmZlciApIHtcblxuXHRcdHN1cGVyKCBwYXJhbWV0ZXJQb3NpdGlvbnMsIHNhbXBsZVZhbHVlcywgc2FtcGxlU2l6ZSwgcmVzdWx0QnVmZmVyICk7XG5cblx0fVxuXG5cdGNvcHlTYW1wbGVWYWx1ZV8oIGluZGV4ICkge1xuXG5cdFx0Ly8gQ29waWVzIGEgc2FtcGxlIHZhbHVlIHRvIHRoZSByZXN1bHQgYnVmZmVyLiBTZWUgZGVzY3JpcHRpb24gb2YgZ2xURlxuXHRcdC8vIENVQklDU1BMSU5FIHZhbHVlcyBsYXlvdXQgaW4gaW50ZXJwb2xhdGVfKCkgZnVuY3Rpb24gYmVsb3cuXG5cblx0XHRjb25zdCByZXN1bHQgPSB0aGlzLnJlc3VsdEJ1ZmZlcixcblx0XHRcdHZhbHVlcyA9IHRoaXMuc2FtcGxlVmFsdWVzLFxuXHRcdFx0dmFsdWVTaXplID0gdGhpcy52YWx1ZVNpemUsXG5cdFx0XHRvZmZzZXQgPSBpbmRleCAqIHZhbHVlU2l6ZSAqIDMgKyB2YWx1ZVNpemU7XG5cblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgIT09IHZhbHVlU2l6ZTsgaSArKyApIHtcblxuXHRcdFx0cmVzdWx0WyBpIF0gPSB2YWx1ZXNbIG9mZnNldCArIGkgXTtcblxuXHRcdH1cblxuXHRcdHJldHVybiByZXN1bHQ7XG5cblx0fVxuXG59XG5cbkdMVEZDdWJpY1NwbGluZUludGVycG9sYW50LnByb3RvdHlwZS5iZWZvcmVTdGFydF8gPSBHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudC5wcm90b3R5cGUuY29weVNhbXBsZVZhbHVlXztcblxuR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQucHJvdG90eXBlLmFmdGVyRW5kXyA9IEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50LnByb3RvdHlwZS5jb3B5U2FtcGxlVmFsdWVfO1xuXG5HTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudC5wcm90b3R5cGUuaW50ZXJwb2xhdGVfID0gZnVuY3Rpb24gKCBpMSwgdDAsIHQsIHQxICkge1xuXG5cdGNvbnN0IHJlc3VsdCA9IHRoaXMucmVzdWx0QnVmZmVyO1xuXHRjb25zdCB2YWx1ZXMgPSB0aGlzLnNhbXBsZVZhbHVlcztcblx0Y29uc3Qgc3RyaWRlID0gdGhpcy52YWx1ZVNpemU7XG5cblx0Y29uc3Qgc3RyaWRlMiA9IHN0cmlkZSAqIDI7XG5cdGNvbnN0IHN0cmlkZTMgPSBzdHJpZGUgKiAzO1xuXG5cdGNvbnN0IHRkID0gdDEgLSB0MDtcblxuXHRjb25zdCBwID0gKCB0IC0gdDAgKSAvIHRkO1xuXHRjb25zdCBwcCA9IHAgKiBwO1xuXHRjb25zdCBwcHAgPSBwcCAqIHA7XG5cblx0Y29uc3Qgb2Zmc2V0MSA9IGkxICogc3RyaWRlMztcblx0Y29uc3Qgb2Zmc2V0MCA9IG9mZnNldDEgLSBzdHJpZGUzO1xuXG5cdGNvbnN0IHMyID0gLSAyICogcHBwICsgMyAqIHBwO1xuXHRjb25zdCBzMyA9IHBwcCAtIHBwO1xuXHRjb25zdCBzMCA9IDEgLSBzMjtcblx0Y29uc3QgczEgPSBzMyAtIHBwICsgcDtcblxuXHQvLyBMYXlvdXQgb2Yga2V5ZnJhbWUgb3V0cHV0IHZhbHVlcyBmb3IgQ1VCSUNTUExJTkUgYW5pbWF0aW9uczpcblx0Ly8gICBbIGluVGFuZ2VudF8xLCBzcGxpbmVWZXJ0ZXhfMSwgb3V0VGFuZ2VudF8xLCBpblRhbmdlbnRfMiwgc3BsaW5lVmVydGV4XzIsIC4uLiBdXG5cdGZvciAoIGxldCBpID0gMDsgaSAhPT0gc3RyaWRlOyBpICsrICkge1xuXG5cdFx0Y29uc3QgcDAgPSB2YWx1ZXNbIG9mZnNldDAgKyBpICsgc3RyaWRlIF07IC8vIHNwbGluZVZlcnRleF9rXG5cdFx0Y29uc3QgbTAgPSB2YWx1ZXNbIG9mZnNldDAgKyBpICsgc3RyaWRlMiBdICogdGQ7IC8vIG91dFRhbmdlbnRfayAqICh0X2srMSAtIHRfaylcblx0XHRjb25zdCBwMSA9IHZhbHVlc1sgb2Zmc2V0MSArIGkgKyBzdHJpZGUgXTsgLy8gc3BsaW5lVmVydGV4X2srMVxuXHRcdGNvbnN0IG0xID0gdmFsdWVzWyBvZmZzZXQxICsgaSBdICogdGQ7IC8vIGluVGFuZ2VudF9rKzEgKiAodF9rKzEgLSB0X2spXG5cblx0XHRyZXN1bHRbIGkgXSA9IHMwICogcDAgKyBzMSAqIG0wICsgczIgKiBwMSArIHMzICogbTE7XG5cblx0fVxuXG5cdHJldHVybiByZXN1bHQ7XG5cbn07XG5cbmNvbnN0IF9xID0gbmV3IFF1YXRlcm5pb24oKTtcblxuY2xhc3MgR0xURkN1YmljU3BsaW5lUXVhdGVybmlvbkludGVycG9sYW50IGV4dGVuZHMgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQge1xuXG5cdGludGVycG9sYXRlXyggaTEsIHQwLCB0LCB0MSApIHtcblxuXHRcdGNvbnN0IHJlc3VsdCA9IHN1cGVyLmludGVycG9sYXRlXyggaTEsIHQwLCB0LCB0MSApO1xuXG5cdFx0X3EuZnJvbUFycmF5KCByZXN1bHQgKS5ub3JtYWxpemUoKS50b0FycmF5KCByZXN1bHQgKTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cblx0fVxuXG59XG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKioqKioqIElOVEVSTkFMUyAqKioqKioqKioqKiovXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKiBDT05TVEFOVFMgKi9cblxuY29uc3QgV0VCR0xfQ09OU1RBTlRTID0ge1xuXHRGTE9BVDogNTEyNixcblx0Ly9GTE9BVF9NQVQyOiAzNTY3NCxcblx0RkxPQVRfTUFUMzogMzU2NzUsXG5cdEZMT0FUX01BVDQ6IDM1Njc2LFxuXHRGTE9BVF9WRUMyOiAzNTY2NCxcblx0RkxPQVRfVkVDMzogMzU2NjUsXG5cdEZMT0FUX1ZFQzQ6IDM1NjY2LFxuXHRMSU5FQVI6IDk3MjksXG5cdFJFUEVBVDogMTA0OTcsXG5cdFNBTVBMRVJfMkQ6IDM1Njc4LFxuXHRQT0lOVFM6IDAsXG5cdExJTkVTOiAxLFxuXHRMSU5FX0xPT1A6IDIsXG5cdExJTkVfU1RSSVA6IDMsXG5cdFRSSUFOR0xFUzogNCxcblx0VFJJQU5HTEVfU1RSSVA6IDUsXG5cdFRSSUFOR0xFX0ZBTjogNixcblx0VU5TSUdORURfQllURTogNTEyMSxcblx0VU5TSUdORURfU0hPUlQ6IDUxMjNcbn07XG5cbmNvbnN0IFdFQkdMX0NPTVBPTkVOVF9UWVBFUyA9IHtcblx0NTEyMDogSW50OEFycmF5LFxuXHQ1MTIxOiBVaW50OEFycmF5LFxuXHQ1MTIyOiBJbnQxNkFycmF5LFxuXHQ1MTIzOiBVaW50MTZBcnJheSxcblx0NTEyNTogVWludDMyQXJyYXksXG5cdDUxMjY6IEZsb2F0MzJBcnJheVxufTtcblxuY29uc3QgV0VCR0xfRklMVEVSUyA9IHtcblx0OTcyODogTmVhcmVzdEZpbHRlcixcblx0OTcyOTogTGluZWFyRmlsdGVyLFxuXHQ5OTg0OiBOZWFyZXN0TWlwbWFwTmVhcmVzdEZpbHRlcixcblx0OTk4NTogTGluZWFyTWlwbWFwTmVhcmVzdEZpbHRlcixcblx0OTk4NjogTmVhcmVzdE1pcG1hcExpbmVhckZpbHRlcixcblx0OTk4NzogTGluZWFyTWlwbWFwTGluZWFyRmlsdGVyXG59O1xuXG5jb25zdCBXRUJHTF9XUkFQUElOR1MgPSB7XG5cdDMzMDcxOiBDbGFtcFRvRWRnZVdyYXBwaW5nLFxuXHQzMzY0ODogTWlycm9yZWRSZXBlYXRXcmFwcGluZyxcblx0MTA0OTc6IFJlcGVhdFdyYXBwaW5nXG59O1xuXG5jb25zdCBXRUJHTF9UWVBFX1NJWkVTID0ge1xuXHQnU0NBTEFSJzogMSxcblx0J1ZFQzInOiAyLFxuXHQnVkVDMyc6IDMsXG5cdCdWRUM0JzogNCxcblx0J01BVDInOiA0LFxuXHQnTUFUMyc6IDksXG5cdCdNQVQ0JzogMTZcbn07XG5cbmNvbnN0IEFUVFJJQlVURVMgPSB7XG5cdFBPU0lUSU9OOiAncG9zaXRpb24nLFxuXHROT1JNQUw6ICdub3JtYWwnLFxuXHRUQU5HRU5UOiAndGFuZ2VudCcsXG5cdFRFWENPT1JEXzA6ICd1dicsXG5cdFRFWENPT1JEXzE6ICd1djInLFxuXHRDT0xPUl8wOiAnY29sb3InLFxuXHRXRUlHSFRTXzA6ICdza2luV2VpZ2h0Jyxcblx0Sk9JTlRTXzA6ICdza2luSW5kZXgnLFxufTtcblxuY29uc3QgUEFUSF9QUk9QRVJUSUVTID0ge1xuXHRzY2FsZTogJ3NjYWxlJyxcblx0dHJhbnNsYXRpb246ICdwb3NpdGlvbicsXG5cdHJvdGF0aW9uOiAncXVhdGVybmlvbicsXG5cdHdlaWdodHM6ICdtb3JwaFRhcmdldEluZmx1ZW5jZXMnXG59O1xuXG5jb25zdCBJTlRFUlBPTEFUSU9OID0ge1xuXHRDVUJJQ1NQTElORTogdW5kZWZpbmVkLCAvLyBXZSB1c2UgYSBjdXN0b20gaW50ZXJwb2xhbnQgKEdMVEZDdWJpY1NwbGluZUludGVycG9sYXRpb24pIGZvciBDVUJJQ1NQTElORSB0cmFja3MuIEVhY2hcblx0XHQgICAgICAgICAgICAgICAgICAgICAgICAvLyBrZXlmcmFtZSB0cmFjayB3aWxsIGJlIGluaXRpYWxpemVkIHdpdGggYSBkZWZhdWx0IGludGVycG9sYXRpb24gdHlwZSwgdGhlbiBtb2RpZmllZC5cblx0TElORUFSOiBJbnRlcnBvbGF0ZUxpbmVhcixcblx0U1RFUDogSW50ZXJwb2xhdGVEaXNjcmV0ZVxufTtcblxuY29uc3QgQUxQSEFfTU9ERVMgPSB7XG5cdE9QQVFVRTogJ09QQVFVRScsXG5cdE1BU0s6ICdNQVNLJyxcblx0QkxFTkQ6ICdCTEVORCdcbn07XG5cbi8qIFVUSUxJVFkgRlVOQ1RJT05TICovXG5cbmZ1bmN0aW9uIHJlc29sdmVVUkwoIHVybCwgcGF0aCApIHtcblxuXHQvLyBJbnZhbGlkIFVSTFxuXHRpZiAoIHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnIHx8IHVybCA9PT0gJycgKSByZXR1cm4gJyc7XG5cblx0Ly8gSG9zdCBSZWxhdGl2ZSBVUkxcblx0aWYgKCAvXmh0dHBzPzpcXC9cXC8vaS50ZXN0KCBwYXRoICkgJiYgL15cXC8vLnRlc3QoIHVybCApICkge1xuXG5cdFx0cGF0aCA9IHBhdGgucmVwbGFjZSggLyheaHR0cHM/OlxcL1xcL1teXFwvXSspLiovaSwgJyQxJyApO1xuXG5cdH1cblxuXHQvLyBBYnNvbHV0ZSBVUkwgaHR0cDovLyxodHRwczovLywvL1xuXHRpZiAoIC9eKGh0dHBzPzopP1xcL1xcLy9pLnRlc3QoIHVybCApICkgcmV0dXJuIHVybDtcblxuXHQvLyBEYXRhIFVSSVxuXHRpZiAoIC9eZGF0YTouKiwuKiQvaS50ZXN0KCB1cmwgKSApIHJldHVybiB1cmw7XG5cblx0Ly8gQmxvYiBVUkxcblx0aWYgKCAvXmJsb2I6LiokL2kudGVzdCggdXJsICkgKSByZXR1cm4gdXJsO1xuXG5cdC8vIFJlbGF0aXZlIFVSTFxuXHRyZXR1cm4gcGF0aCArIHVybDtcblxufVxuXG4vKipcbiAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjZGVmYXVsdC1tYXRlcmlhbFxuICovXG5mdW5jdGlvbiBjcmVhdGVEZWZhdWx0TWF0ZXJpYWwoIGNhY2hlICkge1xuXG5cdGlmICggY2FjaGVbICdEZWZhdWx0TWF0ZXJpYWwnIF0gPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdGNhY2hlWyAnRGVmYXVsdE1hdGVyaWFsJyBdID0gbmV3IE1lc2hTdGFuZGFyZE1hdGVyaWFsKCB7XG5cdFx0XHRjb2xvcjogMHhGRkZGRkYsXG5cdFx0XHRlbWlzc2l2ZTogMHgwMDAwMDAsXG5cdFx0XHRtZXRhbG5lc3M6IDEsXG5cdFx0XHRyb3VnaG5lc3M6IDEsXG5cdFx0XHR0cmFuc3BhcmVudDogZmFsc2UsXG5cdFx0XHRkZXB0aFRlc3Q6IHRydWUsXG5cdFx0XHRzaWRlOiBGcm9udFNpZGVcblx0XHR9ICk7XG5cblx0fVxuXG5cdHJldHVybiBjYWNoZVsgJ0RlZmF1bHRNYXRlcmlhbCcgXTtcblxufVxuXG5mdW5jdGlvbiBhZGRVbmtub3duRXh0ZW5zaW9uc1RvVXNlckRhdGEoIGtub3duRXh0ZW5zaW9ucywgb2JqZWN0LCBvYmplY3REZWYgKSB7XG5cblx0Ly8gQWRkIHVua25vd24gZ2xURiBleHRlbnNpb25zIHRvIGFuIG9iamVjdCdzIHVzZXJEYXRhLlxuXG5cdGZvciAoIGNvbnN0IG5hbWUgaW4gb2JqZWN0RGVmLmV4dGVuc2lvbnMgKSB7XG5cblx0XHRpZiAoIGtub3duRXh0ZW5zaW9uc1sgbmFtZSBdID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdG9iamVjdC51c2VyRGF0YS5nbHRmRXh0ZW5zaW9ucyA9IG9iamVjdC51c2VyRGF0YS5nbHRmRXh0ZW5zaW9ucyB8fCB7fTtcblx0XHRcdG9iamVjdC51c2VyRGF0YS5nbHRmRXh0ZW5zaW9uc1sgbmFtZSBdID0gb2JqZWN0RGVmLmV4dGVuc2lvbnNbIG5hbWUgXTtcblxuXHRcdH1cblxuXHR9XG5cbn1cblxuLyoqXG4gKiBAcGFyYW0ge09iamVjdDNEfE1hdGVyaWFsfEJ1ZmZlckdlb21ldHJ5fSBvYmplY3RcbiAqIEBwYXJhbSB7R0xURi5kZWZpbml0aW9ufSBnbHRmRGVmXG4gKi9cbmZ1bmN0aW9uIGFzc2lnbkV4dHJhc1RvVXNlckRhdGEoIG9iamVjdCwgZ2x0ZkRlZiApIHtcblxuXHRpZiAoIGdsdGZEZWYuZXh0cmFzICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRpZiAoIHR5cGVvZiBnbHRmRGVmLmV4dHJhcyA9PT0gJ29iamVjdCcgKSB7XG5cblx0XHRcdE9iamVjdC5hc3NpZ24oIG9iamVjdC51c2VyRGF0YSwgZ2x0ZkRlZi5leHRyYXMgKTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkdMVEZMb2FkZXI6IElnbm9yaW5nIHByaW1pdGl2ZSB0eXBlIC5leHRyYXMsICcgKyBnbHRmRGVmLmV4dHJhcyApO1xuXG5cdFx0fVxuXG5cdH1cblxufVxuXG4vKipcbiAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjbW9ycGgtdGFyZ2V0c1xuICpcbiAqIEBwYXJhbSB7QnVmZmVyR2VvbWV0cnl9IGdlb21ldHJ5XG4gKiBAcGFyYW0ge0FycmF5PEdMVEYuVGFyZ2V0Pn0gdGFyZ2V0c1xuICogQHBhcmFtIHtHTFRGUGFyc2VyfSBwYXJzZXJcbiAqIEByZXR1cm4ge1Byb21pc2U8QnVmZmVyR2VvbWV0cnk+fVxuICovXG5mdW5jdGlvbiBhZGRNb3JwaFRhcmdldHMoIGdlb21ldHJ5LCB0YXJnZXRzLCBwYXJzZXIgKSB7XG5cblx0bGV0IGhhc01vcnBoUG9zaXRpb24gPSBmYWxzZTtcblx0bGV0IGhhc01vcnBoTm9ybWFsID0gZmFsc2U7XG5cblx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IHRhcmdldHMubGVuZ3RoOyBpIDwgaWw7IGkgKysgKSB7XG5cblx0XHRjb25zdCB0YXJnZXQgPSB0YXJnZXRzWyBpIF07XG5cblx0XHRpZiAoIHRhcmdldC5QT1NJVElPTiAhPT0gdW5kZWZpbmVkICkgaGFzTW9ycGhQb3NpdGlvbiA9IHRydWU7XG5cdFx0aWYgKCB0YXJnZXQuTk9STUFMICE9PSB1bmRlZmluZWQgKSBoYXNNb3JwaE5vcm1hbCA9IHRydWU7XG5cblx0XHRpZiAoIGhhc01vcnBoUG9zaXRpb24gJiYgaGFzTW9ycGhOb3JtYWwgKSBicmVhaztcblxuXHR9XG5cblx0aWYgKCAhIGhhc01vcnBoUG9zaXRpb24gJiYgISBoYXNNb3JwaE5vcm1hbCApIHJldHVybiBQcm9taXNlLnJlc29sdmUoIGdlb21ldHJ5ICk7XG5cblx0Y29uc3QgcGVuZGluZ1Bvc2l0aW9uQWNjZXNzb3JzID0gW107XG5cdGNvbnN0IHBlbmRpbmdOb3JtYWxBY2Nlc3NvcnMgPSBbXTtcblxuXHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gdGFyZ2V0cy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdGNvbnN0IHRhcmdldCA9IHRhcmdldHNbIGkgXTtcblxuXHRcdGlmICggaGFzTW9ycGhQb3NpdGlvbiApIHtcblxuXHRcdFx0Y29uc3QgcGVuZGluZ0FjY2Vzc29yID0gdGFyZ2V0LlBPU0lUSU9OICE9PSB1bmRlZmluZWRcblx0XHRcdFx0PyBwYXJzZXIuZ2V0RGVwZW5kZW5jeSggJ2FjY2Vzc29yJywgdGFyZ2V0LlBPU0lUSU9OIClcblx0XHRcdFx0OiBnZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uO1xuXG5cdFx0XHRwZW5kaW5nUG9zaXRpb25BY2Nlc3NvcnMucHVzaCggcGVuZGluZ0FjY2Vzc29yICk7XG5cblx0XHR9XG5cblx0XHRpZiAoIGhhc01vcnBoTm9ybWFsICkge1xuXG5cdFx0XHRjb25zdCBwZW5kaW5nQWNjZXNzb3IgPSB0YXJnZXQuTk9STUFMICE9PSB1bmRlZmluZWRcblx0XHRcdFx0PyBwYXJzZXIuZ2V0RGVwZW5kZW5jeSggJ2FjY2Vzc29yJywgdGFyZ2V0Lk5PUk1BTCApXG5cdFx0XHRcdDogZ2VvbWV0cnkuYXR0cmlidXRlcy5ub3JtYWw7XG5cblx0XHRcdHBlbmRpbmdOb3JtYWxBY2Nlc3NvcnMucHVzaCggcGVuZGluZ0FjY2Vzc29yICk7XG5cblx0XHR9XG5cblx0fVxuXG5cdHJldHVybiBQcm9taXNlLmFsbCggW1xuXHRcdFByb21pc2UuYWxsKCBwZW5kaW5nUG9zaXRpb25BY2Nlc3NvcnMgKSxcblx0XHRQcm9taXNlLmFsbCggcGVuZGluZ05vcm1hbEFjY2Vzc29ycyApXG5cdF0gKS50aGVuKCBmdW5jdGlvbiAoIGFjY2Vzc29ycyApIHtcblxuXHRcdGNvbnN0IG1vcnBoUG9zaXRpb25zID0gYWNjZXNzb3JzWyAwIF07XG5cdFx0Y29uc3QgbW9ycGhOb3JtYWxzID0gYWNjZXNzb3JzWyAxIF07XG5cblx0XHRpZiAoIGhhc01vcnBoUG9zaXRpb24gKSBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb24gPSBtb3JwaFBvc2l0aW9ucztcblx0XHRpZiAoIGhhc01vcnBoTm9ybWFsICkgZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzLm5vcm1hbCA9IG1vcnBoTm9ybWFscztcblx0XHRnZW9tZXRyeS5tb3JwaFRhcmdldHNSZWxhdGl2ZSA9IHRydWU7XG5cblx0XHRyZXR1cm4gZ2VvbWV0cnk7XG5cblx0fSApO1xuXG59XG5cbi8qKlxuICogQHBhcmFtIHtNZXNofSBtZXNoXG4gKiBAcGFyYW0ge0dMVEYuTWVzaH0gbWVzaERlZlxuICovXG5mdW5jdGlvbiB1cGRhdGVNb3JwaFRhcmdldHMoIG1lc2gsIG1lc2hEZWYgKSB7XG5cblx0bWVzaC51cGRhdGVNb3JwaFRhcmdldHMoKTtcblxuXHRpZiAoIG1lc2hEZWYud2VpZ2h0cyAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IG1lc2hEZWYud2VpZ2h0cy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0bWVzaC5tb3JwaFRhcmdldEluZmx1ZW5jZXNbIGkgXSA9IG1lc2hEZWYud2VpZ2h0c1sgaSBdO1xuXG5cdFx0fVxuXG5cdH1cblxuXHQvLyAuZXh0cmFzIGhhcyB1c2VyLWRlZmluZWQgZGF0YSwgc28gY2hlY2sgdGhhdCAuZXh0cmFzLnRhcmdldE5hbWVzIGlzIGFuIGFycmF5LlxuXHRpZiAoIG1lc2hEZWYuZXh0cmFzICYmIEFycmF5LmlzQXJyYXkoIG1lc2hEZWYuZXh0cmFzLnRhcmdldE5hbWVzICkgKSB7XG5cblx0XHRjb25zdCB0YXJnZXROYW1lcyA9IG1lc2hEZWYuZXh0cmFzLnRhcmdldE5hbWVzO1xuXG5cdFx0aWYgKCBtZXNoLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcy5sZW5ndGggPT09IHRhcmdldE5hbWVzLmxlbmd0aCApIHtcblxuXHRcdFx0bWVzaC5tb3JwaFRhcmdldERpY3Rpb25hcnkgPSB7fTtcblxuXHRcdFx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IHRhcmdldE5hbWVzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkge1xuXG5cdFx0XHRcdG1lc2gubW9ycGhUYXJnZXREaWN0aW9uYXJ5WyB0YXJnZXROYW1lc1sgaSBdIF0gPSBpO1xuXG5cdFx0XHR9XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5HTFRGTG9hZGVyOiBJbnZhbGlkIGV4dHJhcy50YXJnZXROYW1lcyBsZW5ndGguIElnbm9yaW5nIG5hbWVzLicgKTtcblxuXHRcdH1cblxuXHR9XG5cbn1cblxuZnVuY3Rpb24gY3JlYXRlUHJpbWl0aXZlS2V5KCBwcmltaXRpdmVEZWYgKSB7XG5cblx0Y29uc3QgZHJhY29FeHRlbnNpb24gPSBwcmltaXRpdmVEZWYuZXh0ZW5zaW9ucyAmJiBwcmltaXRpdmVEZWYuZXh0ZW5zaW9uc1sgRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTiBdO1xuXHRsZXQgZ2VvbWV0cnlLZXk7XG5cblx0aWYgKCBkcmFjb0V4dGVuc2lvbiApIHtcblxuXHRcdGdlb21ldHJ5S2V5ID0gJ2RyYWNvOicgKyBkcmFjb0V4dGVuc2lvbi5idWZmZXJWaWV3XG5cdFx0XHRcdCsgJzonICsgZHJhY29FeHRlbnNpb24uaW5kaWNlc1xuXHRcdFx0XHQrICc6JyArIGNyZWF0ZUF0dHJpYnV0ZXNLZXkoIGRyYWNvRXh0ZW5zaW9uLmF0dHJpYnV0ZXMgKTtcblxuXHR9IGVsc2Uge1xuXG5cdFx0Z2VvbWV0cnlLZXkgPSBwcmltaXRpdmVEZWYuaW5kaWNlcyArICc6JyArIGNyZWF0ZUF0dHJpYnV0ZXNLZXkoIHByaW1pdGl2ZURlZi5hdHRyaWJ1dGVzICkgKyAnOicgKyBwcmltaXRpdmVEZWYubW9kZTtcblxuXHR9XG5cblx0cmV0dXJuIGdlb21ldHJ5S2V5O1xuXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUF0dHJpYnV0ZXNLZXkoIGF0dHJpYnV0ZXMgKSB7XG5cblx0bGV0IGF0dHJpYnV0ZXNLZXkgPSAnJztcblxuXHRjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoIGF0dHJpYnV0ZXMgKS5zb3J0KCk7XG5cblx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IGtleXMubGVuZ3RoOyBpIDwgaWw7IGkgKysgKSB7XG5cblx0XHRhdHRyaWJ1dGVzS2V5ICs9IGtleXNbIGkgXSArICc6JyArIGF0dHJpYnV0ZXNbIGtleXNbIGkgXSBdICsgJzsnO1xuXG5cdH1cblxuXHRyZXR1cm4gYXR0cmlidXRlc0tleTtcblxufVxuXG5mdW5jdGlvbiBnZXROb3JtYWxpemVkQ29tcG9uZW50U2NhbGUoIGNvbnN0cnVjdG9yICkge1xuXG5cdC8vIFJlZmVyZW5jZTpcblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX21lc2hfcXVhbnRpemF0aW9uI2VuY29kaW5nLXF1YW50aXplZC1kYXRhXG5cblx0c3dpdGNoICggY29uc3RydWN0b3IgKSB7XG5cblx0XHRjYXNlIEludDhBcnJheTpcblx0XHRcdHJldHVybiAxIC8gMTI3O1xuXG5cdFx0Y2FzZSBVaW50OEFycmF5OlxuXHRcdFx0cmV0dXJuIDEgLyAyNTU7XG5cblx0XHRjYXNlIEludDE2QXJyYXk6XG5cdFx0XHRyZXR1cm4gMSAvIDMyNzY3O1xuXG5cdFx0Y2FzZSBVaW50MTZBcnJheTpcblx0XHRcdHJldHVybiAxIC8gNjU1MzU7XG5cblx0XHRkZWZhdWx0OlxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCAnVEhSRUUuR0xURkxvYWRlcjogVW5zdXBwb3J0ZWQgbm9ybWFsaXplZCBhY2Nlc3NvciBjb21wb25lbnQgdHlwZS4nICk7XG5cblx0fVxuXG59XG5cbi8qIEdMVEYgUEFSU0VSICovXG5cbmNsYXNzIEdMVEZQYXJzZXIge1xuXG5cdGNvbnN0cnVjdG9yKCBqc29uID0ge30sIG9wdGlvbnMgPSB7fSApIHtcblxuXHRcdHRoaXMuanNvbiA9IGpzb247XG5cdFx0dGhpcy5leHRlbnNpb25zID0ge307XG5cdFx0dGhpcy5wbHVnaW5zID0ge307XG5cdFx0dGhpcy5vcHRpb25zID0gb3B0aW9ucztcblxuXHRcdC8vIGxvYWRlciBvYmplY3QgY2FjaGVcblx0XHR0aGlzLmNhY2hlID0gbmV3IEdMVEZSZWdpc3RyeSgpO1xuXG5cdFx0Ly8gYXNzb2NpYXRpb25zIGJldHdlZW4gVGhyZWUuanMgb2JqZWN0cyBhbmQgZ2xURiBlbGVtZW50c1xuXHRcdHRoaXMuYXNzb2NpYXRpb25zID0gbmV3IE1hcCgpO1xuXG5cdFx0Ly8gQnVmZmVyR2VvbWV0cnkgY2FjaGluZ1xuXHRcdHRoaXMucHJpbWl0aXZlQ2FjaGUgPSB7fTtcblxuXHRcdC8vIE9iamVjdDNEIGluc3RhbmNlIGNhY2hlc1xuXHRcdHRoaXMubWVzaENhY2hlID0geyByZWZzOiB7fSwgdXNlczoge30gfTtcblx0XHR0aGlzLmNhbWVyYUNhY2hlID0geyByZWZzOiB7fSwgdXNlczoge30gfTtcblx0XHR0aGlzLmxpZ2h0Q2FjaGUgPSB7IHJlZnM6IHt9LCB1c2VzOiB7fSB9O1xuXG5cdFx0dGhpcy50ZXh0dXJlQ2FjaGUgPSB7fTtcblxuXHRcdC8vIFRyYWNrIG5vZGUgbmFtZXMsIHRvIGVuc3VyZSBubyBkdXBsaWNhdGVzXG5cdFx0dGhpcy5ub2RlTmFtZXNVc2VkID0ge307XG5cblx0XHQvLyBVc2UgYW4gSW1hZ2VCaXRtYXBMb2FkZXIgaWYgaW1hZ2VCaXRtYXBzIGFyZSBzdXBwb3J0ZWQuIE1vdmVzIG11Y2ggb2YgdGhlXG5cdFx0Ly8gZXhwZW5zaXZlIHdvcmsgb2YgdXBsb2FkaW5nIGEgdGV4dHVyZSB0byB0aGUgR1BVIG9mZiB0aGUgbWFpbiB0aHJlYWQuXG5cdFx0aWYgKCB0eXBlb2YgY3JlYXRlSW1hZ2VCaXRtYXAgIT09ICd1bmRlZmluZWQnICYmIC9GaXJlZm94Ly50ZXN0KCBuYXZpZ2F0b3IudXNlckFnZW50ICkgPT09IGZhbHNlICkge1xuXG5cdFx0XHR0aGlzLnRleHR1cmVMb2FkZXIgPSBuZXcgSW1hZ2VCaXRtYXBMb2FkZXIoIHRoaXMub3B0aW9ucy5tYW5hZ2VyICk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHR0aGlzLnRleHR1cmVMb2FkZXIgPSBuZXcgVGV4dHVyZUxvYWRlciggdGhpcy5vcHRpb25zLm1hbmFnZXIgKTtcblxuXHRcdH1cblxuXHRcdHRoaXMudGV4dHVyZUxvYWRlci5zZXRDcm9zc09yaWdpbiggdGhpcy5vcHRpb25zLmNyb3NzT3JpZ2luICk7XG5cdFx0dGhpcy50ZXh0dXJlTG9hZGVyLnNldFJlcXVlc3RIZWFkZXIoIHRoaXMub3B0aW9ucy5yZXF1ZXN0SGVhZGVyICk7XG5cblx0XHR0aGlzLmZpbGVMb2FkZXIgPSBuZXcgRmlsZUxvYWRlciggdGhpcy5vcHRpb25zLm1hbmFnZXIgKTtcblx0XHR0aGlzLmZpbGVMb2FkZXIuc2V0UmVzcG9uc2VUeXBlKCAnYXJyYXlidWZmZXInICk7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5jcm9zc09yaWdpbiA9PT0gJ3VzZS1jcmVkZW50aWFscycgKSB7XG5cblx0XHRcdHRoaXMuZmlsZUxvYWRlci5zZXRXaXRoQ3JlZGVudGlhbHMoIHRydWUgKTtcblxuXHRcdH1cblxuXHR9XG5cblx0c2V0RXh0ZW5zaW9ucyggZXh0ZW5zaW9ucyApIHtcblxuXHRcdHRoaXMuZXh0ZW5zaW9ucyA9IGV4dGVuc2lvbnM7XG5cblx0fVxuXG5cdHNldFBsdWdpbnMoIHBsdWdpbnMgKSB7XG5cblx0XHR0aGlzLnBsdWdpbnMgPSBwbHVnaW5zO1xuXG5cdH1cblxuXHRwYXJzZSggb25Mb2FkLCBvbkVycm9yICkge1xuXG5cdFx0Y29uc3QgcGFyc2VyID0gdGhpcztcblx0XHRjb25zdCBqc29uID0gdGhpcy5qc29uO1xuXHRcdGNvbnN0IGV4dGVuc2lvbnMgPSB0aGlzLmV4dGVuc2lvbnM7XG5cblx0XHQvLyBDbGVhciB0aGUgbG9hZGVyIGNhY2hlXG5cdFx0dGhpcy5jYWNoZS5yZW1vdmVBbGwoKTtcblxuXHRcdC8vIE1hcmsgdGhlIHNwZWNpYWwgbm9kZXMvbWVzaGVzIGluIGpzb24gZm9yIGVmZmljaWVudCBwYXJzZVxuXHRcdHRoaXMuX2ludm9rZUFsbCggZnVuY3Rpb24gKCBleHQgKSB7XG5cblx0XHRcdHJldHVybiBleHQuX21hcmtEZWZzICYmIGV4dC5fbWFya0RlZnMoKTtcblxuXHRcdH0gKTtcblxuXHRcdFByb21pc2UuYWxsKCB0aGlzLl9pbnZva2VBbGwoIGZ1bmN0aW9uICggZXh0ICkge1xuXG5cdFx0XHRyZXR1cm4gZXh0LmJlZm9yZVJvb3QgJiYgZXh0LmJlZm9yZVJvb3QoKTtcblxuXHRcdH0gKSApLnRoZW4oIGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0cmV0dXJuIFByb21pc2UuYWxsKCBbXG5cblx0XHRcdFx0cGFyc2VyLmdldERlcGVuZGVuY2llcyggJ3NjZW5lJyApLFxuXHRcdFx0XHRwYXJzZXIuZ2V0RGVwZW5kZW5jaWVzKCAnYW5pbWF0aW9uJyApLFxuXHRcdFx0XHRwYXJzZXIuZ2V0RGVwZW5kZW5jaWVzKCAnY2FtZXJhJyApLFxuXG5cdFx0XHRdICk7XG5cblx0XHR9ICkudGhlbiggZnVuY3Rpb24gKCBkZXBlbmRlbmNpZXMgKSB7XG5cblx0XHRcdGNvbnN0IHJlc3VsdCA9IHtcblx0XHRcdFx0c2NlbmU6IGRlcGVuZGVuY2llc1sgMCBdWyBqc29uLnNjZW5lIHx8IDAgXSxcblx0XHRcdFx0c2NlbmVzOiBkZXBlbmRlbmNpZXNbIDAgXSxcblx0XHRcdFx0YW5pbWF0aW9uczogZGVwZW5kZW5jaWVzWyAxIF0sXG5cdFx0XHRcdGNhbWVyYXM6IGRlcGVuZGVuY2llc1sgMiBdLFxuXHRcdFx0XHRhc3NldDoganNvbi5hc3NldCxcblx0XHRcdFx0cGFyc2VyOiBwYXJzZXIsXG5cdFx0XHRcdHVzZXJEYXRhOiB7fVxuXHRcdFx0fTtcblxuXHRcdFx0YWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhKCBleHRlbnNpb25zLCByZXN1bHQsIGpzb24gKTtcblxuXHRcdFx0YXNzaWduRXh0cmFzVG9Vc2VyRGF0YSggcmVzdWx0LCBqc29uICk7XG5cblx0XHRcdFByb21pc2UuYWxsKCBwYXJzZXIuX2ludm9rZUFsbCggZnVuY3Rpb24gKCBleHQgKSB7XG5cblx0XHRcdFx0cmV0dXJuIGV4dC5hZnRlclJvb3QgJiYgZXh0LmFmdGVyUm9vdCggcmVzdWx0ICk7XG5cblx0XHRcdH0gKSApLnRoZW4oIGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0XHRvbkxvYWQoIHJlc3VsdCApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHR9ICkuY2F0Y2goIG9uRXJyb3IgKTtcblxuXHR9XG5cblx0LyoqXG5cdCAqIE1hcmtzIHRoZSBzcGVjaWFsIG5vZGVzL21lc2hlcyBpbiBqc29uIGZvciBlZmZpY2llbnQgcGFyc2UuXG5cdCAqL1xuXHRfbWFya0RlZnMoKSB7XG5cblx0XHRjb25zdCBub2RlRGVmcyA9IHRoaXMuanNvbi5ub2RlcyB8fCBbXTtcblx0XHRjb25zdCBza2luRGVmcyA9IHRoaXMuanNvbi5za2lucyB8fCBbXTtcblx0XHRjb25zdCBtZXNoRGVmcyA9IHRoaXMuanNvbi5tZXNoZXMgfHwgW107XG5cblx0XHQvLyBOb3RoaW5nIGluIHRoZSBub2RlIGRlZmluaXRpb24gaW5kaWNhdGVzIHdoZXRoZXIgaXQgaXMgYSBCb25lIG9yIGFuXG5cdFx0Ly8gT2JqZWN0M0QuIFVzZSB0aGUgc2tpbnMnIGpvaW50IHJlZmVyZW5jZXMgdG8gbWFyayBib25lcy5cblx0XHRmb3IgKCBsZXQgc2tpbkluZGV4ID0gMCwgc2tpbkxlbmd0aCA9IHNraW5EZWZzLmxlbmd0aDsgc2tpbkluZGV4IDwgc2tpbkxlbmd0aDsgc2tpbkluZGV4ICsrICkge1xuXG5cdFx0XHRjb25zdCBqb2ludHMgPSBza2luRGVmc1sgc2tpbkluZGV4IF0uam9pbnRzO1xuXG5cdFx0XHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gam9pbnRzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkge1xuXG5cdFx0XHRcdG5vZGVEZWZzWyBqb2ludHNbIGkgXSBdLmlzQm9uZSA9IHRydWU7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdC8vIEl0ZXJhdGUgb3ZlciBhbGwgbm9kZXMsIG1hcmtpbmcgcmVmZXJlbmNlcyB0byBzaGFyZWQgcmVzb3VyY2VzLFxuXHRcdC8vIGFzIHdlbGwgYXMgc2tlbGV0b24gam9pbnRzLlxuXHRcdGZvciAoIGxldCBub2RlSW5kZXggPSAwLCBub2RlTGVuZ3RoID0gbm9kZURlZnMubGVuZ3RoOyBub2RlSW5kZXggPCBub2RlTGVuZ3RoOyBub2RlSW5kZXggKysgKSB7XG5cblx0XHRcdGNvbnN0IG5vZGVEZWYgPSBub2RlRGVmc1sgbm9kZUluZGV4IF07XG5cblx0XHRcdGlmICggbm9kZURlZi5tZXNoICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0dGhpcy5fYWRkTm9kZVJlZiggdGhpcy5tZXNoQ2FjaGUsIG5vZGVEZWYubWVzaCApO1xuXG5cdFx0XHRcdC8vIE5vdGhpbmcgaW4gdGhlIG1lc2ggZGVmaW5pdGlvbiBpbmRpY2F0ZXMgd2hldGhlciBpdCBpc1xuXHRcdFx0XHQvLyBhIFNraW5uZWRNZXNoIG9yIE1lc2guIFVzZSB0aGUgbm9kZSdzIG1lc2ggcmVmZXJlbmNlXG5cdFx0XHRcdC8vIHRvIG1hcmsgU2tpbm5lZE1lc2ggaWYgbm9kZSBoYXMgc2tpbi5cblx0XHRcdFx0aWYgKCBub2RlRGVmLnNraW4gIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRcdG1lc2hEZWZzWyBub2RlRGVmLm1lc2ggXS5pc1NraW5uZWRNZXNoID0gdHJ1ZTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBub2RlRGVmLmNhbWVyYSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdHRoaXMuX2FkZE5vZGVSZWYoIHRoaXMuY2FtZXJhQ2FjaGUsIG5vZGVEZWYuY2FtZXJhICk7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHR9XG5cblx0LyoqXG5cdCAqIENvdW50cyByZWZlcmVuY2VzIHRvIHNoYXJlZCBub2RlIC8gT2JqZWN0M0QgcmVzb3VyY2VzLiBUaGVzZSByZXNvdXJjZXNcblx0ICogY2FuIGJlIHJldXNlZCwgb3IgXCJpbnN0YW50aWF0ZWRcIiwgYXQgbXVsdGlwbGUgbm9kZXMgaW4gdGhlIHNjZW5lXG5cdCAqIGhpZXJhcmNoeS4gTWVzaCwgQ2FtZXJhLCBhbmQgTGlnaHQgaW5zdGFuY2VzIGFyZSBpbnN0YW50aWF0ZWQgYW5kIG11c3Rcblx0ICogYmUgbWFya2VkLiBOb24tc2NlbmVncmFwaCByZXNvdXJjZXMgKGxpa2UgTWF0ZXJpYWxzLCBHZW9tZXRyaWVzLCBhbmRcblx0ICogVGV4dHVyZXMpIGNhbiBiZSByZXVzZWQgZGlyZWN0bHkgYW5kIGFyZSBub3QgbWFya2VkIGhlcmUuXG5cdCAqXG5cdCAqIEV4YW1wbGU6IENlc2l1bU1pbGtUcnVjayBzYW1wbGUgbW9kZWwgcmV1c2VzIFwiV2hlZWxcIiBtZXNoZXMuXG5cdCAqL1xuXHRfYWRkTm9kZVJlZiggY2FjaGUsIGluZGV4ICkge1xuXG5cdFx0aWYgKCBpbmRleCA9PT0gdW5kZWZpbmVkICkgcmV0dXJuO1xuXG5cdFx0aWYgKCBjYWNoZS5yZWZzWyBpbmRleCBdID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNhY2hlLnJlZnNbIGluZGV4IF0gPSBjYWNoZS51c2VzWyBpbmRleCBdID0gMDtcblxuXHRcdH1cblxuXHRcdGNhY2hlLnJlZnNbIGluZGV4IF0gKys7XG5cblx0fVxuXG5cdC8qKiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIGEgc2hhcmVkIHJlc291cmNlLCBjbG9uaW5nIGl0IGlmIG5lY2Vzc2FyeS4gKi9cblx0X2dldE5vZGVSZWYoIGNhY2hlLCBpbmRleCwgb2JqZWN0ICkge1xuXG5cdFx0aWYgKCBjYWNoZS5yZWZzWyBpbmRleCBdIDw9IDEgKSByZXR1cm4gb2JqZWN0O1xuXG5cdFx0Y29uc3QgcmVmID0gb2JqZWN0LmNsb25lKCk7XG5cblx0XHQvLyBQcm9wYWdhdGVzIG1hcHBpbmdzIHRvIHRoZSBjbG9uZWQgb2JqZWN0LCBwcmV2ZW50cyBtYXBwaW5ncyBvbiB0aGVcblx0XHQvLyBvcmlnaW5hbCBvYmplY3QgZnJvbSBiZWluZyBsb3N0LlxuXHRcdGNvbnN0IHVwZGF0ZU1hcHBpbmdzID0gKCBvcmlnaW5hbCwgY2xvbmUgKSA9PiB7XG5cblx0XHRcdGNvbnN0IG1hcHBpbmdzID0gdGhpcy5hc3NvY2lhdGlvbnMuZ2V0KCBvcmlnaW5hbCApO1xuXHRcdFx0aWYgKCBtYXBwaW5ncyAhPSBudWxsICkge1xuXG5cdFx0XHRcdHRoaXMuYXNzb2NpYXRpb25zLnNldCggY2xvbmUsIG1hcHBpbmdzICk7XG5cblx0XHRcdH1cblxuXHRcdFx0Zm9yICggY29uc3QgWyBpLCBjaGlsZCBdIG9mIG9yaWdpbmFsLmNoaWxkcmVuLmVudHJpZXMoKSApIHtcblxuXHRcdFx0XHR1cGRhdGVNYXBwaW5ncyggY2hpbGQsIGNsb25lLmNoaWxkcmVuWyBpIF0gKTtcblxuXHRcdFx0fVxuXG5cdFx0fTtcblxuXHRcdHVwZGF0ZU1hcHBpbmdzKCBvYmplY3QsIHJlZiApO1xuXG5cdFx0cmVmLm5hbWUgKz0gJ19pbnN0YW5jZV8nICsgKCBjYWNoZS51c2VzWyBpbmRleCBdICsrICk7XG5cblx0XHRyZXR1cm4gcmVmO1xuXG5cdH1cblxuXHRfaW52b2tlT25lKCBmdW5jICkge1xuXG5cdFx0Y29uc3QgZXh0ZW5zaW9ucyA9IE9iamVjdC52YWx1ZXMoIHRoaXMucGx1Z2lucyApO1xuXHRcdGV4dGVuc2lvbnMucHVzaCggdGhpcyApO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgZXh0ZW5zaW9ucy5sZW5ndGg7IGkgKysgKSB7XG5cblx0XHRcdGNvbnN0IHJlc3VsdCA9IGZ1bmMoIGV4dGVuc2lvbnNbIGkgXSApO1xuXG5cdFx0XHRpZiAoIHJlc3VsdCApIHJldHVybiByZXN1bHQ7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gbnVsbDtcblxuXHR9XG5cblx0X2ludm9rZUFsbCggZnVuYyApIHtcblxuXHRcdGNvbnN0IGV4dGVuc2lvbnMgPSBPYmplY3QudmFsdWVzKCB0aGlzLnBsdWdpbnMgKTtcblx0XHRleHRlbnNpb25zLnVuc2hpZnQoIHRoaXMgKTtcblxuXHRcdGNvbnN0IHBlbmRpbmcgPSBbXTtcblxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IGV4dGVuc2lvbnMubGVuZ3RoOyBpICsrICkge1xuXG5cdFx0XHRjb25zdCByZXN1bHQgPSBmdW5jKCBleHRlbnNpb25zWyBpIF0gKTtcblxuXHRcdFx0aWYgKCByZXN1bHQgKSBwZW5kaW5nLnB1c2goIHJlc3VsdCApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHBlbmRpbmc7XG5cblx0fVxuXG5cdC8qKlxuXHQgKiBSZXF1ZXN0cyB0aGUgc3BlY2lmaWVkIGRlcGVuZGVuY3kgYXN5bmNocm9ub3VzbHksIHdpdGggY2FjaGluZy5cblx0ICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcblx0ICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG5cdCAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0M0R8TWF0ZXJpYWx8VEhSRUUuVGV4dHVyZXxBbmltYXRpb25DbGlwfEFycmF5QnVmZmVyfE9iamVjdD59XG5cdCAqL1xuXHRnZXREZXBlbmRlbmN5KCB0eXBlLCBpbmRleCApIHtcblxuXHRcdGNvbnN0IGNhY2hlS2V5ID0gdHlwZSArICc6JyArIGluZGV4O1xuXHRcdGxldCBkZXBlbmRlbmN5ID0gdGhpcy5jYWNoZS5nZXQoIGNhY2hlS2V5ICk7XG5cblx0XHRpZiAoICEgZGVwZW5kZW5jeSApIHtcblxuXHRcdFx0c3dpdGNoICggdHlwZSApIHtcblxuXHRcdFx0XHRjYXNlICdzY2VuZSc6XG5cdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IHRoaXMubG9hZFNjZW5lKCBpbmRleCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgJ25vZGUnOlxuXHRcdFx0XHRcdGRlcGVuZGVuY3kgPSB0aGlzLmxvYWROb2RlKCBpbmRleCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgJ21lc2gnOlxuXHRcdFx0XHRcdGRlcGVuZGVuY3kgPSB0aGlzLl9pbnZva2VPbmUoIGZ1bmN0aW9uICggZXh0ICkge1xuXG5cdFx0XHRcdFx0XHRyZXR1cm4gZXh0LmxvYWRNZXNoICYmIGV4dC5sb2FkTWVzaCggaW5kZXggKTtcblxuXHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlICdhY2Nlc3Nvcic6XG5cdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IHRoaXMubG9hZEFjY2Vzc29yKCBpbmRleCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgJ2J1ZmZlclZpZXcnOlxuXHRcdFx0XHRcdGRlcGVuZGVuY3kgPSB0aGlzLl9pbnZva2VPbmUoIGZ1bmN0aW9uICggZXh0ICkge1xuXG5cdFx0XHRcdFx0XHRyZXR1cm4gZXh0LmxvYWRCdWZmZXJWaWV3ICYmIGV4dC5sb2FkQnVmZmVyVmlldyggaW5kZXggKTtcblxuXHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlICdidWZmZXInOlxuXHRcdFx0XHRcdGRlcGVuZGVuY3kgPSB0aGlzLmxvYWRCdWZmZXIoIGluZGV4ICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAnbWF0ZXJpYWwnOlxuXHRcdFx0XHRcdGRlcGVuZGVuY3kgPSB0aGlzLl9pbnZva2VPbmUoIGZ1bmN0aW9uICggZXh0ICkge1xuXG5cdFx0XHRcdFx0XHRyZXR1cm4gZXh0LmxvYWRNYXRlcmlhbCAmJiBleHQubG9hZE1hdGVyaWFsKCBpbmRleCApO1xuXG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgJ3RleHR1cmUnOlxuXHRcdFx0XHRcdGRlcGVuZGVuY3kgPSB0aGlzLl9pbnZva2VPbmUoIGZ1bmN0aW9uICggZXh0ICkge1xuXG5cdFx0XHRcdFx0XHRyZXR1cm4gZXh0LmxvYWRUZXh0dXJlICYmIGV4dC5sb2FkVGV4dHVyZSggaW5kZXggKTtcblxuXHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlICdza2luJzpcblx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gdGhpcy5sb2FkU2tpbiggaW5kZXggKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlICdhbmltYXRpb24nOlxuXHRcdFx0XHRcdGRlcGVuZGVuY3kgPSB0aGlzLmxvYWRBbmltYXRpb24oIGluZGV4ICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAnY2FtZXJhJzpcblx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gdGhpcy5sb2FkQ2FtZXJhKCBpbmRleCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCAnVW5rbm93biB0eXBlOiAnICsgdHlwZSApO1xuXG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuY2FjaGUuYWRkKCBjYWNoZUtleSwgZGVwZW5kZW5jeSApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRlcGVuZGVuY3k7XG5cblx0fVxuXG5cdC8qKlxuXHQgKiBSZXF1ZXN0cyBhbGwgZGVwZW5kZW5jaWVzIG9mIHRoZSBzcGVjaWZpZWQgdHlwZSBhc3luY2hyb25vdXNseSwgd2l0aCBjYWNoaW5nLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5PE9iamVjdD4+fVxuXHQgKi9cblx0Z2V0RGVwZW5kZW5jaWVzKCB0eXBlICkge1xuXG5cdFx0bGV0IGRlcGVuZGVuY2llcyA9IHRoaXMuY2FjaGUuZ2V0KCB0eXBlICk7XG5cblx0XHRpZiAoICEgZGVwZW5kZW5jaWVzICkge1xuXG5cdFx0XHRjb25zdCBwYXJzZXIgPSB0aGlzO1xuXHRcdFx0Y29uc3QgZGVmcyA9IHRoaXMuanNvblsgdHlwZSArICggdHlwZSA9PT0gJ21lc2gnID8gJ2VzJyA6ICdzJyApIF0gfHwgW107XG5cblx0XHRcdGRlcGVuZGVuY2llcyA9IFByb21pc2UuYWxsKCBkZWZzLm1hcCggZnVuY3Rpb24gKCBkZWYsIGluZGV4ICkge1xuXG5cdFx0XHRcdHJldHVybiBwYXJzZXIuZ2V0RGVwZW5kZW5jeSggdHlwZSwgaW5kZXggKTtcblxuXHRcdFx0fSApICk7XG5cblx0XHRcdHRoaXMuY2FjaGUuYWRkKCB0eXBlLCBkZXBlbmRlbmNpZXMgKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiBkZXBlbmRlbmNpZXM7XG5cblx0fVxuXG5cdC8qKlxuXHQgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI2J1ZmZlcnMtYW5kLWJ1ZmZlci12aWV3c1xuXHQgKiBAcGFyYW0ge251bWJlcn0gYnVmZmVySW5kZXhcblx0ICogQHJldHVybiB7UHJvbWlzZTxBcnJheUJ1ZmZlcj59XG5cdCAqL1xuXHRsb2FkQnVmZmVyKCBidWZmZXJJbmRleCApIHtcblxuXHRcdGNvbnN0IGJ1ZmZlckRlZiA9IHRoaXMuanNvbi5idWZmZXJzWyBidWZmZXJJbmRleCBdO1xuXHRcdGNvbnN0IGxvYWRlciA9IHRoaXMuZmlsZUxvYWRlcjtcblxuXHRcdGlmICggYnVmZmVyRGVmLnR5cGUgJiYgYnVmZmVyRGVmLnR5cGUgIT09ICdhcnJheWJ1ZmZlcicgKSB7XG5cblx0XHRcdHRocm93IG5ldyBFcnJvciggJ1RIUkVFLkdMVEZMb2FkZXI6ICcgKyBidWZmZXJEZWYudHlwZSArICcgYnVmZmVyIHR5cGUgaXMgbm90IHN1cHBvcnRlZC4nICk7XG5cblx0XHR9XG5cblx0XHQvLyBJZiBwcmVzZW50LCBHTEIgY29udGFpbmVyIGlzIHJlcXVpcmVkIHRvIGJlIHRoZSBmaXJzdCBidWZmZXIuXG5cdFx0aWYgKCBidWZmZXJEZWYudXJpID09PSB1bmRlZmluZWQgJiYgYnVmZmVySW5kZXggPT09IDAgKSB7XG5cblx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoIHRoaXMuZXh0ZW5zaW9uc1sgRVhURU5TSU9OUy5LSFJfQklOQVJZX0dMVEYgXS5ib2R5ICk7XG5cblx0XHR9XG5cblx0XHRjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKCBmdW5jdGlvbiAoIHJlc29sdmUsIHJlamVjdCApIHtcblxuXHRcdFx0bG9hZGVyLmxvYWQoIHJlc29sdmVVUkwoIGJ1ZmZlckRlZi51cmksIG9wdGlvbnMucGF0aCApLCByZXNvbHZlLCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0XHRyZWplY3QoIG5ldyBFcnJvciggJ1RIUkVFLkdMVEZMb2FkZXI6IEZhaWxlZCB0byBsb2FkIGJ1ZmZlciBcIicgKyBidWZmZXJEZWYudXJpICsgJ1wiLicgKSApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHR9ICk7XG5cblx0fVxuXG5cdC8qKlxuXHQgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI2J1ZmZlcnMtYW5kLWJ1ZmZlci12aWV3c1xuXHQgKiBAcGFyYW0ge251bWJlcn0gYnVmZmVyVmlld0luZGV4XG5cdCAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXlCdWZmZXI+fVxuXHQgKi9cblx0bG9hZEJ1ZmZlclZpZXcoIGJ1ZmZlclZpZXdJbmRleCApIHtcblxuXHRcdGNvbnN0IGJ1ZmZlclZpZXdEZWYgPSB0aGlzLmpzb24uYnVmZmVyVmlld3NbIGJ1ZmZlclZpZXdJbmRleCBdO1xuXG5cdFx0cmV0dXJuIHRoaXMuZ2V0RGVwZW5kZW5jeSggJ2J1ZmZlcicsIGJ1ZmZlclZpZXdEZWYuYnVmZmVyICkudGhlbiggZnVuY3Rpb24gKCBidWZmZXIgKSB7XG5cblx0XHRcdGNvbnN0IGJ5dGVMZW5ndGggPSBidWZmZXJWaWV3RGVmLmJ5dGVMZW5ndGggfHwgMDtcblx0XHRcdGNvbnN0IGJ5dGVPZmZzZXQgPSBidWZmZXJWaWV3RGVmLmJ5dGVPZmZzZXQgfHwgMDtcblx0XHRcdHJldHVybiBidWZmZXIuc2xpY2UoIGJ5dGVPZmZzZXQsIGJ5dGVPZmZzZXQgKyBieXRlTGVuZ3RoICk7XG5cblx0XHR9ICk7XG5cblx0fVxuXG5cdC8qKlxuXHQgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI2FjY2Vzc29yc1xuXHQgKiBAcGFyYW0ge251bWJlcn0gYWNjZXNzb3JJbmRleFxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPEJ1ZmZlckF0dHJpYnV0ZXxJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZT59XG5cdCAqL1xuXHRsb2FkQWNjZXNzb3IoIGFjY2Vzc29ySW5kZXggKSB7XG5cblx0XHRjb25zdCBwYXJzZXIgPSB0aGlzO1xuXHRcdGNvbnN0IGpzb24gPSB0aGlzLmpzb247XG5cblx0XHRjb25zdCBhY2Nlc3NvckRlZiA9IHRoaXMuanNvbi5hY2Nlc3NvcnNbIGFjY2Vzc29ySW5kZXggXTtcblxuXHRcdGlmICggYWNjZXNzb3JEZWYuYnVmZmVyVmlldyA9PT0gdW5kZWZpbmVkICYmIGFjY2Vzc29yRGVmLnNwYXJzZSA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHQvLyBJZ25vcmUgZW1wdHkgYWNjZXNzb3JzLCB3aGljaCBtYXkgYmUgdXNlZCB0byBkZWNsYXJlIHJ1bnRpbWVcblx0XHRcdC8vIGluZm9ybWF0aW9uIGFib3V0IGF0dHJpYnV0ZXMgY29taW5nIGZyb20gYW5vdGhlciBzb3VyY2UgKGUuZy4gRHJhY29cblx0XHRcdC8vIGNvbXByZXNzaW9uIGV4dGVuc2lvbikuXG5cdFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCBudWxsICk7XG5cblx0XHR9XG5cblx0XHRjb25zdCBwZW5kaW5nQnVmZmVyVmlld3MgPSBbXTtcblxuXHRcdGlmICggYWNjZXNzb3JEZWYuYnVmZmVyVmlldyAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRwZW5kaW5nQnVmZmVyVmlld3MucHVzaCggdGhpcy5nZXREZXBlbmRlbmN5KCAnYnVmZmVyVmlldycsIGFjY2Vzc29yRGVmLmJ1ZmZlclZpZXcgKSApO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0cGVuZGluZ0J1ZmZlclZpZXdzLnB1c2goIG51bGwgKTtcblxuXHRcdH1cblxuXHRcdGlmICggYWNjZXNzb3JEZWYuc3BhcnNlICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdHBlbmRpbmdCdWZmZXJWaWV3cy5wdXNoKCB0aGlzLmdldERlcGVuZGVuY3koICdidWZmZXJWaWV3JywgYWNjZXNzb3JEZWYuc3BhcnNlLmluZGljZXMuYnVmZmVyVmlldyApICk7XG5cdFx0XHRwZW5kaW5nQnVmZmVyVmlld3MucHVzaCggdGhpcy5nZXREZXBlbmRlbmN5KCAnYnVmZmVyVmlldycsIGFjY2Vzc29yRGVmLnNwYXJzZS52YWx1ZXMuYnVmZmVyVmlldyApICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gUHJvbWlzZS5hbGwoIHBlbmRpbmdCdWZmZXJWaWV3cyApLnRoZW4oIGZ1bmN0aW9uICggYnVmZmVyVmlld3MgKSB7XG5cblx0XHRcdGNvbnN0IGJ1ZmZlclZpZXcgPSBidWZmZXJWaWV3c1sgMCBdO1xuXG5cdFx0XHRjb25zdCBpdGVtU2l6ZSA9IFdFQkdMX1RZUEVfU0laRVNbIGFjY2Vzc29yRGVmLnR5cGUgXTtcblx0XHRcdGNvbnN0IFR5cGVkQXJyYXkgPSBXRUJHTF9DT01QT05FTlRfVFlQRVNbIGFjY2Vzc29yRGVmLmNvbXBvbmVudFR5cGUgXTtcblxuXHRcdFx0Ly8gRm9yIFZFQzM6IGl0ZW1TaXplIGlzIDMsIGVsZW1lbnRCeXRlcyBpcyA0LCBpdGVtQnl0ZXMgaXMgMTIuXG5cdFx0XHRjb25zdCBlbGVtZW50Qnl0ZXMgPSBUeXBlZEFycmF5LkJZVEVTX1BFUl9FTEVNRU5UO1xuXHRcdFx0Y29uc3QgaXRlbUJ5dGVzID0gZWxlbWVudEJ5dGVzICogaXRlbVNpemU7XG5cdFx0XHRjb25zdCBieXRlT2Zmc2V0ID0gYWNjZXNzb3JEZWYuYnl0ZU9mZnNldCB8fCAwO1xuXHRcdFx0Y29uc3QgYnl0ZVN0cmlkZSA9IGFjY2Vzc29yRGVmLmJ1ZmZlclZpZXcgIT09IHVuZGVmaW5lZCA/IGpzb24uYnVmZmVyVmlld3NbIGFjY2Vzc29yRGVmLmJ1ZmZlclZpZXcgXS5ieXRlU3RyaWRlIDogdW5kZWZpbmVkO1xuXHRcdFx0Y29uc3Qgbm9ybWFsaXplZCA9IGFjY2Vzc29yRGVmLm5vcm1hbGl6ZWQgPT09IHRydWU7XG5cdFx0XHRsZXQgYXJyYXksIGJ1ZmZlckF0dHJpYnV0ZTtcblxuXHRcdFx0Ly8gVGhlIGJ1ZmZlciBpcyBub3QgaW50ZXJsZWF2ZWQgaWYgdGhlIHN0cmlkZSBpcyB0aGUgaXRlbSBzaXplIGluIGJ5dGVzLlxuXHRcdFx0aWYgKCBieXRlU3RyaWRlICYmIGJ5dGVTdHJpZGUgIT09IGl0ZW1CeXRlcyApIHtcblxuXHRcdFx0XHQvLyBFYWNoIFwic2xpY2VcIiBvZiB0aGUgYnVmZmVyLCBhcyBkZWZpbmVkIGJ5ICdjb3VudCcgZWxlbWVudHMgb2YgJ2J5dGVTdHJpZGUnIGJ5dGVzLCBnZXRzIGl0cyBvd24gSW50ZXJsZWF2ZWRCdWZmZXJcblx0XHRcdFx0Ly8gVGhpcyBtYWtlcyBzdXJlIHRoYXQgSUJBLmNvdW50IHJlZmxlY3RzIGFjY2Vzc29yLmNvdW50IHByb3Blcmx5XG5cdFx0XHRcdGNvbnN0IGliU2xpY2UgPSBNYXRoLmZsb29yKCBieXRlT2Zmc2V0IC8gYnl0ZVN0cmlkZSApO1xuXHRcdFx0XHRjb25zdCBpYkNhY2hlS2V5ID0gJ0ludGVybGVhdmVkQnVmZmVyOicgKyBhY2Nlc3NvckRlZi5idWZmZXJWaWV3ICsgJzonICsgYWNjZXNzb3JEZWYuY29tcG9uZW50VHlwZSArICc6JyArIGliU2xpY2UgKyAnOicgKyBhY2Nlc3NvckRlZi5jb3VudDtcblx0XHRcdFx0bGV0IGliID0gcGFyc2VyLmNhY2hlLmdldCggaWJDYWNoZUtleSApO1xuXG5cdFx0XHRcdGlmICggISBpYiApIHtcblxuXHRcdFx0XHRcdGFycmF5ID0gbmV3IFR5cGVkQXJyYXkoIGJ1ZmZlclZpZXcsIGliU2xpY2UgKiBieXRlU3RyaWRlLCBhY2Nlc3NvckRlZi5jb3VudCAqIGJ5dGVTdHJpZGUgLyBlbGVtZW50Qnl0ZXMgKTtcblxuXHRcdFx0XHRcdC8vIEludGVnZXIgcGFyYW1ldGVycyB0byBJQi9JQkEgYXJlIGluIGFycmF5IGVsZW1lbnRzLCBub3QgYnl0ZXMuXG5cdFx0XHRcdFx0aWIgPSBuZXcgSW50ZXJsZWF2ZWRCdWZmZXIoIGFycmF5LCBieXRlU3RyaWRlIC8gZWxlbWVudEJ5dGVzICk7XG5cblx0XHRcdFx0XHRwYXJzZXIuY2FjaGUuYWRkKCBpYkNhY2hlS2V5LCBpYiApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRidWZmZXJBdHRyaWJ1dGUgPSBuZXcgSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUoIGliLCBpdGVtU2l6ZSwgKCBieXRlT2Zmc2V0ICUgYnl0ZVN0cmlkZSApIC8gZWxlbWVudEJ5dGVzLCBub3JtYWxpemVkICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0aWYgKCBidWZmZXJWaWV3ID09PSBudWxsICkge1xuXG5cdFx0XHRcdFx0YXJyYXkgPSBuZXcgVHlwZWRBcnJheSggYWNjZXNzb3JEZWYuY291bnQgKiBpdGVtU2l6ZSApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRhcnJheSA9IG5ldyBUeXBlZEFycmF5KCBidWZmZXJWaWV3LCBieXRlT2Zmc2V0LCBhY2Nlc3NvckRlZi5jb3VudCAqIGl0ZW1TaXplICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJ1ZmZlckF0dHJpYnV0ZSA9IG5ldyBCdWZmZXJBdHRyaWJ1dGUoIGFycmF5LCBpdGVtU2l6ZSwgbm9ybWFsaXplZCApO1xuXG5cdFx0XHR9XG5cblx0XHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjc3BhcnNlLWFjY2Vzc29yc1xuXHRcdFx0aWYgKCBhY2Nlc3NvckRlZi5zcGFyc2UgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRjb25zdCBpdGVtU2l6ZUluZGljZXMgPSBXRUJHTF9UWVBFX1NJWkVTLlNDQUxBUjtcblx0XHRcdFx0Y29uc3QgVHlwZWRBcnJheUluZGljZXMgPSBXRUJHTF9DT01QT05FTlRfVFlQRVNbIGFjY2Vzc29yRGVmLnNwYXJzZS5pbmRpY2VzLmNvbXBvbmVudFR5cGUgXTtcblxuXHRcdFx0XHRjb25zdCBieXRlT2Zmc2V0SW5kaWNlcyA9IGFjY2Vzc29yRGVmLnNwYXJzZS5pbmRpY2VzLmJ5dGVPZmZzZXQgfHwgMDtcblx0XHRcdFx0Y29uc3QgYnl0ZU9mZnNldFZhbHVlcyA9IGFjY2Vzc29yRGVmLnNwYXJzZS52YWx1ZXMuYnl0ZU9mZnNldCB8fCAwO1xuXG5cdFx0XHRcdGNvbnN0IHNwYXJzZUluZGljZXMgPSBuZXcgVHlwZWRBcnJheUluZGljZXMoIGJ1ZmZlclZpZXdzWyAxIF0sIGJ5dGVPZmZzZXRJbmRpY2VzLCBhY2Nlc3NvckRlZi5zcGFyc2UuY291bnQgKiBpdGVtU2l6ZUluZGljZXMgKTtcblx0XHRcdFx0Y29uc3Qgc3BhcnNlVmFsdWVzID0gbmV3IFR5cGVkQXJyYXkoIGJ1ZmZlclZpZXdzWyAyIF0sIGJ5dGVPZmZzZXRWYWx1ZXMsIGFjY2Vzc29yRGVmLnNwYXJzZS5jb3VudCAqIGl0ZW1TaXplICk7XG5cblx0XHRcdFx0aWYgKCBidWZmZXJWaWV3ICE9PSBudWxsICkge1xuXG5cdFx0XHRcdFx0Ly8gQXZvaWQgbW9kaWZ5aW5nIHRoZSBvcmlnaW5hbCBBcnJheUJ1ZmZlciwgaWYgdGhlIGJ1ZmZlclZpZXcgd2Fzbid0IGluaXRpYWxpemVkIHdpdGggemVyb2VzLlxuXHRcdFx0XHRcdGJ1ZmZlckF0dHJpYnV0ZSA9IG5ldyBCdWZmZXJBdHRyaWJ1dGUoIGJ1ZmZlckF0dHJpYnV0ZS5hcnJheS5zbGljZSgpLCBidWZmZXJBdHRyaWJ1dGUuaXRlbVNpemUsIGJ1ZmZlckF0dHJpYnV0ZS5ub3JtYWxpemVkICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGZvciAoIGxldCBpID0gMCwgaWwgPSBzcGFyc2VJbmRpY2VzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkge1xuXG5cdFx0XHRcdFx0Y29uc3QgaW5kZXggPSBzcGFyc2VJbmRpY2VzWyBpIF07XG5cblx0XHRcdFx0XHRidWZmZXJBdHRyaWJ1dGUuc2V0WCggaW5kZXgsIHNwYXJzZVZhbHVlc1sgaSAqIGl0ZW1TaXplIF0gKTtcblx0XHRcdFx0XHRpZiAoIGl0ZW1TaXplID49IDIgKSBidWZmZXJBdHRyaWJ1dGUuc2V0WSggaW5kZXgsIHNwYXJzZVZhbHVlc1sgaSAqIGl0ZW1TaXplICsgMSBdICk7XG5cdFx0XHRcdFx0aWYgKCBpdGVtU2l6ZSA+PSAzICkgYnVmZmVyQXR0cmlidXRlLnNldFooIGluZGV4LCBzcGFyc2VWYWx1ZXNbIGkgKiBpdGVtU2l6ZSArIDIgXSApO1xuXHRcdFx0XHRcdGlmICggaXRlbVNpemUgPj0gNCApIGJ1ZmZlckF0dHJpYnV0ZS5zZXRXKCBpbmRleCwgc3BhcnNlVmFsdWVzWyBpICogaXRlbVNpemUgKyAzIF0gKTtcblx0XHRcdFx0XHRpZiAoIGl0ZW1TaXplID49IDUgKSB0aHJvdyBuZXcgRXJyb3IoICdUSFJFRS5HTFRGTG9hZGVyOiBVbnN1cHBvcnRlZCBpdGVtU2l6ZSBpbiBzcGFyc2UgQnVmZmVyQXR0cmlidXRlLicgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGJ1ZmZlckF0dHJpYnV0ZTtcblxuXHRcdH0gKTtcblxuXHR9XG5cblx0LyoqXG5cdCAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCN0ZXh0dXJlc1xuXHQgKiBAcGFyYW0ge251bWJlcn0gdGV4dHVyZUluZGV4XG5cdCAqIEByZXR1cm4ge1Byb21pc2U8VEhSRUUuVGV4dHVyZT59XG5cdCAqL1xuXHRsb2FkVGV4dHVyZSggdGV4dHVyZUluZGV4ICkge1xuXG5cdFx0Y29uc3QganNvbiA9IHRoaXMuanNvbjtcblx0XHRjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXHRcdGNvbnN0IHRleHR1cmVEZWYgPSBqc29uLnRleHR1cmVzWyB0ZXh0dXJlSW5kZXggXTtcblx0XHRjb25zdCBzb3VyY2UgPSBqc29uLmltYWdlc1sgdGV4dHVyZURlZi5zb3VyY2UgXTtcblxuXHRcdGxldCBsb2FkZXIgPSB0aGlzLnRleHR1cmVMb2FkZXI7XG5cblx0XHRpZiAoIHNvdXJjZS51cmkgKSB7XG5cblx0XHRcdGNvbnN0IGhhbmRsZXIgPSBvcHRpb25zLm1hbmFnZXIuZ2V0SGFuZGxlciggc291cmNlLnVyaSApO1xuXHRcdFx0aWYgKCBoYW5kbGVyICE9PSBudWxsICkgbG9hZGVyID0gaGFuZGxlcjtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmxvYWRUZXh0dXJlSW1hZ2UoIHRleHR1cmVJbmRleCwgc291cmNlLCBsb2FkZXIgKTtcblxuXHR9XG5cblx0bG9hZFRleHR1cmVJbWFnZSggdGV4dHVyZUluZGV4LCBzb3VyY2UsIGxvYWRlciApIHtcblxuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXM7XG5cdFx0Y29uc3QganNvbiA9IHRoaXMuanNvbjtcblx0XHRjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0Y29uc3QgdGV4dHVyZURlZiA9IGpzb24udGV4dHVyZXNbIHRleHR1cmVJbmRleCBdO1xuXG5cdFx0Y29uc3QgY2FjaGVLZXkgPSAoIHNvdXJjZS51cmkgfHwgc291cmNlLmJ1ZmZlclZpZXcgKSArICc6JyArIHRleHR1cmVEZWYuc2FtcGxlcjtcblxuXHRcdGlmICggdGhpcy50ZXh0dXJlQ2FjaGVbIGNhY2hlS2V5IF0gKSB7XG5cblx0XHRcdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2lzc3Vlcy8yMTU1OS5cblx0XHRcdHJldHVybiB0aGlzLnRleHR1cmVDYWNoZVsgY2FjaGVLZXkgXTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IFVSTCA9IHNlbGYuVVJMIHx8IHNlbGYud2Via2l0VVJMO1xuXG5cdFx0bGV0IHNvdXJjZVVSSSA9IHNvdXJjZS51cmkgfHwgJyc7XG5cdFx0bGV0IGlzT2JqZWN0VVJMID0gZmFsc2U7XG5cblx0XHRpZiAoIHNvdXJjZS5idWZmZXJWaWV3ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdC8vIExvYWQgYmluYXJ5IGltYWdlIGRhdGEgZnJvbSBidWZmZXJWaWV3LCBpZiBwcm92aWRlZC5cblxuXHRcdFx0c291cmNlVVJJID0gcGFyc2VyLmdldERlcGVuZGVuY3koICdidWZmZXJWaWV3Jywgc291cmNlLmJ1ZmZlclZpZXcgKS50aGVuKCBmdW5jdGlvbiAoIGJ1ZmZlclZpZXcgKSB7XG5cblx0XHRcdFx0aXNPYmplY3RVUkwgPSB0cnVlO1xuXHRcdFx0XHRjb25zdCBibG9iID0gbmV3IEJsb2IoIFsgYnVmZmVyVmlldyBdLCB7IHR5cGU6IHNvdXJjZS5taW1lVHlwZSB9ICk7XG5cdFx0XHRcdHNvdXJjZVVSSSA9IFVSTC5jcmVhdGVPYmplY3RVUkwoIGJsb2IgKTtcblx0XHRcdFx0cmV0dXJuIHNvdXJjZVVSSTtcblxuXHRcdFx0fSApO1xuXG5cdFx0fSBlbHNlIGlmICggc291cmNlLnVyaSA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoICdUSFJFRS5HTFRGTG9hZGVyOiBJbWFnZSAnICsgdGV4dHVyZUluZGV4ICsgJyBpcyBtaXNzaW5nIFVSSSBhbmQgYnVmZmVyVmlldycgKTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoIHNvdXJjZVVSSSApLnRoZW4oIGZ1bmN0aW9uICggc291cmNlVVJJICkge1xuXG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoIGZ1bmN0aW9uICggcmVzb2x2ZSwgcmVqZWN0ICkge1xuXG5cdFx0XHRcdGxldCBvbkxvYWQgPSByZXNvbHZlO1xuXG5cdFx0XHRcdGlmICggbG9hZGVyLmlzSW1hZ2VCaXRtYXBMb2FkZXIgPT09IHRydWUgKSB7XG5cblx0XHRcdFx0XHRvbkxvYWQgPSBmdW5jdGlvbiAoIGltYWdlQml0bWFwICkge1xuXG5cdFx0XHRcdFx0XHRjb25zdCB0ZXh0dXJlID0gbmV3IFRleHR1cmUoIGltYWdlQml0bWFwICk7XG5cdFx0XHRcdFx0XHR0ZXh0dXJlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblxuXHRcdFx0XHRcdFx0cmVzb2x2ZSggdGV4dHVyZSApO1xuXG5cdFx0XHRcdFx0fTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0bG9hZGVyLmxvYWQoIHJlc29sdmVVUkwoIHNvdXJjZVVSSSwgb3B0aW9ucy5wYXRoICksIG9uTG9hZCwgdW5kZWZpbmVkLCByZWplY3QgKTtcblxuXHRcdFx0fSApO1xuXG5cdFx0fSApLnRoZW4oIGZ1bmN0aW9uICggdGV4dHVyZSApIHtcblxuXHRcdFx0Ly8gQ2xlYW4gdXAgcmVzb3VyY2VzIGFuZCBjb25maWd1cmUgVGV4dHVyZS5cblxuXHRcdFx0aWYgKCBpc09iamVjdFVSTCA9PT0gdHJ1ZSApIHtcblxuXHRcdFx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKCBzb3VyY2VVUkkgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHR0ZXh0dXJlLmZsaXBZID0gZmFsc2U7XG5cblx0XHRcdGlmICggdGV4dHVyZURlZi5uYW1lICkgdGV4dHVyZS5uYW1lID0gdGV4dHVyZURlZi5uYW1lO1xuXG5cdFx0XHRjb25zdCBzYW1wbGVycyA9IGpzb24uc2FtcGxlcnMgfHwge307XG5cdFx0XHRjb25zdCBzYW1wbGVyID0gc2FtcGxlcnNbIHRleHR1cmVEZWYuc2FtcGxlciBdIHx8IHt9O1xuXG5cdFx0XHR0ZXh0dXJlLm1hZ0ZpbHRlciA9IFdFQkdMX0ZJTFRFUlNbIHNhbXBsZXIubWFnRmlsdGVyIF0gfHwgTGluZWFyRmlsdGVyO1xuXHRcdFx0dGV4dHVyZS5taW5GaWx0ZXIgPSBXRUJHTF9GSUxURVJTWyBzYW1wbGVyLm1pbkZpbHRlciBdIHx8IExpbmVhck1pcG1hcExpbmVhckZpbHRlcjtcblx0XHRcdHRleHR1cmUud3JhcFMgPSBXRUJHTF9XUkFQUElOR1NbIHNhbXBsZXIud3JhcFMgXSB8fCBSZXBlYXRXcmFwcGluZztcblx0XHRcdHRleHR1cmUud3JhcFQgPSBXRUJHTF9XUkFQUElOR1NbIHNhbXBsZXIud3JhcFQgXSB8fCBSZXBlYXRXcmFwcGluZztcblxuXHRcdFx0cGFyc2VyLmFzc29jaWF0aW9ucy5zZXQoIHRleHR1cmUsIHsgdGV4dHVyZXM6IHRleHR1cmVJbmRleCB9ICk7XG5cblx0XHRcdHJldHVybiB0ZXh0dXJlO1xuXG5cdFx0fSApLmNhdGNoKCBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdGNvbnNvbGUuZXJyb3IoICdUSFJFRS5HTFRGTG9hZGVyOiBDb3VsZG5cXCd0IGxvYWQgdGV4dHVyZScsIHNvdXJjZVVSSSApO1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHR9ICk7XG5cblx0XHR0aGlzLnRleHR1cmVDYWNoZVsgY2FjaGVLZXkgXSA9IHByb21pc2U7XG5cblx0XHRyZXR1cm4gcHJvbWlzZTtcblxuXHR9XG5cblx0LyoqXG5cdCAqIEFzeW5jaHJvbm91c2x5IGFzc2lnbnMgYSB0ZXh0dXJlIHRvIHRoZSBnaXZlbiBtYXRlcmlhbCBwYXJhbWV0ZXJzLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gbWF0ZXJpYWxQYXJhbXNcblx0ICogQHBhcmFtIHtzdHJpbmd9IG1hcE5hbWVcblx0ICogQHBhcmFtIHtPYmplY3R9IG1hcERlZlxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPFRleHR1cmU+fVxuXHQgKi9cblx0YXNzaWduVGV4dHVyZSggbWF0ZXJpYWxQYXJhbXMsIG1hcE5hbWUsIG1hcERlZiApIHtcblxuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXM7XG5cblx0XHRyZXR1cm4gdGhpcy5nZXREZXBlbmRlbmN5KCAndGV4dHVyZScsIG1hcERlZi5pbmRleCApLnRoZW4oIGZ1bmN0aW9uICggdGV4dHVyZSApIHtcblxuXHRcdFx0Ly8gTWF0ZXJpYWxzIHNhbXBsZSBhb01hcCBmcm9tIFVWIHNldCAxIGFuZCBvdGhlciBtYXBzIGZyb20gVVYgc2V0IDAgLSB0aGlzIGNhbid0IGJlIGNvbmZpZ3VyZWRcblx0XHRcdC8vIEhvd2V2ZXIsIHdlIHdpbGwgY29weSBVViBzZXQgMCB0byBVViBzZXQgMSBvbiBkZW1hbmQgZm9yIGFvTWFwXG5cdFx0XHRpZiAoIG1hcERlZi50ZXhDb29yZCAhPT0gdW5kZWZpbmVkICYmIG1hcERlZi50ZXhDb29yZCAhPSAwICYmICEgKCBtYXBOYW1lID09PSAnYW9NYXAnICYmIG1hcERlZi50ZXhDb29yZCA9PSAxICkgKSB7XG5cblx0XHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuR0xURkxvYWRlcjogQ3VzdG9tIFVWIHNldCAnICsgbWFwRGVmLnRleENvb3JkICsgJyBmb3IgdGV4dHVyZSAnICsgbWFwTmFtZSArICcgbm90IHlldCBzdXBwb3J0ZWQuJyApO1xuXG5cdFx0XHR9XG5cblx0XHRcdGlmICggcGFyc2VyLmV4dGVuc2lvbnNbIEVYVEVOU0lPTlMuS0hSX1RFWFRVUkVfVFJBTlNGT1JNIF0gKSB7XG5cblx0XHRcdFx0Y29uc3QgdHJhbnNmb3JtID0gbWFwRGVmLmV4dGVuc2lvbnMgIT09IHVuZGVmaW5lZCA/IG1hcERlZi5leHRlbnNpb25zWyBFWFRFTlNJT05TLktIUl9URVhUVVJFX1RSQU5TRk9STSBdIDogdW5kZWZpbmVkO1xuXG5cdFx0XHRcdGlmICggdHJhbnNmb3JtICkge1xuXG5cdFx0XHRcdFx0Y29uc3QgZ2x0ZlJlZmVyZW5jZSA9IHBhcnNlci5hc3NvY2lhdGlvbnMuZ2V0KCB0ZXh0dXJlICk7XG5cdFx0XHRcdFx0dGV4dHVyZSA9IHBhcnNlci5leHRlbnNpb25zWyBFWFRFTlNJT05TLktIUl9URVhUVVJFX1RSQU5TRk9STSBdLmV4dGVuZFRleHR1cmUoIHRleHR1cmUsIHRyYW5zZm9ybSApO1xuXHRcdFx0XHRcdHBhcnNlci5hc3NvY2lhdGlvbnMuc2V0KCB0ZXh0dXJlLCBnbHRmUmVmZXJlbmNlICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHRcdG1hdGVyaWFsUGFyYW1zWyBtYXBOYW1lIF0gPSB0ZXh0dXJlO1xuXG5cdFx0XHRyZXR1cm4gdGV4dHVyZTtcblxuXHRcdH0gKTtcblxuXHR9XG5cblx0LyoqXG5cdCAqIEFzc2lnbnMgZmluYWwgbWF0ZXJpYWwgdG8gYSBNZXNoLCBMaW5lLCBvciBQb2ludHMgaW5zdGFuY2UuIFRoZSBpbnN0YW5jZVxuXHQgKiBhbHJlYWR5IGhhcyBhIG1hdGVyaWFsIChnZW5lcmF0ZWQgZnJvbSB0aGUgZ2xURiBtYXRlcmlhbCBvcHRpb25zIGFsb25lKVxuXHQgKiBidXQgcmV1c2Ugb2YgdGhlIHNhbWUgZ2xURiBtYXRlcmlhbCBtYXkgcmVxdWlyZSBtdWx0aXBsZSB0aHJlZWpzIG1hdGVyaWFsc1xuXHQgKiB0byBhY2NvbW1vZGF0ZSBkaWZmZXJlbnQgcHJpbWl0aXZlIHR5cGVzLCBkZWZpbmVzLCBldGMuIE5ldyBtYXRlcmlhbHMgd2lsbFxuXHQgKiBiZSBjcmVhdGVkIGlmIG5lY2Vzc2FyeSwgYW5kIHJldXNlZCBmcm9tIGEgY2FjaGUuXG5cdCAqIEBwYXJhbSAge09iamVjdDNEfSBtZXNoIE1lc2gsIExpbmUsIG9yIFBvaW50cyBpbnN0YW5jZS5cblx0ICovXG5cdGFzc2lnbkZpbmFsTWF0ZXJpYWwoIG1lc2ggKSB7XG5cblx0XHRjb25zdCBnZW9tZXRyeSA9IG1lc2guZ2VvbWV0cnk7XG5cdFx0bGV0IG1hdGVyaWFsID0gbWVzaC5tYXRlcmlhbDtcblxuXHRcdGNvbnN0IHVzZURlcml2YXRpdmVUYW5nZW50cyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMudGFuZ2VudCA9PT0gdW5kZWZpbmVkO1xuXHRcdGNvbnN0IHVzZVZlcnRleENvbG9ycyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMuY29sb3IgIT09IHVuZGVmaW5lZDtcblx0XHRjb25zdCB1c2VGbGF0U2hhZGluZyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMubm9ybWFsID09PSB1bmRlZmluZWQ7XG5cblx0XHRpZiAoIG1lc2guaXNQb2ludHMgKSB7XG5cblx0XHRcdGNvbnN0IGNhY2hlS2V5ID0gJ1BvaW50c01hdGVyaWFsOicgKyBtYXRlcmlhbC51dWlkO1xuXG5cdFx0XHRsZXQgcG9pbnRzTWF0ZXJpYWwgPSB0aGlzLmNhY2hlLmdldCggY2FjaGVLZXkgKTtcblxuXHRcdFx0aWYgKCAhIHBvaW50c01hdGVyaWFsICkge1xuXG5cdFx0XHRcdHBvaW50c01hdGVyaWFsID0gbmV3IFBvaW50c01hdGVyaWFsKCk7XG5cdFx0XHRcdE1hdGVyaWFsLnByb3RvdHlwZS5jb3B5LmNhbGwoIHBvaW50c01hdGVyaWFsLCBtYXRlcmlhbCApO1xuXHRcdFx0XHRwb2ludHNNYXRlcmlhbC5jb2xvci5jb3B5KCBtYXRlcmlhbC5jb2xvciApO1xuXHRcdFx0XHRwb2ludHNNYXRlcmlhbC5tYXAgPSBtYXRlcmlhbC5tYXA7XG5cdFx0XHRcdHBvaW50c01hdGVyaWFsLnNpemVBdHRlbnVhdGlvbiA9IGZhbHNlOyAvLyBnbFRGIHNwZWMgc2F5cyBwb2ludHMgc2hvdWxkIGJlIDFweFxuXG5cdFx0XHRcdHRoaXMuY2FjaGUuYWRkKCBjYWNoZUtleSwgcG9pbnRzTWF0ZXJpYWwgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRtYXRlcmlhbCA9IHBvaW50c01hdGVyaWFsO1xuXG5cdFx0fSBlbHNlIGlmICggbWVzaC5pc0xpbmUgKSB7XG5cblx0XHRcdGNvbnN0IGNhY2hlS2V5ID0gJ0xpbmVCYXNpY01hdGVyaWFsOicgKyBtYXRlcmlhbC51dWlkO1xuXG5cdFx0XHRsZXQgbGluZU1hdGVyaWFsID0gdGhpcy5jYWNoZS5nZXQoIGNhY2hlS2V5ICk7XG5cblx0XHRcdGlmICggISBsaW5lTWF0ZXJpYWwgKSB7XG5cblx0XHRcdFx0bGluZU1hdGVyaWFsID0gbmV3IExpbmVCYXNpY01hdGVyaWFsKCk7XG5cdFx0XHRcdE1hdGVyaWFsLnByb3RvdHlwZS5jb3B5LmNhbGwoIGxpbmVNYXRlcmlhbCwgbWF0ZXJpYWwgKTtcblx0XHRcdFx0bGluZU1hdGVyaWFsLmNvbG9yLmNvcHkoIG1hdGVyaWFsLmNvbG9yICk7XG5cblx0XHRcdFx0dGhpcy5jYWNoZS5hZGQoIGNhY2hlS2V5LCBsaW5lTWF0ZXJpYWwgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRtYXRlcmlhbCA9IGxpbmVNYXRlcmlhbDtcblxuXHRcdH1cblxuXHRcdC8vIENsb25lIHRoZSBtYXRlcmlhbCBpZiBpdCB3aWxsIGJlIG1vZGlmaWVkXG5cdFx0aWYgKCB1c2VEZXJpdmF0aXZlVGFuZ2VudHMgfHwgdXNlVmVydGV4Q29sb3JzIHx8IHVzZUZsYXRTaGFkaW5nICkge1xuXG5cdFx0XHRsZXQgY2FjaGVLZXkgPSAnQ2xvbmVkTWF0ZXJpYWw6JyArIG1hdGVyaWFsLnV1aWQgKyAnOic7XG5cblx0XHRcdGlmICggbWF0ZXJpYWwuaXNHTFRGU3BlY3VsYXJHbG9zc2luZXNzTWF0ZXJpYWwgKSBjYWNoZUtleSArPSAnc3BlY3VsYXItZ2xvc3NpbmVzczonO1xuXHRcdFx0aWYgKCB1c2VEZXJpdmF0aXZlVGFuZ2VudHMgKSBjYWNoZUtleSArPSAnZGVyaXZhdGl2ZS10YW5nZW50czonO1xuXHRcdFx0aWYgKCB1c2VWZXJ0ZXhDb2xvcnMgKSBjYWNoZUtleSArPSAndmVydGV4LWNvbG9yczonO1xuXHRcdFx0aWYgKCB1c2VGbGF0U2hhZGluZyApIGNhY2hlS2V5ICs9ICdmbGF0LXNoYWRpbmc6JztcblxuXHRcdFx0bGV0IGNhY2hlZE1hdGVyaWFsID0gdGhpcy5jYWNoZS5nZXQoIGNhY2hlS2V5ICk7XG5cblx0XHRcdGlmICggISBjYWNoZWRNYXRlcmlhbCApIHtcblxuXHRcdFx0XHRjYWNoZWRNYXRlcmlhbCA9IG1hdGVyaWFsLmNsb25lKCk7XG5cblx0XHRcdFx0aWYgKCB1c2VWZXJ0ZXhDb2xvcnMgKSBjYWNoZWRNYXRlcmlhbC52ZXJ0ZXhDb2xvcnMgPSB0cnVlO1xuXHRcdFx0XHRpZiAoIHVzZUZsYXRTaGFkaW5nICkgY2FjaGVkTWF0ZXJpYWwuZmxhdFNoYWRpbmcgPSB0cnVlO1xuXG5cdFx0XHRcdGlmICggdXNlRGVyaXZhdGl2ZVRhbmdlbnRzICkge1xuXG5cdFx0XHRcdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9pc3N1ZXMvMTE0MzgjaXNzdWVjb21tZW50LTUwNzAwMzk5NVxuXHRcdFx0XHRcdGlmICggY2FjaGVkTWF0ZXJpYWwubm9ybWFsU2NhbGUgKSBjYWNoZWRNYXRlcmlhbC5ub3JtYWxTY2FsZS55ICo9IC0gMTtcblx0XHRcdFx0XHRpZiAoIGNhY2hlZE1hdGVyaWFsLmNsZWFyY29hdE5vcm1hbFNjYWxlICkgY2FjaGVkTWF0ZXJpYWwuY2xlYXJjb2F0Tm9ybWFsU2NhbGUueSAqPSAtIDE7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMuY2FjaGUuYWRkKCBjYWNoZUtleSwgY2FjaGVkTWF0ZXJpYWwgKTtcblxuXHRcdFx0XHR0aGlzLmFzc29jaWF0aW9ucy5zZXQoIGNhY2hlZE1hdGVyaWFsLCB0aGlzLmFzc29jaWF0aW9ucy5nZXQoIG1hdGVyaWFsICkgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRtYXRlcmlhbCA9IGNhY2hlZE1hdGVyaWFsO1xuXG5cdFx0fVxuXG5cdFx0Ly8gd29ya2Fyb3VuZHMgZm9yIG1lc2ggYW5kIGdlb21ldHJ5XG5cblx0XHRpZiAoIG1hdGVyaWFsLmFvTWFwICYmIGdlb21ldHJ5LmF0dHJpYnV0ZXMudXYyID09PSB1bmRlZmluZWQgJiYgZ2VvbWV0cnkuYXR0cmlidXRlcy51diAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoICd1djInLCBnZW9tZXRyeS5hdHRyaWJ1dGVzLnV2ICk7XG5cblx0XHR9XG5cblx0XHRtZXNoLm1hdGVyaWFsID0gbWF0ZXJpYWw7XG5cblx0fVxuXG5cdGdldE1hdGVyaWFsVHlwZSggLyogbWF0ZXJpYWxJbmRleCAqLyApIHtcblxuXHRcdHJldHVybiBNZXNoU3RhbmRhcmRNYXRlcmlhbDtcblxuXHR9XG5cblx0LyoqXG5cdCAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjbWF0ZXJpYWxzXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBtYXRlcmlhbEluZGV4XG5cdCAqIEByZXR1cm4ge1Byb21pc2U8TWF0ZXJpYWw+fVxuXHQgKi9cblx0bG9hZE1hdGVyaWFsKCBtYXRlcmlhbEluZGV4ICkge1xuXG5cdFx0Y29uc3QgcGFyc2VyID0gdGhpcztcblx0XHRjb25zdCBqc29uID0gdGhpcy5qc29uO1xuXHRcdGNvbnN0IGV4dGVuc2lvbnMgPSB0aGlzLmV4dGVuc2lvbnM7XG5cdFx0Y29uc3QgbWF0ZXJpYWxEZWYgPSBqc29uLm1hdGVyaWFsc1sgbWF0ZXJpYWxJbmRleCBdO1xuXG5cdFx0bGV0IG1hdGVyaWFsVHlwZTtcblx0XHRjb25zdCBtYXRlcmlhbFBhcmFtcyA9IHt9O1xuXHRcdGNvbnN0IG1hdGVyaWFsRXh0ZW5zaW9ucyA9IG1hdGVyaWFsRGVmLmV4dGVuc2lvbnMgfHwge307XG5cblx0XHRjb25zdCBwZW5kaW5nID0gW107XG5cblx0XHRpZiAoIG1hdGVyaWFsRXh0ZW5zaW9uc1sgRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTIF0gKSB7XG5cblx0XHRcdGNvbnN0IHNnRXh0ZW5zaW9uID0gZXh0ZW5zaW9uc1sgRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTIF07XG5cdFx0XHRtYXRlcmlhbFR5cGUgPSBzZ0V4dGVuc2lvbi5nZXRNYXRlcmlhbFR5cGUoKTtcblx0XHRcdHBlbmRpbmcucHVzaCggc2dFeHRlbnNpb24uZXh0ZW5kUGFyYW1zKCBtYXRlcmlhbFBhcmFtcywgbWF0ZXJpYWxEZWYsIHBhcnNlciApICk7XG5cblx0XHR9IGVsc2UgaWYgKCBtYXRlcmlhbEV4dGVuc2lvbnNbIEVYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19VTkxJVCBdICkge1xuXG5cdFx0XHRjb25zdCBrbXVFeHRlbnNpb24gPSBleHRlbnNpb25zWyBFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfVU5MSVQgXTtcblx0XHRcdG1hdGVyaWFsVHlwZSA9IGttdUV4dGVuc2lvbi5nZXRNYXRlcmlhbFR5cGUoKTtcblx0XHRcdHBlbmRpbmcucHVzaCgga211RXh0ZW5zaW9uLmV4dGVuZFBhcmFtcyggbWF0ZXJpYWxQYXJhbXMsIG1hdGVyaWFsRGVmLCBwYXJzZXIgKSApO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gU3BlY2lmaWNhdGlvbjpcblx0XHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNtZXRhbGxpYy1yb3VnaG5lc3MtbWF0ZXJpYWxcblxuXHRcdFx0Y29uc3QgbWV0YWxsaWNSb3VnaG5lc3MgPSBtYXRlcmlhbERlZi5wYnJNZXRhbGxpY1JvdWdobmVzcyB8fCB7fTtcblxuXHRcdFx0bWF0ZXJpYWxQYXJhbXMuY29sb3IgPSBuZXcgQ29sb3IoIDEuMCwgMS4wLCAxLjAgKTtcblx0XHRcdG1hdGVyaWFsUGFyYW1zLm9wYWNpdHkgPSAxLjA7XG5cblx0XHRcdGlmICggQXJyYXkuaXNBcnJheSggbWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yRmFjdG9yICkgKSB7XG5cblx0XHRcdFx0Y29uc3QgYXJyYXkgPSBtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JGYWN0b3I7XG5cblx0XHRcdFx0bWF0ZXJpYWxQYXJhbXMuY29sb3IuZnJvbUFycmF5KCBhcnJheSApO1xuXHRcdFx0XHRtYXRlcmlhbFBhcmFtcy5vcGFjaXR5ID0gYXJyYXlbIDMgXTtcblxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvclRleHR1cmUgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRwZW5kaW5nLnB1c2goIHBhcnNlci5hc3NpZ25UZXh0dXJlKCBtYXRlcmlhbFBhcmFtcywgJ21hcCcsIG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvclRleHR1cmUgKSApO1xuXG5cdFx0XHR9XG5cblx0XHRcdG1hdGVyaWFsUGFyYW1zLm1ldGFsbmVzcyA9IG1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljRmFjdG9yICE9PSB1bmRlZmluZWQgPyBtZXRhbGxpY1JvdWdobmVzcy5tZXRhbGxpY0ZhY3RvciA6IDEuMDtcblx0XHRcdG1hdGVyaWFsUGFyYW1zLnJvdWdobmVzcyA9IG1ldGFsbGljUm91Z2huZXNzLnJvdWdobmVzc0ZhY3RvciAhPT0gdW5kZWZpbmVkID8gbWV0YWxsaWNSb3VnaG5lc3Mucm91Z2huZXNzRmFjdG9yIDogMS4wO1xuXG5cdFx0XHRpZiAoIG1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdHBlbmRpbmcucHVzaCggcGFyc2VyLmFzc2lnblRleHR1cmUoIG1hdGVyaWFsUGFyYW1zLCAnbWV0YWxuZXNzTWFwJywgbWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlICkgKTtcblx0XHRcdFx0cGVuZGluZy5wdXNoKCBwYXJzZXIuYXNzaWduVGV4dHVyZSggbWF0ZXJpYWxQYXJhbXMsICdyb3VnaG5lc3NNYXAnLCBtZXRhbGxpY1JvdWdobmVzcy5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmUgKSApO1xuXG5cdFx0XHR9XG5cblx0XHRcdG1hdGVyaWFsVHlwZSA9IHRoaXMuX2ludm9rZU9uZSggZnVuY3Rpb24gKCBleHQgKSB7XG5cblx0XHRcdFx0cmV0dXJuIGV4dC5nZXRNYXRlcmlhbFR5cGUgJiYgZXh0LmdldE1hdGVyaWFsVHlwZSggbWF0ZXJpYWxJbmRleCApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHRcdHBlbmRpbmcucHVzaCggUHJvbWlzZS5hbGwoIHRoaXMuX2ludm9rZUFsbCggZnVuY3Rpb24gKCBleHQgKSB7XG5cblx0XHRcdFx0cmV0dXJuIGV4dC5leHRlbmRNYXRlcmlhbFBhcmFtcyAmJiBleHQuZXh0ZW5kTWF0ZXJpYWxQYXJhbXMoIG1hdGVyaWFsSW5kZXgsIG1hdGVyaWFsUGFyYW1zICk7XG5cblx0XHRcdH0gKSApICk7XG5cblx0XHR9XG5cblx0XHRpZiAoIG1hdGVyaWFsRGVmLmRvdWJsZVNpZGVkID09PSB0cnVlICkge1xuXG5cdFx0XHRtYXRlcmlhbFBhcmFtcy5zaWRlID0gRG91YmxlU2lkZTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IGFscGhhTW9kZSA9IG1hdGVyaWFsRGVmLmFscGhhTW9kZSB8fCBBTFBIQV9NT0RFUy5PUEFRVUU7XG5cblx0XHRpZiAoIGFscGhhTW9kZSA9PT0gQUxQSEFfTU9ERVMuQkxFTkQgKSB7XG5cblx0XHRcdG1hdGVyaWFsUGFyYW1zLnRyYW5zcGFyZW50ID0gdHJ1ZTtcblxuXHRcdFx0Ly8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2lzc3Vlcy8xNzcwNlxuXHRcdFx0bWF0ZXJpYWxQYXJhbXMuZGVwdGhXcml0ZSA9IGZhbHNlO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0bWF0ZXJpYWxQYXJhbXMuZm9ybWF0ID0gUkdCRm9ybWF0O1xuXHRcdFx0bWF0ZXJpYWxQYXJhbXMudHJhbnNwYXJlbnQgPSBmYWxzZTtcblxuXHRcdFx0aWYgKCBhbHBoYU1vZGUgPT09IEFMUEhBX01PREVTLk1BU0sgKSB7XG5cblx0XHRcdFx0bWF0ZXJpYWxQYXJhbXMuYWxwaGFUZXN0ID0gbWF0ZXJpYWxEZWYuYWxwaGFDdXRvZmYgIT09IHVuZGVmaW5lZCA/IG1hdGVyaWFsRGVmLmFscGhhQ3V0b2ZmIDogMC41O1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRpZiAoIG1hdGVyaWFsRGVmLm5vcm1hbFRleHR1cmUgIT09IHVuZGVmaW5lZCAmJiBtYXRlcmlhbFR5cGUgIT09IE1lc2hCYXNpY01hdGVyaWFsICkge1xuXG5cdFx0XHRwZW5kaW5nLnB1c2goIHBhcnNlci5hc3NpZ25UZXh0dXJlKCBtYXRlcmlhbFBhcmFtcywgJ25vcm1hbE1hcCcsIG1hdGVyaWFsRGVmLm5vcm1hbFRleHR1cmUgKSApO1xuXG5cdFx0XHRtYXRlcmlhbFBhcmFtcy5ub3JtYWxTY2FsZSA9IG5ldyBWZWN0b3IyKCAxLCAxICk7XG5cblx0XHRcdGlmICggbWF0ZXJpYWxEZWYubm9ybWFsVGV4dHVyZS5zY2FsZSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdGNvbnN0IHNjYWxlID0gbWF0ZXJpYWxEZWYubm9ybWFsVGV4dHVyZS5zY2FsZTtcblxuXHRcdFx0XHRtYXRlcmlhbFBhcmFtcy5ub3JtYWxTY2FsZS5zZXQoIHNjYWxlLCBzY2FsZSApO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRpZiAoIG1hdGVyaWFsRGVmLm9jY2x1c2lvblRleHR1cmUgIT09IHVuZGVmaW5lZCAmJiBtYXRlcmlhbFR5cGUgIT09IE1lc2hCYXNpY01hdGVyaWFsICkge1xuXG5cdFx0XHRwZW5kaW5nLnB1c2goIHBhcnNlci5hc3NpZ25UZXh0dXJlKCBtYXRlcmlhbFBhcmFtcywgJ2FvTWFwJywgbWF0ZXJpYWxEZWYub2NjbHVzaW9uVGV4dHVyZSApICk7XG5cblx0XHRcdGlmICggbWF0ZXJpYWxEZWYub2NjbHVzaW9uVGV4dHVyZS5zdHJlbmd0aCAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdG1hdGVyaWFsUGFyYW1zLmFvTWFwSW50ZW5zaXR5ID0gbWF0ZXJpYWxEZWYub2NjbHVzaW9uVGV4dHVyZS5zdHJlbmd0aDtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0aWYgKCBtYXRlcmlhbERlZi5lbWlzc2l2ZUZhY3RvciAhPT0gdW5kZWZpbmVkICYmIG1hdGVyaWFsVHlwZSAhPT0gTWVzaEJhc2ljTWF0ZXJpYWwgKSB7XG5cblx0XHRcdG1hdGVyaWFsUGFyYW1zLmVtaXNzaXZlID0gbmV3IENvbG9yKCkuZnJvbUFycmF5KCBtYXRlcmlhbERlZi5lbWlzc2l2ZUZhY3RvciApO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBtYXRlcmlhbERlZi5lbWlzc2l2ZVRleHR1cmUgIT09IHVuZGVmaW5lZCAmJiBtYXRlcmlhbFR5cGUgIT09IE1lc2hCYXNpY01hdGVyaWFsICkge1xuXG5cdFx0XHRwZW5kaW5nLnB1c2goIHBhcnNlci5hc3NpZ25UZXh0dXJlKCBtYXRlcmlhbFBhcmFtcywgJ2VtaXNzaXZlTWFwJywgbWF0ZXJpYWxEZWYuZW1pc3NpdmVUZXh0dXJlICkgKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiBQcm9taXNlLmFsbCggcGVuZGluZyApLnRoZW4oIGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0bGV0IG1hdGVyaWFsO1xuXG5cdFx0XHRpZiAoIG1hdGVyaWFsVHlwZSA9PT0gR0xURk1lc2hTdGFuZGFyZFNHTWF0ZXJpYWwgKSB7XG5cblx0XHRcdFx0bWF0ZXJpYWwgPSBleHRlbnNpb25zWyBFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfUEJSX1NQRUNVTEFSX0dMT1NTSU5FU1MgXS5jcmVhdGVNYXRlcmlhbCggbWF0ZXJpYWxQYXJhbXMgKTtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRtYXRlcmlhbCA9IG5ldyBtYXRlcmlhbFR5cGUoIG1hdGVyaWFsUGFyYW1zICk7XG5cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBtYXRlcmlhbERlZi5uYW1lICkgbWF0ZXJpYWwubmFtZSA9IG1hdGVyaWFsRGVmLm5hbWU7XG5cblx0XHRcdC8vIGJhc2VDb2xvclRleHR1cmUsIGVtaXNzaXZlVGV4dHVyZSwgYW5kIHNwZWN1bGFyR2xvc3NpbmVzc1RleHR1cmUgdXNlIHNSR0IgZW5jb2RpbmcuXG5cdFx0XHRpZiAoIG1hdGVyaWFsLm1hcCApIG1hdGVyaWFsLm1hcC5lbmNvZGluZyA9IHNSR0JFbmNvZGluZztcblx0XHRcdGlmICggbWF0ZXJpYWwuZW1pc3NpdmVNYXAgKSBtYXRlcmlhbC5lbWlzc2l2ZU1hcC5lbmNvZGluZyA9IHNSR0JFbmNvZGluZztcblxuXHRcdFx0YXNzaWduRXh0cmFzVG9Vc2VyRGF0YSggbWF0ZXJpYWwsIG1hdGVyaWFsRGVmICk7XG5cblx0XHRcdHBhcnNlci5hc3NvY2lhdGlvbnMuc2V0KCBtYXRlcmlhbCwgeyBtYXRlcmlhbHM6IG1hdGVyaWFsSW5kZXggfSApO1xuXG5cdFx0XHRpZiAoIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnMgKSBhZGRVbmtub3duRXh0ZW5zaW9uc1RvVXNlckRhdGEoIGV4dGVuc2lvbnMsIG1hdGVyaWFsLCBtYXRlcmlhbERlZiApO1xuXG5cdFx0XHRyZXR1cm4gbWF0ZXJpYWw7XG5cblx0XHR9ICk7XG5cblx0fVxuXG5cdC8qKiBXaGVuIE9iamVjdDNEIGluc3RhbmNlcyBhcmUgdGFyZ2V0ZWQgYnkgYW5pbWF0aW9uLCB0aGV5IG5lZWQgdW5pcXVlIG5hbWVzLiAqL1xuXHRjcmVhdGVVbmlxdWVOYW1lKCBvcmlnaW5hbE5hbWUgKSB7XG5cblx0XHRjb25zdCBzYW5pdGl6ZWROYW1lID0gUHJvcGVydHlCaW5kaW5nLnNhbml0aXplTm9kZU5hbWUoIG9yaWdpbmFsTmFtZSB8fCAnJyApO1xuXG5cdFx0bGV0IG5hbWUgPSBzYW5pdGl6ZWROYW1lO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAxOyB0aGlzLm5vZGVOYW1lc1VzZWRbIG5hbWUgXTsgKysgaSApIHtcblxuXHRcdFx0bmFtZSA9IHNhbml0aXplZE5hbWUgKyAnXycgKyBpO1xuXG5cdFx0fVxuXG5cdFx0dGhpcy5ub2RlTmFtZXNVc2VkWyBuYW1lIF0gPSB0cnVlO1xuXG5cdFx0cmV0dXJuIG5hbWU7XG5cblx0fVxuXG5cdC8qKlxuXHQgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI2dlb21ldHJ5XG5cdCAqXG5cdCAqIENyZWF0ZXMgQnVmZmVyR2VvbWV0cmllcyBmcm9tIHByaW1pdGl2ZXMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7QXJyYXk8R0xURi5QcmltaXRpdmU+fSBwcmltaXRpdmVzXG5cdCAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXk8QnVmZmVyR2VvbWV0cnk+Pn1cblx0ICovXG5cdGxvYWRHZW9tZXRyaWVzKCBwcmltaXRpdmVzICkge1xuXG5cdFx0Y29uc3QgcGFyc2VyID0gdGhpcztcblx0XHRjb25zdCBleHRlbnNpb25zID0gdGhpcy5leHRlbnNpb25zO1xuXHRcdGNvbnN0IGNhY2hlID0gdGhpcy5wcmltaXRpdmVDYWNoZTtcblxuXHRcdGZ1bmN0aW9uIGNyZWF0ZURyYWNvUHJpbWl0aXZlKCBwcmltaXRpdmUgKSB7XG5cblx0XHRcdHJldHVybiBleHRlbnNpb25zWyBFWFRFTlNJT05TLktIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OIF1cblx0XHRcdFx0LmRlY29kZVByaW1pdGl2ZSggcHJpbWl0aXZlLCBwYXJzZXIgKVxuXHRcdFx0XHQudGhlbiggZnVuY3Rpb24gKCBnZW9tZXRyeSApIHtcblxuXHRcdFx0XHRcdHJldHVybiBhZGRQcmltaXRpdmVBdHRyaWJ1dGVzKCBnZW9tZXRyeSwgcHJpbWl0aXZlLCBwYXJzZXIgKTtcblxuXHRcdFx0XHR9ICk7XG5cblx0XHR9XG5cblx0XHRjb25zdCBwZW5kaW5nID0gW107XG5cblx0XHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gcHJpbWl0aXZlcy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0Y29uc3QgcHJpbWl0aXZlID0gcHJpbWl0aXZlc1sgaSBdO1xuXHRcdFx0Y29uc3QgY2FjaGVLZXkgPSBjcmVhdGVQcmltaXRpdmVLZXkoIHByaW1pdGl2ZSApO1xuXG5cdFx0XHQvLyBTZWUgaWYgd2UndmUgYWxyZWFkeSBjcmVhdGVkIHRoaXMgZ2VvbWV0cnlcblx0XHRcdGNvbnN0IGNhY2hlZCA9IGNhY2hlWyBjYWNoZUtleSBdO1xuXG5cdFx0XHRpZiAoIGNhY2hlZCApIHtcblxuXHRcdFx0XHQvLyBVc2UgdGhlIGNhY2hlZCBnZW9tZXRyeSBpZiBpdCBleGlzdHNcblx0XHRcdFx0cGVuZGluZy5wdXNoKCBjYWNoZWQucHJvbWlzZSApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdGxldCBnZW9tZXRyeVByb21pc2U7XG5cblx0XHRcdFx0aWYgKCBwcmltaXRpdmUuZXh0ZW5zaW9ucyAmJiBwcmltaXRpdmUuZXh0ZW5zaW9uc1sgRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTiBdICkge1xuXG5cdFx0XHRcdFx0Ly8gVXNlIERSQUNPIGdlb21ldHJ5IGlmIGF2YWlsYWJsZVxuXHRcdFx0XHRcdGdlb21ldHJ5UHJvbWlzZSA9IGNyZWF0ZURyYWNvUHJpbWl0aXZlKCBwcmltaXRpdmUgKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyBnZW9tZXRyeVxuXHRcdFx0XHRcdGdlb21ldHJ5UHJvbWlzZSA9IGFkZFByaW1pdGl2ZUF0dHJpYnV0ZXMoIG5ldyBCdWZmZXJHZW9tZXRyeSgpLCBwcmltaXRpdmUsIHBhcnNlciApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBDYWNoZSB0aGlzIGdlb21ldHJ5XG5cdFx0XHRcdGNhY2hlWyBjYWNoZUtleSBdID0geyBwcmltaXRpdmU6IHByaW1pdGl2ZSwgcHJvbWlzZTogZ2VvbWV0cnlQcm9taXNlIH07XG5cblx0XHRcdFx0cGVuZGluZy5wdXNoKCBnZW9tZXRyeVByb21pc2UgKTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIFByb21pc2UuYWxsKCBwZW5kaW5nICk7XG5cblx0fVxuXG5cdC8qKlxuXHQgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI21lc2hlc1xuXHQgKiBAcGFyYW0ge251bWJlcn0gbWVzaEluZGV4XG5cdCAqIEByZXR1cm4ge1Byb21pc2U8R3JvdXB8TWVzaHxTa2lubmVkTWVzaD59XG5cdCAqL1xuXHRsb2FkTWVzaCggbWVzaEluZGV4ICkge1xuXG5cdFx0Y29uc3QgcGFyc2VyID0gdGhpcztcblx0XHRjb25zdCBqc29uID0gdGhpcy5qc29uO1xuXHRcdGNvbnN0IGV4dGVuc2lvbnMgPSB0aGlzLmV4dGVuc2lvbnM7XG5cblx0XHRjb25zdCBtZXNoRGVmID0ganNvbi5tZXNoZXNbIG1lc2hJbmRleCBdO1xuXHRcdGNvbnN0IHByaW1pdGl2ZXMgPSBtZXNoRGVmLnByaW1pdGl2ZXM7XG5cblx0XHRjb25zdCBwZW5kaW5nID0gW107XG5cblx0XHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gcHJpbWl0aXZlcy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0Y29uc3QgbWF0ZXJpYWwgPSBwcmltaXRpdmVzWyBpIF0ubWF0ZXJpYWwgPT09IHVuZGVmaW5lZFxuXHRcdFx0XHQ/IGNyZWF0ZURlZmF1bHRNYXRlcmlhbCggdGhpcy5jYWNoZSApXG5cdFx0XHRcdDogdGhpcy5nZXREZXBlbmRlbmN5KCAnbWF0ZXJpYWwnLCBwcmltaXRpdmVzWyBpIF0ubWF0ZXJpYWwgKTtcblxuXHRcdFx0cGVuZGluZy5wdXNoKCBtYXRlcmlhbCApO1xuXG5cdFx0fVxuXG5cdFx0cGVuZGluZy5wdXNoKCBwYXJzZXIubG9hZEdlb21ldHJpZXMoIHByaW1pdGl2ZXMgKSApO1xuXG5cdFx0cmV0dXJuIFByb21pc2UuYWxsKCBwZW5kaW5nICkudGhlbiggZnVuY3Rpb24gKCByZXN1bHRzICkge1xuXG5cdFx0XHRjb25zdCBtYXRlcmlhbHMgPSByZXN1bHRzLnNsaWNlKCAwLCByZXN1bHRzLmxlbmd0aCAtIDEgKTtcblx0XHRcdGNvbnN0IGdlb21ldHJpZXMgPSByZXN1bHRzWyByZXN1bHRzLmxlbmd0aCAtIDEgXTtcblxuXHRcdFx0Y29uc3QgbWVzaGVzID0gW107XG5cblx0XHRcdGZvciAoIGxldCBpID0gMCwgaWwgPSBnZW9tZXRyaWVzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkge1xuXG5cdFx0XHRcdGNvbnN0IGdlb21ldHJ5ID0gZ2VvbWV0cmllc1sgaSBdO1xuXHRcdFx0XHRjb25zdCBwcmltaXRpdmUgPSBwcmltaXRpdmVzWyBpIF07XG5cblx0XHRcdFx0Ly8gMS4gY3JlYXRlIE1lc2hcblxuXHRcdFx0XHRsZXQgbWVzaDtcblxuXHRcdFx0XHRjb25zdCBtYXRlcmlhbCA9IG1hdGVyaWFsc1sgaSBdO1xuXG5cdFx0XHRcdGlmICggcHJpbWl0aXZlLm1vZGUgPT09IFdFQkdMX0NPTlNUQU5UUy5UUklBTkdMRVMgfHxcblx0XHRcdFx0XHRcdHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuVFJJQU5HTEVfU1RSSVAgfHxcblx0XHRcdFx0XHRcdHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuVFJJQU5HTEVfRkFOIHx8XG5cdFx0XHRcdFx0XHRwcmltaXRpdmUubW9kZSA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdFx0Ly8gLmlzU2tpbm5lZE1lc2ggaXNuJ3QgaW4gZ2xURiBzcGVjLiBTZWUgLl9tYXJrRGVmcygpXG5cdFx0XHRcdFx0bWVzaCA9IG1lc2hEZWYuaXNTa2lubmVkTWVzaCA9PT0gdHJ1ZVxuXHRcdFx0XHRcdFx0PyBuZXcgU2tpbm5lZE1lc2goIGdlb21ldHJ5LCBtYXRlcmlhbCApXG5cdFx0XHRcdFx0XHQ6IG5ldyBNZXNoKCBnZW9tZXRyeSwgbWF0ZXJpYWwgKTtcblxuXHRcdFx0XHRcdGlmICggbWVzaC5pc1NraW5uZWRNZXNoID09PSB0cnVlICYmICEgbWVzaC5nZW9tZXRyeS5hdHRyaWJ1dGVzLnNraW5XZWlnaHQubm9ybWFsaXplZCApIHtcblxuXHRcdFx0XHRcdFx0Ly8gd2Ugbm9ybWFsaXplIGZsb2F0aW5nIHBvaW50IHNraW4gd2VpZ2h0IGFycmF5IHRvIGZpeCBtYWxmb3JtZWQgYXNzZXRzIChzZWUgIzE1MzE5KVxuXHRcdFx0XHRcdFx0Ly8gaXQncyBpbXBvcnRhbnQgdG8gc2tpcCB0aGlzIGZvciBub24tZmxvYXQzMiBkYXRhIHNpbmNlIG5vcm1hbGl6ZVNraW5XZWlnaHRzIGFzc3VtZXMgbm9uLW5vcm1hbGl6ZWQgaW5wdXRzXG5cdFx0XHRcdFx0XHRtZXNoLm5vcm1hbGl6ZVNraW5XZWlnaHRzKCk7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoIHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuVFJJQU5HTEVfU1RSSVAgKSB7XG5cblx0XHRcdFx0XHRcdG1lc2guZ2VvbWV0cnkgPSB0b1RyaWFuZ2xlc0RyYXdNb2RlKCBtZXNoLmdlb21ldHJ5LCBUcmlhbmdsZVN0cmlwRHJhd01vZGUgKTtcblxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuVFJJQU5HTEVfRkFOICkge1xuXG5cdFx0XHRcdFx0XHRtZXNoLmdlb21ldHJ5ID0gdG9UcmlhbmdsZXNEcmF3TW9kZSggbWVzaC5nZW9tZXRyeSwgVHJpYW5nbGVGYW5EcmF3TW9kZSApO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH0gZWxzZSBpZiAoIHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuTElORVMgKSB7XG5cblx0XHRcdFx0XHRtZXNoID0gbmV3IExpbmVTZWdtZW50cyggZ2VvbWV0cnksIG1hdGVyaWFsICk7XG5cblx0XHRcdFx0fSBlbHNlIGlmICggcHJpbWl0aXZlLm1vZGUgPT09IFdFQkdMX0NPTlNUQU5UUy5MSU5FX1NUUklQICkge1xuXG5cdFx0XHRcdFx0bWVzaCA9IG5ldyBMaW5lKCBnZW9tZXRyeSwgbWF0ZXJpYWwgKTtcblxuXHRcdFx0XHR9IGVsc2UgaWYgKCBwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLkxJTkVfTE9PUCApIHtcblxuXHRcdFx0XHRcdG1lc2ggPSBuZXcgTGluZUxvb3AoIGdlb21ldHJ5LCBtYXRlcmlhbCApO1xuXG5cdFx0XHRcdH0gZWxzZSBpZiAoIHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuUE9JTlRTICkge1xuXG5cdFx0XHRcdFx0bWVzaCA9IG5ldyBQb2ludHMoIGdlb21ldHJ5LCBtYXRlcmlhbCApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoICdUSFJFRS5HTFRGTG9hZGVyOiBQcmltaXRpdmUgbW9kZSB1bnN1cHBvcnRlZDogJyArIHByaW1pdGl2ZS5tb2RlICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggT2JqZWN0LmtleXMoIG1lc2guZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzICkubGVuZ3RoID4gMCApIHtcblxuXHRcdFx0XHRcdHVwZGF0ZU1vcnBoVGFyZ2V0cyggbWVzaCwgbWVzaERlZiApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRtZXNoLm5hbWUgPSBwYXJzZXIuY3JlYXRlVW5pcXVlTmFtZSggbWVzaERlZi5uYW1lIHx8ICggJ21lc2hfJyArIG1lc2hJbmRleCApICk7XG5cblx0XHRcdFx0YXNzaWduRXh0cmFzVG9Vc2VyRGF0YSggbWVzaCwgbWVzaERlZiApO1xuXG5cdFx0XHRcdGlmICggcHJpbWl0aXZlLmV4dGVuc2lvbnMgKSBhZGRVbmtub3duRXh0ZW5zaW9uc1RvVXNlckRhdGEoIGV4dGVuc2lvbnMsIG1lc2gsIHByaW1pdGl2ZSApO1xuXG5cdFx0XHRcdHBhcnNlci5hc3NpZ25GaW5hbE1hdGVyaWFsKCBtZXNoICk7XG5cblx0XHRcdFx0bWVzaGVzLnB1c2goIG1lc2ggKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gbWVzaGVzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkge1xuXG5cdFx0XHRcdHBhcnNlci5hc3NvY2lhdGlvbnMuc2V0KCBtZXNoZXNbIGkgXSwge1xuXHRcdFx0XHRcdG1lc2hlczogbWVzaEluZGV4LFxuXHRcdFx0XHRcdHByaW1pdGl2ZXM6IGlcblx0XHRcdFx0fSApO1xuXG5cdFx0XHR9XG5cblx0XHRcdGlmICggbWVzaGVzLmxlbmd0aCA9PT0gMSApIHtcblxuXHRcdFx0XHRyZXR1cm4gbWVzaGVzWyAwIF07XG5cblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgZ3JvdXAgPSBuZXcgR3JvdXAoKTtcblxuXHRcdFx0cGFyc2VyLmFzc29jaWF0aW9ucy5zZXQoIGdyb3VwLCB7IG1lc2hlczogbWVzaEluZGV4IH0gKTtcblxuXHRcdFx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IG1lc2hlcy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0XHRncm91cC5hZGQoIG1lc2hlc1sgaSBdICk7XG5cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGdyb3VwO1xuXG5cdFx0fSApO1xuXG5cdH1cblxuXHQvKipcblx0ICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI2NhbWVyYXNcblx0ICogQHBhcmFtIHtudW1iZXJ9IGNhbWVyYUluZGV4XG5cdCAqIEByZXR1cm4ge1Byb21pc2U8VEhSRUUuQ2FtZXJhPn1cblx0ICovXG5cdGxvYWRDYW1lcmEoIGNhbWVyYUluZGV4ICkge1xuXG5cdFx0bGV0IGNhbWVyYTtcblx0XHRjb25zdCBjYW1lcmFEZWYgPSB0aGlzLmpzb24uY2FtZXJhc1sgY2FtZXJhSW5kZXggXTtcblx0XHRjb25zdCBwYXJhbXMgPSBjYW1lcmFEZWZbIGNhbWVyYURlZi50eXBlIF07XG5cblx0XHRpZiAoICEgcGFyYW1zICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5HTFRGTG9hZGVyOiBNaXNzaW5nIGNhbWVyYSBwYXJhbWV0ZXJzLicgKTtcblx0XHRcdHJldHVybjtcblxuXHRcdH1cblxuXHRcdGlmICggY2FtZXJhRGVmLnR5cGUgPT09ICdwZXJzcGVjdGl2ZScgKSB7XG5cblx0XHRcdGNhbWVyYSA9IG5ldyBQZXJzcGVjdGl2ZUNhbWVyYSggTWF0aFV0aWxzLnJhZFRvRGVnKCBwYXJhbXMueWZvdiApLCBwYXJhbXMuYXNwZWN0UmF0aW8gfHwgMSwgcGFyYW1zLnpuZWFyIHx8IDEsIHBhcmFtcy56ZmFyIHx8IDJlNiApO1xuXG5cdFx0fSBlbHNlIGlmICggY2FtZXJhRGVmLnR5cGUgPT09ICdvcnRob2dyYXBoaWMnICkge1xuXG5cdFx0XHRjYW1lcmEgPSBuZXcgT3J0aG9ncmFwaGljQ2FtZXJhKCAtIHBhcmFtcy54bWFnLCBwYXJhbXMueG1hZywgcGFyYW1zLnltYWcsIC0gcGFyYW1zLnltYWcsIHBhcmFtcy56bmVhciwgcGFyYW1zLnpmYXIgKTtcblxuXHRcdH1cblxuXHRcdGlmICggY2FtZXJhRGVmLm5hbWUgKSBjYW1lcmEubmFtZSA9IHRoaXMuY3JlYXRlVW5pcXVlTmFtZSggY2FtZXJhRGVmLm5hbWUgKTtcblxuXHRcdGFzc2lnbkV4dHJhc1RvVXNlckRhdGEoIGNhbWVyYSwgY2FtZXJhRGVmICk7XG5cblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCBjYW1lcmEgKTtcblxuXHR9XG5cblx0LyoqXG5cdCAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNza2luc1xuXHQgKiBAcGFyYW0ge251bWJlcn0gc2tpbkluZGV4XG5cdCAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0Pn1cblx0ICovXG5cdGxvYWRTa2luKCBza2luSW5kZXggKSB7XG5cblx0XHRjb25zdCBza2luRGVmID0gdGhpcy5qc29uLnNraW5zWyBza2luSW5kZXggXTtcblxuXHRcdGNvbnN0IHNraW5FbnRyeSA9IHsgam9pbnRzOiBza2luRGVmLmpvaW50cyB9O1xuXG5cdFx0aWYgKCBza2luRGVmLmludmVyc2VCaW5kTWF0cmljZXMgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSggc2tpbkVudHJ5ICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5nZXREZXBlbmRlbmN5KCAnYWNjZXNzb3InLCBza2luRGVmLmludmVyc2VCaW5kTWF0cmljZXMgKS50aGVuKCBmdW5jdGlvbiAoIGFjY2Vzc29yICkge1xuXG5cdFx0XHRza2luRW50cnkuaW52ZXJzZUJpbmRNYXRyaWNlcyA9IGFjY2Vzc29yO1xuXG5cdFx0XHRyZXR1cm4gc2tpbkVudHJ5O1xuXG5cdFx0fSApO1xuXG5cdH1cblxuXHQvKipcblx0ICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI2FuaW1hdGlvbnNcblx0ICogQHBhcmFtIHtudW1iZXJ9IGFuaW1hdGlvbkluZGV4XG5cdCAqIEByZXR1cm4ge1Byb21pc2U8QW5pbWF0aW9uQ2xpcD59XG5cdCAqL1xuXHRsb2FkQW5pbWF0aW9uKCBhbmltYXRpb25JbmRleCApIHtcblxuXHRcdGNvbnN0IGpzb24gPSB0aGlzLmpzb247XG5cblx0XHRjb25zdCBhbmltYXRpb25EZWYgPSBqc29uLmFuaW1hdGlvbnNbIGFuaW1hdGlvbkluZGV4IF07XG5cblx0XHRjb25zdCBwZW5kaW5nTm9kZXMgPSBbXTtcblx0XHRjb25zdCBwZW5kaW5nSW5wdXRBY2Nlc3NvcnMgPSBbXTtcblx0XHRjb25zdCBwZW5kaW5nT3V0cHV0QWNjZXNzb3JzID0gW107XG5cdFx0Y29uc3QgcGVuZGluZ1NhbXBsZXJzID0gW107XG5cdFx0Y29uc3QgcGVuZGluZ1RhcmdldHMgPSBbXTtcblxuXHRcdGZvciAoIGxldCBpID0gMCwgaWwgPSBhbmltYXRpb25EZWYuY2hhbm5lbHMubGVuZ3RoOyBpIDwgaWw7IGkgKysgKSB7XG5cblx0XHRcdGNvbnN0IGNoYW5uZWwgPSBhbmltYXRpb25EZWYuY2hhbm5lbHNbIGkgXTtcblx0XHRcdGNvbnN0IHNhbXBsZXIgPSBhbmltYXRpb25EZWYuc2FtcGxlcnNbIGNoYW5uZWwuc2FtcGxlciBdO1xuXHRcdFx0Y29uc3QgdGFyZ2V0ID0gY2hhbm5lbC50YXJnZXQ7XG5cdFx0XHRjb25zdCBuYW1lID0gdGFyZ2V0Lm5vZGUgIT09IHVuZGVmaW5lZCA/IHRhcmdldC5ub2RlIDogdGFyZ2V0LmlkOyAvLyBOT1RFOiB0YXJnZXQuaWQgaXMgZGVwcmVjYXRlZC5cblx0XHRcdGNvbnN0IGlucHV0ID0gYW5pbWF0aW9uRGVmLnBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZCA/IGFuaW1hdGlvbkRlZi5wYXJhbWV0ZXJzWyBzYW1wbGVyLmlucHV0IF0gOiBzYW1wbGVyLmlucHV0O1xuXHRcdFx0Y29uc3Qgb3V0cHV0ID0gYW5pbWF0aW9uRGVmLnBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZCA/IGFuaW1hdGlvbkRlZi5wYXJhbWV0ZXJzWyBzYW1wbGVyLm91dHB1dCBdIDogc2FtcGxlci5vdXRwdXQ7XG5cblx0XHRcdHBlbmRpbmdOb2Rlcy5wdXNoKCB0aGlzLmdldERlcGVuZGVuY3koICdub2RlJywgbmFtZSApICk7XG5cdFx0XHRwZW5kaW5nSW5wdXRBY2Nlc3NvcnMucHVzaCggdGhpcy5nZXREZXBlbmRlbmN5KCAnYWNjZXNzb3InLCBpbnB1dCApICk7XG5cdFx0XHRwZW5kaW5nT3V0cHV0QWNjZXNzb3JzLnB1c2goIHRoaXMuZ2V0RGVwZW5kZW5jeSggJ2FjY2Vzc29yJywgb3V0cHV0ICkgKTtcblx0XHRcdHBlbmRpbmdTYW1wbGVycy5wdXNoKCBzYW1wbGVyICk7XG5cdFx0XHRwZW5kaW5nVGFyZ2V0cy5wdXNoKCB0YXJnZXQgKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiBQcm9taXNlLmFsbCggW1xuXG5cdFx0XHRQcm9taXNlLmFsbCggcGVuZGluZ05vZGVzICksXG5cdFx0XHRQcm9taXNlLmFsbCggcGVuZGluZ0lucHV0QWNjZXNzb3JzICksXG5cdFx0XHRQcm9taXNlLmFsbCggcGVuZGluZ091dHB1dEFjY2Vzc29ycyApLFxuXHRcdFx0UHJvbWlzZS5hbGwoIHBlbmRpbmdTYW1wbGVycyApLFxuXHRcdFx0UHJvbWlzZS5hbGwoIHBlbmRpbmdUYXJnZXRzIClcblxuXHRcdF0gKS50aGVuKCBmdW5jdGlvbiAoIGRlcGVuZGVuY2llcyApIHtcblxuXHRcdFx0Y29uc3Qgbm9kZXMgPSBkZXBlbmRlbmNpZXNbIDAgXTtcblx0XHRcdGNvbnN0IGlucHV0QWNjZXNzb3JzID0gZGVwZW5kZW5jaWVzWyAxIF07XG5cdFx0XHRjb25zdCBvdXRwdXRBY2Nlc3NvcnMgPSBkZXBlbmRlbmNpZXNbIDIgXTtcblx0XHRcdGNvbnN0IHNhbXBsZXJzID0gZGVwZW5kZW5jaWVzWyAzIF07XG5cdFx0XHRjb25zdCB0YXJnZXRzID0gZGVwZW5kZW5jaWVzWyA0IF07XG5cblx0XHRcdGNvbnN0IHRyYWNrcyA9IFtdO1xuXG5cdFx0XHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gbm9kZXMubGVuZ3RoOyBpIDwgaWw7IGkgKysgKSB7XG5cblx0XHRcdFx0Y29uc3Qgbm9kZSA9IG5vZGVzWyBpIF07XG5cdFx0XHRcdGNvbnN0IGlucHV0QWNjZXNzb3IgPSBpbnB1dEFjY2Vzc29yc1sgaSBdO1xuXHRcdFx0XHRjb25zdCBvdXRwdXRBY2Nlc3NvciA9IG91dHB1dEFjY2Vzc29yc1sgaSBdO1xuXHRcdFx0XHRjb25zdCBzYW1wbGVyID0gc2FtcGxlcnNbIGkgXTtcblx0XHRcdFx0Y29uc3QgdGFyZ2V0ID0gdGFyZ2V0c1sgaSBdO1xuXG5cdFx0XHRcdGlmICggbm9kZSA9PT0gdW5kZWZpbmVkICkgY29udGludWU7XG5cblx0XHRcdFx0bm9kZS51cGRhdGVNYXRyaXgoKTtcblx0XHRcdFx0bm9kZS5tYXRyaXhBdXRvVXBkYXRlID0gdHJ1ZTtcblxuXHRcdFx0XHRsZXQgVHlwZWRLZXlmcmFtZVRyYWNrO1xuXG5cdFx0XHRcdHN3aXRjaCAoIFBBVEhfUFJPUEVSVElFU1sgdGFyZ2V0LnBhdGggXSApIHtcblxuXHRcdFx0XHRcdGNhc2UgUEFUSF9QUk9QRVJUSUVTLndlaWdodHM6XG5cblx0XHRcdFx0XHRcdFR5cGVkS2V5ZnJhbWVUcmFjayA9IE51bWJlcktleWZyYW1lVHJhY2s7XG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdGNhc2UgUEFUSF9QUk9QRVJUSUVTLnJvdGF0aW9uOlxuXG5cdFx0XHRcdFx0XHRUeXBlZEtleWZyYW1lVHJhY2sgPSBRdWF0ZXJuaW9uS2V5ZnJhbWVUcmFjaztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0Y2FzZSBQQVRIX1BST1BFUlRJRVMucG9zaXRpb246XG5cdFx0XHRcdFx0Y2FzZSBQQVRIX1BST1BFUlRJRVMuc2NhbGU6XG5cdFx0XHRcdFx0ZGVmYXVsdDpcblxuXHRcdFx0XHRcdFx0VHlwZWRLZXlmcmFtZVRyYWNrID0gVmVjdG9yS2V5ZnJhbWVUcmFjaztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCB0YXJnZXROYW1lID0gbm9kZS5uYW1lID8gbm9kZS5uYW1lIDogbm9kZS51dWlkO1xuXG5cdFx0XHRcdGNvbnN0IGludGVycG9sYXRpb24gPSBzYW1wbGVyLmludGVycG9sYXRpb24gIT09IHVuZGVmaW5lZCA/IElOVEVSUE9MQVRJT05bIHNhbXBsZXIuaW50ZXJwb2xhdGlvbiBdIDogSW50ZXJwb2xhdGVMaW5lYXI7XG5cblx0XHRcdFx0Y29uc3QgdGFyZ2V0TmFtZXMgPSBbXTtcblxuXHRcdFx0XHRpZiAoIFBBVEhfUFJPUEVSVElFU1sgdGFyZ2V0LnBhdGggXSA9PT0gUEFUSF9QUk9QRVJUSUVTLndlaWdodHMgKSB7XG5cblx0XHRcdFx0XHQvLyBOb2RlIG1heSBiZSBhIEdyb3VwIChnbFRGIG1lc2ggd2l0aCBzZXZlcmFsIHByaW1pdGl2ZXMpIG9yIGEgTWVzaC5cblx0XHRcdFx0XHRub2RlLnRyYXZlcnNlKCBmdW5jdGlvbiAoIG9iamVjdCApIHtcblxuXHRcdFx0XHRcdFx0aWYgKCBvYmplY3QuaXNNZXNoID09PSB0cnVlICYmIG9iamVjdC5tb3JwaFRhcmdldEluZmx1ZW5jZXMgKSB7XG5cblx0XHRcdFx0XHRcdFx0dGFyZ2V0TmFtZXMucHVzaCggb2JqZWN0Lm5hbWUgPyBvYmplY3QubmFtZSA6IG9iamVjdC51dWlkICk7XG5cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdH0gKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0dGFyZ2V0TmFtZXMucHVzaCggdGFyZ2V0TmFtZSApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRsZXQgb3V0cHV0QXJyYXkgPSBvdXRwdXRBY2Nlc3Nvci5hcnJheTtcblxuXHRcdFx0XHRpZiAoIG91dHB1dEFjY2Vzc29yLm5vcm1hbGl6ZWQgKSB7XG5cblx0XHRcdFx0XHRjb25zdCBzY2FsZSA9IGdldE5vcm1hbGl6ZWRDb21wb25lbnRTY2FsZSggb3V0cHV0QXJyYXkuY29uc3RydWN0b3IgKTtcblx0XHRcdFx0XHRjb25zdCBzY2FsZWQgPSBuZXcgRmxvYXQzMkFycmF5KCBvdXRwdXRBcnJheS5sZW5ndGggKTtcblxuXHRcdFx0XHRcdGZvciAoIGxldCBqID0gMCwgamwgPSBvdXRwdXRBcnJheS5sZW5ndGg7IGogPCBqbDsgaiArKyApIHtcblxuXHRcdFx0XHRcdFx0c2NhbGVkWyBqIF0gPSBvdXRwdXRBcnJheVsgaiBdICogc2NhbGU7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRvdXRwdXRBcnJheSA9IHNjYWxlZDtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Zm9yICggbGV0IGogPSAwLCBqbCA9IHRhcmdldE5hbWVzLmxlbmd0aDsgaiA8IGpsOyBqICsrICkge1xuXG5cdFx0XHRcdFx0Y29uc3QgdHJhY2sgPSBuZXcgVHlwZWRLZXlmcmFtZVRyYWNrKFxuXHRcdFx0XHRcdFx0dGFyZ2V0TmFtZXNbIGogXSArICcuJyArIFBBVEhfUFJPUEVSVElFU1sgdGFyZ2V0LnBhdGggXSxcblx0XHRcdFx0XHRcdGlucHV0QWNjZXNzb3IuYXJyYXksXG5cdFx0XHRcdFx0XHRvdXRwdXRBcnJheSxcblx0XHRcdFx0XHRcdGludGVycG9sYXRpb25cblx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0Ly8gT3ZlcnJpZGUgaW50ZXJwb2xhdGlvbiB3aXRoIGN1c3RvbSBmYWN0b3J5IG1ldGhvZC5cblx0XHRcdFx0XHRpZiAoIHNhbXBsZXIuaW50ZXJwb2xhdGlvbiA9PT0gJ0NVQklDU1BMSU5FJyApIHtcblxuXHRcdFx0XHRcdFx0dHJhY2suY3JlYXRlSW50ZXJwb2xhbnQgPSBmdW5jdGlvbiBJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RHTFRGQ3ViaWNTcGxpbmUoIHJlc3VsdCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBBIENVQklDU1BMSU5FIGtleWZyYW1lIGluIGdsVEYgaGFzIHRocmVlIG91dHB1dCB2YWx1ZXMgZm9yIGVhY2ggaW5wdXQgdmFsdWUsXG5cdFx0XHRcdFx0XHRcdC8vIHJlcHJlc2VudGluZyBpblRhbmdlbnQsIHNwbGluZVZlcnRleCwgYW5kIG91dFRhbmdlbnQuIEFzIGEgcmVzdWx0LCB0cmFjay5nZXRWYWx1ZVNpemUoKVxuXHRcdFx0XHRcdFx0XHQvLyBtdXN0IGJlIGRpdmlkZWQgYnkgdGhyZWUgdG8gZ2V0IHRoZSBpbnRlcnBvbGFudCdzIHNhbXBsZVNpemUgYXJndW1lbnQuXG5cblx0XHRcdFx0XHRcdFx0Y29uc3QgaW50ZXJwb2xhbnRUeXBlID0gKCB0aGlzIGluc3RhbmNlb2YgUXVhdGVybmlvbktleWZyYW1lVHJhY2sgKSA/IEdMVEZDdWJpY1NwbGluZVF1YXRlcm5pb25JbnRlcnBvbGFudCA6IEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50O1xuXG5cdFx0XHRcdFx0XHRcdHJldHVybiBuZXcgaW50ZXJwb2xhbnRUeXBlKCB0aGlzLnRpbWVzLCB0aGlzLnZhbHVlcywgdGhpcy5nZXRWYWx1ZVNpemUoKSAvIDMsIHJlc3VsdCApO1xuXG5cdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0XHQvLyBNYXJrIGFzIENVQklDU1BMSU5FLiBgdHJhY2suZ2V0SW50ZXJwb2xhdGlvbigpYCBkb2Vzbid0IHN1cHBvcnQgY3VzdG9tIGludGVycG9sYW50cy5cblx0XHRcdFx0XHRcdHRyYWNrLmNyZWF0ZUludGVycG9sYW50LmlzSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kR0xURkN1YmljU3BsaW5lID0gdHJ1ZTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRyYWNrcy5wdXNoKCB0cmFjayApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBuYW1lID0gYW5pbWF0aW9uRGVmLm5hbWUgPyBhbmltYXRpb25EZWYubmFtZSA6ICdhbmltYXRpb25fJyArIGFuaW1hdGlvbkluZGV4O1xuXG5cdFx0XHRyZXR1cm4gbmV3IEFuaW1hdGlvbkNsaXAoIG5hbWUsIHVuZGVmaW5lZCwgdHJhY2tzICk7XG5cblx0XHR9ICk7XG5cblx0fVxuXG5cdGNyZWF0ZU5vZGVNZXNoKCBub2RlSW5kZXggKSB7XG5cblx0XHRjb25zdCBqc29uID0gdGhpcy5qc29uO1xuXHRcdGNvbnN0IHBhcnNlciA9IHRoaXM7XG5cdFx0Y29uc3Qgbm9kZURlZiA9IGpzb24ubm9kZXNbIG5vZGVJbmRleCBdO1xuXG5cdFx0aWYgKCBub2RlRGVmLm1lc2ggPT09IHVuZGVmaW5lZCApIHJldHVybiBudWxsO1xuXG5cdFx0cmV0dXJuIHBhcnNlci5nZXREZXBlbmRlbmN5KCAnbWVzaCcsIG5vZGVEZWYubWVzaCApLnRoZW4oIGZ1bmN0aW9uICggbWVzaCApIHtcblxuXHRcdFx0Y29uc3Qgbm9kZSA9IHBhcnNlci5fZ2V0Tm9kZVJlZiggcGFyc2VyLm1lc2hDYWNoZSwgbm9kZURlZi5tZXNoLCBtZXNoICk7XG5cblx0XHRcdC8vIGlmIHdlaWdodHMgYXJlIHByb3ZpZGVkIG9uIHRoZSBub2RlLCBvdmVycmlkZSB3ZWlnaHRzIG9uIHRoZSBtZXNoLlxuXHRcdFx0aWYgKCBub2RlRGVmLndlaWdodHMgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRub2RlLnRyYXZlcnNlKCBmdW5jdGlvbiAoIG8gKSB7XG5cblx0XHRcdFx0XHRpZiAoICEgby5pc01lc2ggKSByZXR1cm47XG5cblx0XHRcdFx0XHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gbm9kZURlZi53ZWlnaHRzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkge1xuXG5cdFx0XHRcdFx0XHRvLm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgaSBdID0gbm9kZURlZi53ZWlnaHRzWyBpIF07XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fSApO1xuXG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBub2RlO1xuXG5cdFx0fSApO1xuXG5cdH1cblxuXHQvKipcblx0ICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI25vZGVzLWFuZC1oaWVyYXJjaHlcblx0ICogQHBhcmFtIHtudW1iZXJ9IG5vZGVJbmRleFxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdDNEPn1cblx0ICovXG5cdGxvYWROb2RlKCBub2RlSW5kZXggKSB7XG5cblx0XHRjb25zdCBqc29uID0gdGhpcy5qc29uO1xuXHRcdGNvbnN0IGV4dGVuc2lvbnMgPSB0aGlzLmV4dGVuc2lvbnM7XG5cdFx0Y29uc3QgcGFyc2VyID0gdGhpcztcblxuXHRcdGNvbnN0IG5vZGVEZWYgPSBqc29uLm5vZGVzWyBub2RlSW5kZXggXTtcblxuXHRcdC8vIHJlc2VydmUgbm9kZSdzIG5hbWUgYmVmb3JlIGl0cyBkZXBlbmRlbmNpZXMsIHNvIHRoZSByb290IGhhcyB0aGUgaW50ZW5kZWQgbmFtZS5cblx0XHRjb25zdCBub2RlTmFtZSA9IG5vZGVEZWYubmFtZSA/IHBhcnNlci5jcmVhdGVVbmlxdWVOYW1lKCBub2RlRGVmLm5hbWUgKSA6ICcnO1xuXG5cdFx0cmV0dXJuICggZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRjb25zdCBwZW5kaW5nID0gW107XG5cblx0XHRcdGNvbnN0IG1lc2hQcm9taXNlID0gcGFyc2VyLl9pbnZva2VPbmUoIGZ1bmN0aW9uICggZXh0ICkge1xuXG5cdFx0XHRcdHJldHVybiBleHQuY3JlYXRlTm9kZU1lc2ggJiYgZXh0LmNyZWF0ZU5vZGVNZXNoKCBub2RlSW5kZXggKTtcblxuXHRcdFx0fSApO1xuXG5cdFx0XHRpZiAoIG1lc2hQcm9taXNlICkge1xuXG5cdFx0XHRcdHBlbmRpbmcucHVzaCggbWVzaFByb21pc2UgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIG5vZGVEZWYuY2FtZXJhICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0cGVuZGluZy5wdXNoKCBwYXJzZXIuZ2V0RGVwZW5kZW5jeSggJ2NhbWVyYScsIG5vZGVEZWYuY2FtZXJhICkudGhlbiggZnVuY3Rpb24gKCBjYW1lcmEgKSB7XG5cblx0XHRcdFx0XHRyZXR1cm4gcGFyc2VyLl9nZXROb2RlUmVmKCBwYXJzZXIuY2FtZXJhQ2FjaGUsIG5vZGVEZWYuY2FtZXJhLCBjYW1lcmEgKTtcblxuXHRcdFx0XHR9ICkgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRwYXJzZXIuX2ludm9rZUFsbCggZnVuY3Rpb24gKCBleHQgKSB7XG5cblx0XHRcdFx0cmV0dXJuIGV4dC5jcmVhdGVOb2RlQXR0YWNobWVudCAmJiBleHQuY3JlYXRlTm9kZUF0dGFjaG1lbnQoIG5vZGVJbmRleCApO1xuXG5cdFx0XHR9ICkuZm9yRWFjaCggZnVuY3Rpb24gKCBwcm9taXNlICkge1xuXG5cdFx0XHRcdHBlbmRpbmcucHVzaCggcHJvbWlzZSApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHRcdHJldHVybiBQcm9taXNlLmFsbCggcGVuZGluZyApO1xuXG5cdFx0fSgpICkudGhlbiggZnVuY3Rpb24gKCBvYmplY3RzICkge1xuXG5cdFx0XHRsZXQgbm9kZTtcblxuXHRcdFx0Ly8gLmlzQm9uZSBpc24ndCBpbiBnbFRGIHNwZWMuIFNlZSAuX21hcmtEZWZzXG5cdFx0XHRpZiAoIG5vZGVEZWYuaXNCb25lID09PSB0cnVlICkge1xuXG5cdFx0XHRcdG5vZGUgPSBuZXcgQm9uZSgpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBvYmplY3RzLmxlbmd0aCA+IDEgKSB7XG5cblx0XHRcdFx0bm9kZSA9IG5ldyBHcm91cCgpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBvYmplY3RzLmxlbmd0aCA9PT0gMSApIHtcblxuXHRcdFx0XHRub2RlID0gb2JqZWN0c1sgMCBdO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdG5vZGUgPSBuZXcgT2JqZWN0M0QoKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIG5vZGUgIT09IG9iamVjdHNbIDAgXSApIHtcblxuXHRcdFx0XHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gb2JqZWN0cy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0XHRcdG5vZGUuYWRkKCBvYmplY3RzWyBpIF0gKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBub2RlRGVmLm5hbWUgKSB7XG5cblx0XHRcdFx0bm9kZS51c2VyRGF0YS5uYW1lID0gbm9kZURlZi5uYW1lO1xuXHRcdFx0XHRub2RlLm5hbWUgPSBub2RlTmFtZTtcblxuXHRcdFx0fVxuXG5cdFx0XHRhc3NpZ25FeHRyYXNUb1VzZXJEYXRhKCBub2RlLCBub2RlRGVmICk7XG5cblx0XHRcdGlmICggbm9kZURlZi5leHRlbnNpb25zICkgYWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhKCBleHRlbnNpb25zLCBub2RlLCBub2RlRGVmICk7XG5cblx0XHRcdGlmICggbm9kZURlZi5tYXRyaXggIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRjb25zdCBtYXRyaXggPSBuZXcgTWF0cml4NCgpO1xuXHRcdFx0XHRtYXRyaXguZnJvbUFycmF5KCBub2RlRGVmLm1hdHJpeCApO1xuXHRcdFx0XHRub2RlLmFwcGx5TWF0cml4NCggbWF0cml4ICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0aWYgKCBub2RlRGVmLnRyYW5zbGF0aW9uICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0XHRub2RlLnBvc2l0aW9uLmZyb21BcnJheSggbm9kZURlZi50cmFuc2xhdGlvbiApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIG5vZGVEZWYucm90YXRpb24gIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRcdG5vZGUucXVhdGVybmlvbi5mcm9tQXJyYXkoIG5vZGVEZWYucm90YXRpb24gKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCBub2RlRGVmLnNjYWxlICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0XHRub2RlLnNjYWxlLmZyb21BcnJheSggbm9kZURlZi5zY2FsZSApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoICEgcGFyc2VyLmFzc29jaWF0aW9ucy5oYXMoIG5vZGUgKSApIHtcblxuXHRcdFx0XHRwYXJzZXIuYXNzb2NpYXRpb25zLnNldCggbm9kZSwge30gKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRwYXJzZXIuYXNzb2NpYXRpb25zLmdldCggbm9kZSApLm5vZGVzID0gbm9kZUluZGV4O1xuXG5cdFx0XHRyZXR1cm4gbm9kZTtcblxuXHRcdH0gKTtcblxuXHR9XG5cblx0LyoqXG5cdCAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNzY2VuZXNcblx0ICogQHBhcmFtIHtudW1iZXJ9IHNjZW5lSW5kZXhcblx0ICogQHJldHVybiB7UHJvbWlzZTxHcm91cD59XG5cdCAqL1xuXHRsb2FkU2NlbmUoIHNjZW5lSW5kZXggKSB7XG5cblx0XHRjb25zdCBqc29uID0gdGhpcy5qc29uO1xuXHRcdGNvbnN0IGV4dGVuc2lvbnMgPSB0aGlzLmV4dGVuc2lvbnM7XG5cdFx0Y29uc3Qgc2NlbmVEZWYgPSB0aGlzLmpzb24uc2NlbmVzWyBzY2VuZUluZGV4IF07XG5cdFx0Y29uc3QgcGFyc2VyID0gdGhpcztcblxuXHRcdC8vIExvYWRlciByZXR1cm5zIEdyb3VwLCBub3QgU2NlbmUuXG5cdFx0Ly8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2lzc3Vlcy8xODM0MiNpc3N1ZWNvbW1lbnQtNTc4OTgxMTcyXG5cdFx0Y29uc3Qgc2NlbmUgPSBuZXcgR3JvdXAoKTtcblx0XHRpZiAoIHNjZW5lRGVmLm5hbWUgKSBzY2VuZS5uYW1lID0gcGFyc2VyLmNyZWF0ZVVuaXF1ZU5hbWUoIHNjZW5lRGVmLm5hbWUgKTtcblxuXHRcdGFzc2lnbkV4dHJhc1RvVXNlckRhdGEoIHNjZW5lLCBzY2VuZURlZiApO1xuXG5cdFx0aWYgKCBzY2VuZURlZi5leHRlbnNpb25zICkgYWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhKCBleHRlbnNpb25zLCBzY2VuZSwgc2NlbmVEZWYgKTtcblxuXHRcdGNvbnN0IG5vZGVJZHMgPSBzY2VuZURlZi5ub2RlcyB8fCBbXTtcblxuXHRcdGNvbnN0IHBlbmRpbmcgPSBbXTtcblxuXHRcdGZvciAoIGxldCBpID0gMCwgaWwgPSBub2RlSWRzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkge1xuXG5cdFx0XHRwZW5kaW5nLnB1c2goIGJ1aWxkTm9kZUhpZXJhcmNoeSggbm9kZUlkc1sgaSBdLCBzY2VuZSwganNvbiwgcGFyc2VyICkgKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiBQcm9taXNlLmFsbCggcGVuZGluZyApLnRoZW4oIGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0Ly8gUmVtb3ZlcyBkYW5nbGluZyBhc3NvY2lhdGlvbnMsIGFzc29jaWF0aW9ucyB0aGF0IHJlZmVyZW5jZSBhIG5vZGUgdGhhdFxuXHRcdFx0Ly8gZGlkbid0IG1ha2UgaXQgaW50byB0aGUgc2NlbmUuXG5cdFx0XHRjb25zdCByZWR1Y2VBc3NvY2lhdGlvbnMgPSAoIG5vZGUgKSA9PiB7XG5cblx0XHRcdFx0Y29uc3QgcmVkdWNlZEFzc29jaWF0aW9ucyA9IG5ldyBNYXAoKTtcblxuXHRcdFx0XHRmb3IgKCBjb25zdCBbIGtleSwgdmFsdWUgXSBvZiBwYXJzZXIuYXNzb2NpYXRpb25zICkge1xuXG5cdFx0XHRcdFx0aWYgKCBrZXkgaW5zdGFuY2VvZiBNYXRlcmlhbCB8fCBrZXkgaW5zdGFuY2VvZiBUZXh0dXJlICkge1xuXG5cdFx0XHRcdFx0XHRyZWR1Y2VkQXNzb2NpYXRpb25zLnNldCgga2V5LCB2YWx1ZSApO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRub2RlLnRyYXZlcnNlKCAoIG5vZGUgKSA9PiB7XG5cblx0XHRcdFx0XHRjb25zdCBtYXBwaW5ncyA9IHBhcnNlci5hc3NvY2lhdGlvbnMuZ2V0KCBub2RlICk7XG5cblx0XHRcdFx0XHRpZiAoIG1hcHBpbmdzICE9IG51bGwgKSB7XG5cblx0XHRcdFx0XHRcdHJlZHVjZWRBc3NvY2lhdGlvbnMuc2V0KCBub2RlLCBtYXBwaW5ncyApO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0XHRyZXR1cm4gcmVkdWNlZEFzc29jaWF0aW9ucztcblxuXHRcdFx0fTtcblxuXHRcdFx0cGFyc2VyLmFzc29jaWF0aW9ucyA9IHJlZHVjZUFzc29jaWF0aW9ucyggc2NlbmUgKTtcblxuXHRcdFx0cmV0dXJuIHNjZW5lO1xuXG5cdFx0fSApO1xuXG5cdH1cblxufVxuXG5mdW5jdGlvbiBidWlsZE5vZGVIaWVyYXJjaHkoIG5vZGVJZCwgcGFyZW50T2JqZWN0LCBqc29uLCBwYXJzZXIgKSB7XG5cblx0Y29uc3Qgbm9kZURlZiA9IGpzb24ubm9kZXNbIG5vZGVJZCBdO1xuXG5cdHJldHVybiBwYXJzZXIuZ2V0RGVwZW5kZW5jeSggJ25vZGUnLCBub2RlSWQgKS50aGVuKCBmdW5jdGlvbiAoIG5vZGUgKSB7XG5cblx0XHRpZiAoIG5vZGVEZWYuc2tpbiA9PT0gdW5kZWZpbmVkICkgcmV0dXJuIG5vZGU7XG5cblx0XHQvLyBidWlsZCBza2VsZXRvbiBoZXJlIGFzIHdlbGxcblxuXHRcdGxldCBza2luRW50cnk7XG5cblx0XHRyZXR1cm4gcGFyc2VyLmdldERlcGVuZGVuY3koICdza2luJywgbm9kZURlZi5za2luICkudGhlbiggZnVuY3Rpb24gKCBza2luICkge1xuXG5cdFx0XHRza2luRW50cnkgPSBza2luO1xuXG5cdFx0XHRjb25zdCBwZW5kaW5nSm9pbnRzID0gW107XG5cblx0XHRcdGZvciAoIGxldCBpID0gMCwgaWwgPSBza2luRW50cnkuam9pbnRzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkge1xuXG5cdFx0XHRcdHBlbmRpbmdKb2ludHMucHVzaCggcGFyc2VyLmdldERlcGVuZGVuY3koICdub2RlJywgc2tpbkVudHJ5LmpvaW50c1sgaSBdICkgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gUHJvbWlzZS5hbGwoIHBlbmRpbmdKb2ludHMgKTtcblxuXHRcdH0gKS50aGVuKCBmdW5jdGlvbiAoIGpvaW50Tm9kZXMgKSB7XG5cblx0XHRcdG5vZGUudHJhdmVyc2UoIGZ1bmN0aW9uICggbWVzaCApIHtcblxuXHRcdFx0XHRpZiAoICEgbWVzaC5pc01lc2ggKSByZXR1cm47XG5cblx0XHRcdFx0Y29uc3QgYm9uZXMgPSBbXTtcblx0XHRcdFx0Y29uc3QgYm9uZUludmVyc2VzID0gW107XG5cblx0XHRcdFx0Zm9yICggbGV0IGogPSAwLCBqbCA9IGpvaW50Tm9kZXMubGVuZ3RoOyBqIDwgamw7IGogKysgKSB7XG5cblx0XHRcdFx0XHRjb25zdCBqb2ludE5vZGUgPSBqb2ludE5vZGVzWyBqIF07XG5cblx0XHRcdFx0XHRpZiAoIGpvaW50Tm9kZSApIHtcblxuXHRcdFx0XHRcdFx0Ym9uZXMucHVzaCggam9pbnROb2RlICk7XG5cblx0XHRcdFx0XHRcdGNvbnN0IG1hdCA9IG5ldyBNYXRyaXg0KCk7XG5cblx0XHRcdFx0XHRcdGlmICggc2tpbkVudHJ5LmludmVyc2VCaW5kTWF0cmljZXMgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRcdFx0XHRtYXQuZnJvbUFycmF5KCBza2luRW50cnkuaW52ZXJzZUJpbmRNYXRyaWNlcy5hcnJheSwgaiAqIDE2ICk7XG5cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ym9uZUludmVyc2VzLnB1c2goIG1hdCApO1xuXG5cdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuR0xURkxvYWRlcjogSm9pbnQgXCIlc1wiIGNvdWxkIG5vdCBiZSBmb3VuZC4nLCBza2luRW50cnkuam9pbnRzWyBqIF0gKTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0bWVzaC5iaW5kKCBuZXcgU2tlbGV0b24oIGJvbmVzLCBib25lSW52ZXJzZXMgKSwgbWVzaC5tYXRyaXhXb3JsZCApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHRcdHJldHVybiBub2RlO1xuXG5cdFx0fSApO1xuXG5cdH0gKS50aGVuKCBmdW5jdGlvbiAoIG5vZGUgKSB7XG5cblx0XHQvLyBidWlsZCBub2RlIGhpZXJhY2h5XG5cblx0XHRwYXJlbnRPYmplY3QuYWRkKCBub2RlICk7XG5cblx0XHRjb25zdCBwZW5kaW5nID0gW107XG5cblx0XHRpZiAoIG5vZGVEZWYuY2hpbGRyZW4gKSB7XG5cblx0XHRcdGNvbnN0IGNoaWxkcmVuID0gbm9kZURlZi5jaGlsZHJlbjtcblxuXHRcdFx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGlsOyBpICsrICkge1xuXG5cdFx0XHRcdGNvbnN0IGNoaWxkID0gY2hpbGRyZW5bIGkgXTtcblx0XHRcdFx0cGVuZGluZy5wdXNoKCBidWlsZE5vZGVIaWVyYXJjaHkoIGNoaWxkLCBub2RlLCBqc29uLCBwYXJzZXIgKSApO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gUHJvbWlzZS5hbGwoIHBlbmRpbmcgKTtcblxuXHR9ICk7XG5cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0J1ZmZlckdlb21ldHJ5fSBnZW9tZXRyeVxuICogQHBhcmFtIHtHTFRGLlByaW1pdGl2ZX0gcHJpbWl0aXZlRGVmXG4gKiBAcGFyYW0ge0dMVEZQYXJzZXJ9IHBhcnNlclxuICovXG5mdW5jdGlvbiBjb21wdXRlQm91bmRzKCBnZW9tZXRyeSwgcHJpbWl0aXZlRGVmLCBwYXJzZXIgKSB7XG5cblx0Y29uc3QgYXR0cmlidXRlcyA9IHByaW1pdGl2ZURlZi5hdHRyaWJ1dGVzO1xuXG5cdGNvbnN0IGJveCA9IG5ldyBCb3gzKCk7XG5cblx0aWYgKCBhdHRyaWJ1dGVzLlBPU0lUSU9OICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRjb25zdCBhY2Nlc3NvciA9IHBhcnNlci5qc29uLmFjY2Vzc29yc1sgYXR0cmlidXRlcy5QT1NJVElPTiBdO1xuXG5cdFx0Y29uc3QgbWluID0gYWNjZXNzb3IubWluO1xuXHRcdGNvbnN0IG1heCA9IGFjY2Vzc29yLm1heDtcblxuXHRcdC8vIGdsVEYgcmVxdWlyZXMgJ21pbicgYW5kICdtYXgnLCBidXQgVlJNICh3aGljaCBleHRlbmRzIGdsVEYpIGN1cnJlbnRseSBpZ25vcmVzIHRoYXQgcmVxdWlyZW1lbnQuXG5cblx0XHRpZiAoIG1pbiAhPT0gdW5kZWZpbmVkICYmIG1heCAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRib3guc2V0KFxuXHRcdFx0XHRuZXcgVmVjdG9yMyggbWluWyAwIF0sIG1pblsgMSBdLCBtaW5bIDIgXSApLFxuXHRcdFx0XHRuZXcgVmVjdG9yMyggbWF4WyAwIF0sIG1heFsgMSBdLCBtYXhbIDIgXSApXG5cdFx0XHQpO1xuXG5cdFx0XHRpZiAoIGFjY2Vzc29yLm5vcm1hbGl6ZWQgKSB7XG5cblx0XHRcdFx0Y29uc3QgYm94U2NhbGUgPSBnZXROb3JtYWxpemVkQ29tcG9uZW50U2NhbGUoIFdFQkdMX0NPTVBPTkVOVF9UWVBFU1sgYWNjZXNzb3IuY29tcG9uZW50VHlwZSBdICk7XG5cdFx0XHRcdGJveC5taW4ubXVsdGlwbHlTY2FsYXIoIGJveFNjYWxlICk7XG5cdFx0XHRcdGJveC5tYXgubXVsdGlwbHlTY2FsYXIoIGJveFNjYWxlICk7XG5cblx0XHRcdH1cblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkdMVEZMb2FkZXI6IE1pc3NpbmcgbWluL21heCBwcm9wZXJ0aWVzIGZvciBhY2Nlc3NvciBQT1NJVElPTi4nICk7XG5cblx0XHRcdHJldHVybjtcblxuXHRcdH1cblxuXHR9IGVsc2Uge1xuXG5cdFx0cmV0dXJuO1xuXG5cdH1cblxuXHRjb25zdCB0YXJnZXRzID0gcHJpbWl0aXZlRGVmLnRhcmdldHM7XG5cblx0aWYgKCB0YXJnZXRzICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRjb25zdCBtYXhEaXNwbGFjZW1lbnQgPSBuZXcgVmVjdG9yMygpO1xuXHRcdGNvbnN0IHZlY3RvciA9IG5ldyBWZWN0b3IzKCk7XG5cblx0XHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gdGFyZ2V0cy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0Y29uc3QgdGFyZ2V0ID0gdGFyZ2V0c1sgaSBdO1xuXG5cdFx0XHRpZiAoIHRhcmdldC5QT1NJVElPTiAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdGNvbnN0IGFjY2Vzc29yID0gcGFyc2VyLmpzb24uYWNjZXNzb3JzWyB0YXJnZXQuUE9TSVRJT04gXTtcblx0XHRcdFx0Y29uc3QgbWluID0gYWNjZXNzb3IubWluO1xuXHRcdFx0XHRjb25zdCBtYXggPSBhY2Nlc3Nvci5tYXg7XG5cblx0XHRcdFx0Ly8gZ2xURiByZXF1aXJlcyAnbWluJyBhbmQgJ21heCcsIGJ1dCBWUk0gKHdoaWNoIGV4dGVuZHMgZ2xURikgY3VycmVudGx5IGlnbm9yZXMgdGhhdCByZXF1aXJlbWVudC5cblxuXHRcdFx0XHRpZiAoIG1pbiAhPT0gdW5kZWZpbmVkICYmIG1heCAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdFx0Ly8gd2UgbmVlZCB0byBnZXQgbWF4IG9mIGFic29sdXRlIGNvbXBvbmVudHMgYmVjYXVzZSB0YXJnZXQgd2VpZ2h0IGlzIFstMSwxXVxuXHRcdFx0XHRcdHZlY3Rvci5zZXRYKCBNYXRoLm1heCggTWF0aC5hYnMoIG1pblsgMCBdICksIE1hdGguYWJzKCBtYXhbIDAgXSApICkgKTtcblx0XHRcdFx0XHR2ZWN0b3Iuc2V0WSggTWF0aC5tYXgoIE1hdGguYWJzKCBtaW5bIDEgXSApLCBNYXRoLmFicyggbWF4WyAxIF0gKSApICk7XG5cdFx0XHRcdFx0dmVjdG9yLnNldFooIE1hdGgubWF4KCBNYXRoLmFicyggbWluWyAyIF0gKSwgTWF0aC5hYnMoIG1heFsgMiBdICkgKSApO1xuXG5cblx0XHRcdFx0XHRpZiAoIGFjY2Vzc29yLm5vcm1hbGl6ZWQgKSB7XG5cblx0XHRcdFx0XHRcdGNvbnN0IGJveFNjYWxlID0gZ2V0Tm9ybWFsaXplZENvbXBvbmVudFNjYWxlKCBXRUJHTF9DT01QT05FTlRfVFlQRVNbIGFjY2Vzc29yLmNvbXBvbmVudFR5cGUgXSApO1xuXHRcdFx0XHRcdFx0dmVjdG9yLm11bHRpcGx5U2NhbGFyKCBib3hTY2FsZSApO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gTm90ZTogdGhpcyBhc3N1bWVzIHRoYXQgdGhlIHN1bSBvZiBhbGwgd2VpZ2h0cyBpcyBhdCBtb3N0IDEuIFRoaXMgaXNuJ3QgcXVpdGUgY29ycmVjdCAtIGl0J3MgbW9yZSBjb25zZXJ2YXRpdmVcblx0XHRcdFx0XHQvLyB0byBhc3N1bWUgdGhhdCBlYWNoIHRhcmdldCBjYW4gaGF2ZSBhIG1heCB3ZWlnaHQgb2YgMS4gSG93ZXZlciwgZm9yIHNvbWUgdXNlIGNhc2VzIC0gbm90YWJseSwgd2hlbiBtb3JwaCB0YXJnZXRzXG5cdFx0XHRcdFx0Ly8gYXJlIHVzZWQgdG8gaW1wbGVtZW50IGtleS1mcmFtZSBhbmltYXRpb25zIGFuZCBhcyBzdWNoIG9ubHkgdHdvIGFyZSBhY3RpdmUgYXQgYSB0aW1lIC0gdGhpcyByZXN1bHRzIGluIHZlcnkgbGFyZ2Vcblx0XHRcdFx0XHQvLyBib3hlcy4gU28gZm9yIG5vdyB3ZSBtYWtlIGEgYm94IHRoYXQncyBzb21ldGltZXMgYSB0b3VjaCB0b28gc21hbGwgYnV0IGlzIGhvcGVmdWxseSBtb3N0bHkgb2YgcmVhc29uYWJsZSBzaXplLlxuXHRcdFx0XHRcdG1heERpc3BsYWNlbWVudC5tYXgoIHZlY3RvciApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5HTFRGTG9hZGVyOiBNaXNzaW5nIG1pbi9tYXggcHJvcGVydGllcyBmb3IgYWNjZXNzb3IgUE9TSVRJT04uJyApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0Ly8gQXMgcGVyIGNvbW1lbnQgYWJvdmUgdGhpcyBib3ggaXNuJ3QgY29uc2VydmF0aXZlLCBidXQgaGFzIGEgcmVhc29uYWJsZSBzaXplIGZvciBhIHZlcnkgbGFyZ2UgbnVtYmVyIG9mIG1vcnBoIHRhcmdldHMuXG5cdFx0Ym94LmV4cGFuZEJ5VmVjdG9yKCBtYXhEaXNwbGFjZW1lbnQgKTtcblxuXHR9XG5cblx0Z2VvbWV0cnkuYm91bmRpbmdCb3ggPSBib3g7XG5cblx0Y29uc3Qgc3BoZXJlID0gbmV3IFNwaGVyZSgpO1xuXG5cdGJveC5nZXRDZW50ZXIoIHNwaGVyZS5jZW50ZXIgKTtcblx0c3BoZXJlLnJhZGl1cyA9IGJveC5taW4uZGlzdGFuY2VUbyggYm94Lm1heCApIC8gMjtcblxuXHRnZW9tZXRyeS5ib3VuZGluZ1NwaGVyZSA9IHNwaGVyZTtcblxufVxuXG4vKipcbiAqIEBwYXJhbSB7QnVmZmVyR2VvbWV0cnl9IGdlb21ldHJ5XG4gKiBAcGFyYW0ge0dMVEYuUHJpbWl0aXZlfSBwcmltaXRpdmVEZWZcbiAqIEBwYXJhbSB7R0xURlBhcnNlcn0gcGFyc2VyXG4gKiBAcmV0dXJuIHtQcm9taXNlPEJ1ZmZlckdlb21ldHJ5Pn1cbiAqL1xuZnVuY3Rpb24gYWRkUHJpbWl0aXZlQXR0cmlidXRlcyggZ2VvbWV0cnksIHByaW1pdGl2ZURlZiwgcGFyc2VyICkge1xuXG5cdGNvbnN0IGF0dHJpYnV0ZXMgPSBwcmltaXRpdmVEZWYuYXR0cmlidXRlcztcblxuXHRjb25zdCBwZW5kaW5nID0gW107XG5cblx0ZnVuY3Rpb24gYXNzaWduQXR0cmlidXRlQWNjZXNzb3IoIGFjY2Vzc29ySW5kZXgsIGF0dHJpYnV0ZU5hbWUgKSB7XG5cblx0XHRyZXR1cm4gcGFyc2VyLmdldERlcGVuZGVuY3koICdhY2Nlc3NvcicsIGFjY2Vzc29ySW5kZXggKVxuXHRcdFx0LnRoZW4oIGZ1bmN0aW9uICggYWNjZXNzb3IgKSB7XG5cblx0XHRcdFx0Z2VvbWV0cnkuc2V0QXR0cmlidXRlKCBhdHRyaWJ1dGVOYW1lLCBhY2Nlc3NvciApO1xuXG5cdFx0XHR9ICk7XG5cblx0fVxuXG5cdGZvciAoIGNvbnN0IGdsdGZBdHRyaWJ1dGVOYW1lIGluIGF0dHJpYnV0ZXMgKSB7XG5cblx0XHRjb25zdCB0aHJlZUF0dHJpYnV0ZU5hbWUgPSBBVFRSSUJVVEVTWyBnbHRmQXR0cmlidXRlTmFtZSBdIHx8IGdsdGZBdHRyaWJ1dGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cblx0XHQvLyBTa2lwIGF0dHJpYnV0ZXMgYWxyZWFkeSBwcm92aWRlZCBieSBlLmcuIERyYWNvIGV4dGVuc2lvbi5cblx0XHRpZiAoIHRocmVlQXR0cmlidXRlTmFtZSBpbiBnZW9tZXRyeS5hdHRyaWJ1dGVzICkgY29udGludWU7XG5cblx0XHRwZW5kaW5nLnB1c2goIGFzc2lnbkF0dHJpYnV0ZUFjY2Vzc29yKCBhdHRyaWJ1dGVzWyBnbHRmQXR0cmlidXRlTmFtZSBdLCB0aHJlZUF0dHJpYnV0ZU5hbWUgKSApO1xuXG5cdH1cblxuXHRpZiAoIHByaW1pdGl2ZURlZi5pbmRpY2VzICE9PSB1bmRlZmluZWQgJiYgISBnZW9tZXRyeS5pbmRleCApIHtcblxuXHRcdGNvbnN0IGFjY2Vzc29yID0gcGFyc2VyLmdldERlcGVuZGVuY3koICdhY2Nlc3NvcicsIHByaW1pdGl2ZURlZi5pbmRpY2VzICkudGhlbiggZnVuY3Rpb24gKCBhY2Nlc3NvciApIHtcblxuXHRcdFx0Z2VvbWV0cnkuc2V0SW5kZXgoIGFjY2Vzc29yICk7XG5cblx0XHR9ICk7XG5cblx0XHRwZW5kaW5nLnB1c2goIGFjY2Vzc29yICk7XG5cblx0fVxuXG5cdGFzc2lnbkV4dHJhc1RvVXNlckRhdGEoIGdlb21ldHJ5LCBwcmltaXRpdmVEZWYgKTtcblxuXHRjb21wdXRlQm91bmRzKCBnZW9tZXRyeSwgcHJpbWl0aXZlRGVmLCBwYXJzZXIgKTtcblxuXHRyZXR1cm4gUHJvbWlzZS5hbGwoIHBlbmRpbmcgKS50aGVuKCBmdW5jdGlvbiAoKSB7XG5cblx0XHRyZXR1cm4gcHJpbWl0aXZlRGVmLnRhcmdldHMgIT09IHVuZGVmaW5lZFxuXHRcdFx0PyBhZGRNb3JwaFRhcmdldHMoIGdlb21ldHJ5LCBwcmltaXRpdmVEZWYudGFyZ2V0cywgcGFyc2VyIClcblx0XHRcdDogZ2VvbWV0cnk7XG5cblx0fSApO1xuXG59XG5cbi8qKlxuICogQHBhcmFtIHtCdWZmZXJHZW9tZXRyeX0gZ2VvbWV0cnlcbiAqIEBwYXJhbSB7TnVtYmVyfSBkcmF3TW9kZVxuICogQHJldHVybiB7QnVmZmVyR2VvbWV0cnl9XG4gKi9cbmZ1bmN0aW9uIHRvVHJpYW5nbGVzRHJhd01vZGUoIGdlb21ldHJ5LCBkcmF3TW9kZSApIHtcblxuXHRsZXQgaW5kZXggPSBnZW9tZXRyeS5nZXRJbmRleCgpO1xuXG5cdC8vIGdlbmVyYXRlIGluZGV4IGlmIG5vdCBwcmVzZW50XG5cblx0aWYgKCBpbmRleCA9PT0gbnVsbCApIHtcblxuXHRcdGNvbnN0IGluZGljZXMgPSBbXTtcblxuXHRcdGNvbnN0IHBvc2l0aW9uID0gZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKCAncG9zaXRpb24nICk7XG5cblx0XHRpZiAoIHBvc2l0aW9uICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGZvciAoIGxldCBpID0gMDsgaSA8IHBvc2l0aW9uLmNvdW50OyBpICsrICkge1xuXG5cdFx0XHRcdGluZGljZXMucHVzaCggaSApO1xuXG5cdFx0XHR9XG5cblx0XHRcdGdlb21ldHJ5LnNldEluZGV4KCBpbmRpY2VzICk7XG5cdFx0XHRpbmRleCA9IGdlb21ldHJ5LmdldEluZGV4KCk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRjb25zb2xlLmVycm9yKCAnVEhSRUUuR0xURkxvYWRlci50b1RyaWFuZ2xlc0RyYXdNb2RlKCk6IFVuZGVmaW5lZCBwb3NpdGlvbiBhdHRyaWJ1dGUuIFByb2Nlc3Npbmcgbm90IHBvc3NpYmxlLicgKTtcblx0XHRcdHJldHVybiBnZW9tZXRyeTtcblxuXHRcdH1cblxuXHR9XG5cblx0Ly9cblxuXHRjb25zdCBudW1iZXJPZlRyaWFuZ2xlcyA9IGluZGV4LmNvdW50IC0gMjtcblx0Y29uc3QgbmV3SW5kaWNlcyA9IFtdO1xuXG5cdGlmICggZHJhd01vZGUgPT09IFRyaWFuZ2xlRmFuRHJhd01vZGUgKSB7XG5cblx0XHQvLyBnbC5UUklBTkdMRV9GQU5cblxuXHRcdGZvciAoIGxldCBpID0gMTsgaSA8PSBudW1iZXJPZlRyaWFuZ2xlczsgaSArKyApIHtcblxuXHRcdFx0bmV3SW5kaWNlcy5wdXNoKCBpbmRleC5nZXRYKCAwICkgKTtcblx0XHRcdG5ld0luZGljZXMucHVzaCggaW5kZXguZ2V0WCggaSApICk7XG5cdFx0XHRuZXdJbmRpY2VzLnB1c2goIGluZGV4LmdldFgoIGkgKyAxICkgKTtcblxuXHRcdH1cblxuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gZ2wuVFJJQU5HTEVfU1RSSVBcblxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IG51bWJlck9mVHJpYW5nbGVzOyBpICsrICkge1xuXG5cdFx0XHRpZiAoIGkgJSAyID09PSAwICkge1xuXG5cdFx0XHRcdG5ld0luZGljZXMucHVzaCggaW5kZXguZ2V0WCggaSApICk7XG5cdFx0XHRcdG5ld0luZGljZXMucHVzaCggaW5kZXguZ2V0WCggaSArIDEgKSApO1xuXHRcdFx0XHRuZXdJbmRpY2VzLnB1c2goIGluZGV4LmdldFgoIGkgKyAyICkgKTtcblxuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdG5ld0luZGljZXMucHVzaCggaW5kZXguZ2V0WCggaSArIDIgKSApO1xuXHRcdFx0XHRuZXdJbmRpY2VzLnB1c2goIGluZGV4LmdldFgoIGkgKyAxICkgKTtcblx0XHRcdFx0bmV3SW5kaWNlcy5wdXNoKCBpbmRleC5nZXRYKCBpICkgKTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdH1cblxuXHRpZiAoICggbmV3SW5kaWNlcy5sZW5ndGggLyAzICkgIT09IG51bWJlck9mVHJpYW5nbGVzICkge1xuXG5cdFx0Y29uc29sZS5lcnJvciggJ1RIUkVFLkdMVEZMb2FkZXIudG9UcmlhbmdsZXNEcmF3TW9kZSgpOiBVbmFibGUgdG8gZ2VuZXJhdGUgY29ycmVjdCBhbW91bnQgb2YgdHJpYW5nbGVzLicgKTtcblxuXHR9XG5cblx0Ly8gYnVpbGQgZmluYWwgZ2VvbWV0cnlcblxuXHRjb25zdCBuZXdHZW9tZXRyeSA9IGdlb21ldHJ5LmNsb25lKCk7XG5cdG5ld0dlb21ldHJ5LnNldEluZGV4KCBuZXdJbmRpY2VzICk7XG5cblx0cmV0dXJuIG5ld0dlb21ldHJ5O1xuXG59XG5cbmV4cG9ydCB7IEdMVEZMb2FkZXIgfTtcbiIsImltcG9ydCB7IE9iamVjdDNELCBQbGFuZUdlb21ldHJ5LCBTY2VuZSwgVGV4dHVyZUxvYWRlciwgVmlkZW9UZXh0dXJlLCBNZXNoLCBNZXNoU3RhbmRhcmRNYXRlcmlhbCB9IGZyb20gXCJ0aHJlZVwiO1xuaW1wb3J0IHsgR0xURkxvYWRlciB9IGZyb20gXCJ0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9HTFRGTG9hZGVyXCI7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuLi91dGlscy9VdGlsc1wiO1xuaW1wb3J0IFNjZW5lUmVuZGVyZXJUSlMgZnJvbSBcIi4uL1NjZW5lUmVuZGVyZXJUSlNcIjtcblxuaW50ZXJmYWNlIEFSdmlkZW8ge1xuICAgIHBsYXk6ICgpID0+IHZvaWQ7XG59XG5cbmludGVyZmFjZSBFbnRpdHkge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBtZXNoOiBPYmplY3QzRDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTkZUYWRkVEpTIHtcbiAgICBwcml2YXRlIGVudGl0aWVzOiBFbnRpdHlbXSA9IFtdO1xuICAgIHByaXZhdGUgbmFtZXM6IEFycmF5PHN0cmluZz47XG4gICAgcHJpdmF0ZSBzY2VuZTogU2NlbmU7XG4gICAgcHJpdmF0ZSB0YXJnZXQ6IEV2ZW50VGFyZ2V0O1xuICAgIHByaXZhdGUgdXVpZDogc3RyaW5nO1xuICAgIGNvbnN0cnVjdG9yKHV1aWQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLnNjZW5lID0gU2NlbmVSZW5kZXJlclRKUy5nZXRHbG9iYWxTY2VuZSgpO1xuICAgICAgICB0aGlzLnRhcmdldCA9IHdpbmRvdyB8fCBnbG9iYWw7XG4gICAgICAgIHRoaXMudXVpZCA9IHV1aWQ7XG4gICAgICAgIHRoaXMubmFtZXMgPSBbXTtcbiAgICB9XG4gICAgcHVibGljIGFkZChtZXNoOiBPYmplY3QzRCwgbmFtZTogc3RyaW5nLCBvYmpWaXNpYmlsaXR5OiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJnZXRORlREYXRhLVwiICsgdGhpcy51dWlkICsgXCItXCIgKyBuYW1lLCAoZXY6IGFueSkgPT4ge1xuICAgICAgICAgICAgdmFyIG1zZyA9IGV2LmRldGFpbDtcbiAgICAgICAgICAgIG1lc2gucG9zaXRpb24ueSA9ICgobXNnLmhlaWdodCAvIG1zZy5kcGkpICogMi41NCAqIDEwKSAvIDIuMDtcbiAgICAgICAgICAgIG1lc2gucG9zaXRpb24ueCA9ICgobXNnLndpZHRoIC8gbXNnLmRwaSkgKiAyLjU0ICogMTApIC8gMi4wO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgcm9vdCA9IG5ldyBPYmplY3QzRCgpO1xuICAgICAgICByb290Lm5hbWUgPSBcInJvb3QtXCIgKyBuYW1lO1xuICAgICAgICByb290Lm1hdHJpeEF1dG9VcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQocm9vdCk7XG4gICAgICAgIHJvb3QuYWRkKG1lc2gpO1xuICAgICAgICB0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwiZ2V0TWF0cml4R0xfUkgtXCIgKyB0aGlzLnV1aWQgKyBcIi1cIiArIG5hbWUsIChldjogYW55KSA9PiB7XG4gICAgICAgICAgICByb290LnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgbWVzaC52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IG1hdHJpeCA9IFV0aWxzLmludGVycG9sYXRlKGV2LmRldGFpbC5tYXRyaXhHTF9SSCk7XG4gICAgICAgICAgICBVdGlscy5zZXRNYXRyaXgocm9vdC5tYXRyaXgsIG1hdHJpeCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibmZ0VHJhY2tpbmdMb3N0LVwiICsgdGhpcy51dWlkICsgXCItXCIgKyBuYW1lLCAoZXY6IGFueSkgPT4ge1xuICAgICAgICAgICAgcm9vdC52aXNpYmxlID0gb2JqVmlzaWJpbGl0eTtcbiAgICAgICAgICAgIG1lc2gudmlzaWJsZSA9IG9ialZpc2liaWxpdHk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWVzLnB1c2gobmFtZSk7XG4gICAgICAgIHRoaXMuZW50aXRpZXMucHVzaCh7IG5hbWUsIG1lc2ggfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZE1vZGVsKHVybDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIsIHNjYWxlOiBudW1iZXIsIG9ialZpc2liaWxpdHk6IGJvb2xlYW4pIHtcbiAgICAgICAgY29uc3Qgcm9vdCA9IG5ldyBPYmplY3QzRCgpO1xuICAgICAgICByb290Lm5hbWUgPSBcInJvb3QtXCIgKyBuYW1lO1xuICAgICAgICByb290Lm1hdHJpeEF1dG9VcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQocm9vdCk7XG4gICAgICAgIGxldCBtb2RlbDogYW55O1xuICAgICAgICAvKiBMb2FkIE1vZGVsICovXG4gICAgICAgIGNvbnN0IHRocmVlR0xURkxvYWRlciA9IG5ldyBHTFRGTG9hZGVyKCk7XG4gICAgICAgIHRocmVlR0xURkxvYWRlci5sb2FkKHVybCwgKGdsdGYpID0+IHtcbiAgICAgICAgICAgIG1vZGVsID0gZ2x0Zi5zY2VuZTtcbiAgICAgICAgICAgIG1vZGVsLnNjYWxlLnNldChzY2FsZSwgc2NhbGUsIHNjYWxlKTtcbiAgICAgICAgICAgIG1vZGVsLnJvdGF0aW9uLnggPSBNYXRoLlBJIC8gMjtcbiAgICAgICAgICAgIG1vZGVsLnBvc2l0aW9uLnggPSB4O1xuICAgICAgICAgICAgbW9kZWwucG9zaXRpb24ueSA9IHk7XG4gICAgICAgICAgICBtb2RlbC5wb3NpdGlvbi56ID0gejtcbiAgICAgICAgICAgIHJvb3QuYWRkKG1vZGVsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJnZXRNYXRyaXhHTF9SSC1cIiArIHRoaXMudXVpZCArIFwiLVwiICsgbmFtZSwgKGV2OiBhbnkpID0+IHtcbiAgICAgICAgICAgIHJvb3QudmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICBtb2RlbC52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IG1hdHJpeCA9IFV0aWxzLmludGVycG9sYXRlKGV2LmRldGFpbC5tYXRyaXhHTF9SSCk7XG4gICAgICAgICAgICBVdGlscy5zZXRNYXRyaXgocm9vdC5tYXRyaXgsIG1hdHJpeCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibmZ0VHJhY2tpbmdMb3N0LVwiICsgdGhpcy51dWlkICsgXCItXCIgKyBuYW1lLCAoZXY6IGFueSkgPT4ge1xuICAgICAgICAgICAgcm9vdC52aXNpYmxlID0gb2JqVmlzaWJpbGl0eTtcbiAgICAgICAgICAgIG1vZGVsLnZpc2libGUgPSBvYmpWaXNpYmlsaXR5O1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lcy5wdXNoKG5hbWUpO1xuICAgIH1cbiAgICBwdWJsaWMgYWRkSW1hZ2UoaW1hZ2VVcmw6IHN0cmluZywgbmFtZTogc3RyaW5nLCBjb2xvcjogc3RyaW5nLCBzY2FsZTogbnVtYmVyLCBvYmpWaXNpYmlsaXR5OiBib29sZWFuKSB7XG4gICAgICAgIGNvbnN0IHJvb3QgPSBuZXcgT2JqZWN0M0QoKTtcbiAgICAgICAgcm9vdC5uYW1lID0gXCJyb290LVwiICsgbmFtZTtcbiAgICAgICAgcm9vdC5tYXRyaXhBdXRvVXBkYXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKHJvb3QpO1xuICAgICAgICBjb25zdCBwbGFuZUdlb20gPSBuZXcgUGxhbmVHZW9tZXRyeSgxLCAxLCAxLCAxKTtcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IG5ldyBUZXh0dXJlTG9hZGVyKCkubG9hZChpbWFnZVVybCk7XG4gICAgICAgIGNvbnN0IG1hdGVyaWFsID0gbmV3IE1lc2hTdGFuZGFyZE1hdGVyaWFsKHsgY29sb3I6IGNvbG9yLCBtYXA6IHRleHR1cmUgfSk7XG4gICAgICAgIGNvbnN0IHBsYW5lID0gbmV3IE1lc2gocGxhbmVHZW9tLCBtYXRlcmlhbCk7XG4gICAgICAgIHBsYW5lLnNjYWxlLnNldChzY2FsZSwgc2NhbGUsIHNjYWxlKTtcbiAgICAgICAgdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImdldE5GVERhdGEtXCIgKyB0aGlzLnV1aWQgKyBcIi1cIiArIG5hbWUsIChldjogYW55KSA9PiB7XG4gICAgICAgICAgICB2YXIgbXNnID0gZXYuZGV0YWlsO1xuICAgICAgICAgICAgcGxhbmUucG9zaXRpb24ueSA9ICgobXNnLmhlaWdodCAvIG1zZy5kcGkpICogMi41NCAqIDEwKSAvIDIuMDtcbiAgICAgICAgICAgIHBsYW5lLnBvc2l0aW9uLnggPSAoKG1zZy53aWR0aCAvIG1zZy5kcGkpICogMi41NCAqIDEwKSAvIDIuMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJvb3QuYWRkKHBsYW5lKTtcbiAgICAgICAgdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImdldE1hdHJpeEdMX1JILVwiICsgdGhpcy51dWlkICsgXCItXCIgKyBuYW1lLCAoZXY6IGFueSkgPT4ge1xuICAgICAgICAgICAgcm9vdC52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHBsYW5lLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgbWF0cml4ID0gVXRpbHMuaW50ZXJwb2xhdGUoZXYuZGV0YWlsLm1hdHJpeEdMX1JIKTtcbiAgICAgICAgICAgIFV0aWxzLnNldE1hdHJpeChyb290Lm1hdHJpeCwgbWF0cml4KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJuZnRUcmFja2luZ0xvc3QtXCIgKyB0aGlzLnV1aWQgKyBcIi1cIiArIG5hbWUsIChldjogYW55KSA9PiB7XG4gICAgICAgICAgICByb290LnZpc2libGUgPSBvYmpWaXNpYmlsaXR5O1xuICAgICAgICAgICAgcGxhbmUudmlzaWJsZSA9IG9ialZpc2liaWxpdHk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWVzLnB1c2gobmFtZSk7XG4gICAgfVxuICAgIHB1YmxpYyBhZGRWaWRlbyhpZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIHNjYWxlOiBudW1iZXIsIG9ialZpc2liaWxpdHk6IGJvb2xlYW4pIHtcbiAgICAgICAgY29uc3Qgcm9vdCA9IG5ldyBPYmplY3QzRCgpO1xuICAgICAgICByb290Lm5hbWUgPSBcInJvb3QtXCIgKyBuYW1lO1xuICAgICAgICByb290Lm1hdHJpeEF1dG9VcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQocm9vdCk7XG4gICAgICAgIGNvbnN0IEFSVmlkZW86IEhUTUxWaWRlb0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkgYXMgSFRNTFZpZGVvRWxlbWVudDtcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IG5ldyBWaWRlb1RleHR1cmUoQVJWaWRlbyBhcyBIVE1MVmlkZW9FbGVtZW50KTtcbiAgICAgICAgY29uc3QgbWF0ID0gbmV3IE1lc2hTdGFuZGFyZE1hdGVyaWFsKHsgY29sb3I6IDB4YmJiYmZmLCBtYXA6IHRleHR1cmUgfSk7XG4gICAgICAgIEFSVmlkZW8ucGxheSgpO1xuICAgICAgICBjb25zdCBwbGFuZUdlb20gPSBuZXcgUGxhbmVHZW9tZXRyeSgxLCAxLCAxLCAxKTtcbiAgICAgICAgY29uc3QgcGxhbmUgPSBuZXcgTWVzaChwbGFuZUdlb20sIG1hdCk7XG4gICAgICAgIHBsYW5lLnNjYWxlLnNldChzY2FsZSwgc2NhbGUsIHNjYWxlKTtcbiAgICAgICAgdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImdldE5GVERhdGEtXCIgKyB0aGlzLnV1aWQgKyBcIi1cIiArIG5hbWUsIChldjogYW55KSA9PiB7XG4gICAgICAgICAgICB2YXIgbXNnID0gZXYuZGV0YWlsO1xuICAgICAgICAgICAgcGxhbmUucG9zaXRpb24ueSA9ICgobXNnLmhlaWdodCAvIG1zZy5kcGkpICogMi41NCAqIDEwKSAvIDIuMDtcbiAgICAgICAgICAgIHBsYW5lLnBvc2l0aW9uLnggPSAoKG1zZy53aWR0aCAvIG1zZy5kcGkpICogMi41NCAqIDEwKSAvIDIuMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJvb3QuYWRkKHBsYW5lKTtcbiAgICAgICAgdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImdldE1hdHJpeEdMX1JILVwiICsgdGhpcy51dWlkICsgXCItXCIgKyBuYW1lLCAoZXY6IGFueSkgPT4ge1xuICAgICAgICAgICAgcm9vdC52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHBsYW5lLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgbWF0cml4ID0gVXRpbHMuaW50ZXJwb2xhdGUoZXYuZGV0YWlsLm1hdHJpeEdMX1JIKTtcbiAgICAgICAgICAgIFV0aWxzLnNldE1hdHJpeChyb290Lm1hdHJpeCwgbWF0cml4KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJuZnRUcmFja2luZ0xvc3QtXCIgKyB0aGlzLnV1aWQgKyBcIi1cIiArIG5hbWUsIChldjogYW55KSA9PiB7XG4gICAgICAgICAgICByb290LnZpc2libGUgPSBvYmpWaXNpYmlsaXR5O1xuICAgICAgICAgICAgcGxhbmUudmlzaWJsZSA9IG9ialZpc2liaWxpdHk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWVzLnB1c2gobmFtZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldE5hbWVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lcztcbiAgICB9XG59XG4iLCJpbXBvcnQgU2NlbmVSZW5kZXJlclRKUyBmcm9tIFwiLi9TY2VuZVJlbmRlcmVyVEpTXCI7XG5pbXBvcnQgTkZUYWRkVEpTIGZyb20gXCIuL21hcmtlcm1lZGlhL05GVGFkZFRKU1wiO1xuXG5leHBvcnQgZGVmYXVsdCB7IFNjZW5lUmVuZGVyZXJUSlMsIE5GVGFkZFRKUyB9O1xuIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsInJlcXVpcmUiLCJkZWZpbmUiLCJhbWQiLCJ0aGlzIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMzgxX18iLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiZyIsImdsb2JhbFRoaXMiLCJGdW5jdGlvbiIsImUiLCJ3aW5kb3ciLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX2NyZWF0ZUNsYXNzIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiVXRpbHMiLCJ3b3JsZCIsInRyYWNrZWRNYXRyaXgiLCJkZWx0YSIsImludGVycG9sYXRlZCIsInRlc3QiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJtYXRyaXgiLCJ2YWx1ZSIsImFycmF5IiwiZWxlbWVudHMiLCJzZXQiLCJzbGljZSIsIlNjZW5lUmVuZGVyZXJUSlMiLCJjb25maWdEYXRhIiwiY2FudmFzRHJhdyIsInV1aWQiLCJjYW1lcmFCb29sIiwicmVuZGVyZXIiLCJjYW52YXMiLCJjb250ZXh0IiwiYWxwaGEiLCJwcmVtdWx0aXBsaWVkQWxwaGEiLCJhbnRpYWxpYXMiLCJzdGVuY2lsIiwicHJlY2lzaW9uIiwiZGVwdGgiLCJsb2dhcml0aG1pY0RlcHRoQnVmZmVyIiwic2V0UGl4ZWxSYXRpbyIsImRldmljZVBpeGVsUmF0aW8iLCJzY2VuZSIsImdsb2JhbFNjZW5lIiwiY2FtZXJhIiwiZm92IiwicmF0aW8iLCJuZWFyIiwiZmFyIiwidmVyc2lvbiIsImNvbnNvbGUiLCJsb2ciLCJtYXRyaXhBdXRvVXBkYXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2IiwicHJvamVjdGlvbk1hdHJpeCIsImRldGFpbCIsInByb2oiLCJhZGQiLCJsaWdodCIsIl9ldiIsInNldFNpemUiLCJzdyIsInNoIiwic2V0SW5pdFJlbmRlcmVyRXZlbnQiLCJDdXN0b21FdmVudCIsImRpc3BhdGNoRXZlbnQiLCJyZW5kZXIiLCJHTFRGTG9hZGVyIiwiTG9hZGVyIiwiY29uc3RydWN0b3IiLCJtYW5hZ2VyIiwic3VwZXIiLCJkcmFjb0xvYWRlciIsImt0eDJMb2FkZXIiLCJtZXNob3B0RGVjb2RlciIsInBsdWdpbkNhbGxiYWNrcyIsInJlZ2lzdGVyIiwicGFyc2VyIiwiR0xURk1hdGVyaWFsc0NsZWFyY29hdEV4dGVuc2lvbiIsIkdMVEZUZXh0dXJlQmFzaXNVRXh0ZW5zaW9uIiwiR0xURlRleHR1cmVXZWJQRXh0ZW5zaW9uIiwiR0xURk1hdGVyaWFsc1RyYW5zbWlzc2lvbkV4dGVuc2lvbiIsIkdMVEZNYXRlcmlhbHNWb2x1bWVFeHRlbnNpb24iLCJHTFRGTWF0ZXJpYWxzSW9yRXh0ZW5zaW9uIiwiR0xURk1hdGVyaWFsc1NwZWN1bGFyRXh0ZW5zaW9uIiwiR0xURkxpZ2h0c0V4dGVuc2lvbiIsIkdMVEZNZXNob3B0Q29tcHJlc3Npb24iLCJsb2FkIiwidXJsIiwib25Mb2FkIiwib25Qcm9ncmVzcyIsIm9uRXJyb3IiLCJzY29wZSIsInJlc291cmNlUGF0aCIsInBhdGgiLCJMb2FkZXJVdGlscyIsIml0ZW1TdGFydCIsIl9vbkVycm9yIiwiZXJyb3IiLCJpdGVtRXJyb3IiLCJpdGVtRW5kIiwibG9hZGVyIiwiRmlsZUxvYWRlciIsInNldFBhdGgiLCJzZXRSZXNwb25zZVR5cGUiLCJzZXRSZXF1ZXN0SGVhZGVyIiwicmVxdWVzdEhlYWRlciIsInNldFdpdGhDcmVkZW50aWFscyIsIndpdGhDcmVkZW50aWFscyIsImRhdGEiLCJwYXJzZSIsImdsdGYiLCJzZXREUkFDT0xvYWRlciIsInNldEREU0xvYWRlciIsIkVycm9yIiwic2V0S1RYMkxvYWRlciIsInNldE1lc2hvcHREZWNvZGVyIiwiY2FsbGJhY2siLCJpbmRleE9mIiwicHVzaCIsInVucmVnaXN0ZXIiLCJzcGxpY2UiLCJjb250ZW50IiwiZXh0ZW5zaW9ucyIsInBsdWdpbnMiLCJVaW50OEFycmF5IiwiQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTUFHSUMiLCJFWFRFTlNJT05TIiwiS0hSX0JJTkFSWV9HTFRGIiwiR0xURkJpbmFyeUV4dGVuc2lvbiIsImpzb24iLCJKU09OIiwiYXNzZXQiLCJHTFRGUGFyc2VyIiwiY3Jvc3NPcmlnaW4iLCJmaWxlTG9hZGVyIiwicGx1Z2luIiwibmFtZSIsImV4dGVuc2lvbnNVc2VkIiwiZXh0ZW5zaW9uTmFtZSIsImV4dGVuc2lvbnNSZXF1aXJlZCIsIktIUl9NQVRFUklBTFNfVU5MSVQiLCJHTFRGTWF0ZXJpYWxzVW5saXRFeHRlbnNpb24iLCJLSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTIiwiR0xURk1hdGVyaWFsc1BiclNwZWN1bGFyR2xvc3NpbmVzc0V4dGVuc2lvbiIsIktIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OIiwiR0xURkRyYWNvTWVzaENvbXByZXNzaW9uRXh0ZW5zaW9uIiwiS0hSX1RFWFRVUkVfVFJBTlNGT1JNIiwiR0xURlRleHR1cmVUcmFuc2Zvcm1FeHRlbnNpb24iLCJLSFJfTUVTSF9RVUFOVElaQVRJT04iLCJHTFRGTWVzaFF1YW50aXphdGlvbkV4dGVuc2lvbiIsIndhcm4iLCJzZXRFeHRlbnNpb25zIiwic2V0UGx1Z2lucyIsIkdMVEZSZWdpc3RyeSIsIm9iamVjdHMiLCJvYmplY3QiLCJyZW1vdmUiLCJyZW1vdmVBbGwiLCJLSFJfTElHSFRTX1BVTkNUVUFMIiwiS0hSX01BVEVSSUFMU19DTEVBUkNPQVQiLCJLSFJfTUFURVJJQUxTX0lPUiIsIktIUl9NQVRFUklBTFNfU1BFQ1VMQVIiLCJLSFJfTUFURVJJQUxTX1RSQU5TTUlTU0lPTiIsIktIUl9NQVRFUklBTFNfVk9MVU1FIiwiS0hSX1RFWFRVUkVfQkFTSVNVIiwiRVhUX1RFWFRVUkVfV0VCUCIsIkVYVF9NRVNIT1BUX0NPTVBSRVNTSU9OIiwiY2FjaGUiLCJyZWZzIiwidXNlcyIsIl9tYXJrRGVmcyIsIm5vZGVEZWZzIiwibm9kZXMiLCJub2RlSW5kZXgiLCJub2RlTGVuZ3RoIiwibm9kZURlZiIsIl9hZGROb2RlUmVmIiwiX2xvYWRMaWdodCIsImxpZ2h0SW5kZXgiLCJjYWNoZUtleSIsImRlcGVuZGVuY3kiLCJsaWdodERlZiIsImxpZ2h0cyIsImxpZ2h0Tm9kZSIsImNvbG9yIiwiQ29sb3IiLCJmcm9tQXJyYXkiLCJyYW5nZSIsInR5cGUiLCJEaXJlY3Rpb25hbExpZ2h0IiwicG9zaXRpb24iLCJQb2ludExpZ2h0IiwiZGlzdGFuY2UiLCJTcG90TGlnaHQiLCJzcG90IiwiaW5uZXJDb25lQW5nbGUiLCJvdXRlckNvbmVBbmdsZSIsIk1hdGgiLCJQSSIsImFuZ2xlIiwicGVudW1icmEiLCJkZWNheSIsImludGVuc2l0eSIsImNyZWF0ZVVuaXF1ZU5hbWUiLCJQcm9taXNlIiwicmVzb2x2ZSIsImNyZWF0ZU5vZGVBdHRhY2htZW50Iiwic2VsZiIsInRoZW4iLCJfZ2V0Tm9kZVJlZiIsImdldE1hdGVyaWFsVHlwZSIsIk1lc2hCYXNpY01hdGVyaWFsIiwiZXh0ZW5kUGFyYW1zIiwibWF0ZXJpYWxQYXJhbXMiLCJtYXRlcmlhbERlZiIsInBlbmRpbmciLCJvcGFjaXR5IiwibWV0YWxsaWNSb3VnaG5lc3MiLCJwYnJNZXRhbGxpY1JvdWdobmVzcyIsIkFycmF5IiwiaXNBcnJheSIsImJhc2VDb2xvckZhY3RvciIsImJhc2VDb2xvclRleHR1cmUiLCJhc3NpZ25UZXh0dXJlIiwiYWxsIiwibWF0ZXJpYWxJbmRleCIsIm1hdGVyaWFscyIsIk1lc2hQaHlzaWNhbE1hdGVyaWFsIiwiZXh0ZW5kTWF0ZXJpYWxQYXJhbXMiLCJleHRlbnNpb24iLCJjbGVhcmNvYXRGYWN0b3IiLCJjbGVhcmNvYXQiLCJjbGVhcmNvYXRUZXh0dXJlIiwiY2xlYXJjb2F0Um91Z2huZXNzRmFjdG9yIiwiY2xlYXJjb2F0Um91Z2huZXNzIiwiY2xlYXJjb2F0Um91Z2huZXNzVGV4dHVyZSIsImNsZWFyY29hdE5vcm1hbFRleHR1cmUiLCJzY2FsZSIsImNsZWFyY29hdE5vcm1hbFNjYWxlIiwiVmVjdG9yMiIsInRyYW5zbWlzc2lvbkZhY3RvciIsInRyYW5zbWlzc2lvbiIsInRyYW5zbWlzc2lvblRleHR1cmUiLCJ0aGlja25lc3MiLCJ0aGlja25lc3NGYWN0b3IiLCJ0aGlja25lc3NUZXh0dXJlIiwiYXR0ZW51YXRpb25EaXN0YW5jZSIsImNvbG9yQXJyYXkiLCJhdHRlbnVhdGlvbkNvbG9yIiwiYXR0ZW51YXRpb25UaW50IiwiaW9yIiwic3BlY3VsYXJJbnRlbnNpdHkiLCJzcGVjdWxhckZhY3RvciIsInNwZWN1bGFyVGV4dHVyZSIsInNwZWN1bGFyQ29sb3JGYWN0b3IiLCJzcGVjdWxhclRpbnQiLCJzcGVjdWxhckNvbG9yVGV4dHVyZSIsInRleHR1cmUiLCJlbmNvZGluZyIsInNSR0JFbmNvZGluZyIsImxvYWRUZXh0dXJlIiwidGV4dHVyZUluZGV4IiwidGV4dHVyZURlZiIsInRleHR1cmVzIiwic291cmNlIiwiaW1hZ2VzIiwib3B0aW9ucyIsImxvYWRUZXh0dXJlSW1hZ2UiLCJpc1N1cHBvcnRlZCIsInRleHR1cmVMb2FkZXIiLCJ1cmkiLCJoYW5kbGVyIiwiZ2V0SGFuZGxlciIsImRldGVjdFN1cHBvcnQiLCJpbWFnZSIsIkltYWdlIiwic3JjIiwib25sb2FkIiwib25lcnJvciIsImhlaWdodCIsImxvYWRCdWZmZXJWaWV3IiwiaW5kZXgiLCJidWZmZXJWaWV3IiwiYnVmZmVyVmlld3MiLCJleHRlbnNpb25EZWYiLCJidWZmZXIiLCJnZXREZXBlbmRlbmN5IiwiZGVjb2RlciIsInN1cHBvcnRlZCIsInJlYWR5IiwicmVzIiwiYnl0ZU9mZnNldCIsImJ5dGVMZW5ndGgiLCJjb3VudCIsInN0cmlkZSIsImJ5dGVTdHJpZGUiLCJyZXN1bHQiLCJBcnJheUJ1ZmZlciIsImRlY29kZUdsdGZCdWZmZXIiLCJtb2RlIiwiZmlsdGVyIiwiYm9keSIsImhlYWRlclZpZXciLCJEYXRhVmlldyIsImhlYWRlciIsIm1hZ2ljIiwiZ2V0VWludDMyIiwiY2h1bmtDb250ZW50c0xlbmd0aCIsImNodW5rVmlldyIsImNodW5rSW5kZXgiLCJjaHVua0xlbmd0aCIsImNodW5rVHlwZSIsImNvbnRlbnRBcnJheSIsInByZWxvYWQiLCJkZWNvZGVQcmltaXRpdmUiLCJwcmltaXRpdmUiLCJidWZmZXJWaWV3SW5kZXgiLCJnbHRmQXR0cmlidXRlTWFwIiwiYXR0cmlidXRlcyIsInRocmVlQXR0cmlidXRlTWFwIiwiYXR0cmlidXRlTm9ybWFsaXplZE1hcCIsImF0dHJpYnV0ZVR5cGVNYXAiLCJhdHRyaWJ1dGVOYW1lIiwidGhyZWVBdHRyaWJ1dGVOYW1lIiwiQVRUUklCVVRFUyIsInRvTG93ZXJDYXNlIiwiYWNjZXNzb3JEZWYiLCJhY2Nlc3NvcnMiLCJjb21wb25lbnRUeXBlIiwiV0VCR0xfQ09NUE9ORU5UX1RZUEVTIiwibm9ybWFsaXplZCIsImRlY29kZURyYWNvRmlsZSIsImdlb21ldHJ5IiwiYXR0cmlidXRlIiwiZXh0ZW5kVGV4dHVyZSIsInRyYW5zZm9ybSIsInRleENvb3JkIiwib2Zmc2V0Iiwicm90YXRpb24iLCJjbG9uZSIsInJlcGVhdCIsIm5lZWRzVXBkYXRlIiwiR0xURk1lc2hTdGFuZGFyZFNHTWF0ZXJpYWwiLCJNZXNoU3RhbmRhcmRNYXRlcmlhbCIsInBhcmFtcyIsImlzR0xURlNwZWN1bGFyR2xvc3NpbmVzc01hdGVyaWFsIiwic3BlY3VsYXJNYXBQYXJzRnJhZ21lbnRDaHVuayIsImpvaW4iLCJnbG9zc2luZXNzTWFwUGFyc0ZyYWdtZW50Q2h1bmsiLCJzcGVjdWxhck1hcEZyYWdtZW50Q2h1bmsiLCJnbG9zc2luZXNzTWFwRnJhZ21lbnRDaHVuayIsImxpZ2h0UGh5c2ljYWxGcmFnbWVudENodW5rIiwidW5pZm9ybXMiLCJzcGVjdWxhciIsInNldEhleCIsImdsb3NzaW5lc3MiLCJzcGVjdWxhck1hcCIsImdsb3NzaW5lc3NNYXAiLCJfZXh0cmFVbmlmb3JtcyIsIm9uQmVmb3JlQ29tcGlsZSIsInNoYWRlciIsInVuaWZvcm1OYW1lIiwiZnJhZ21lbnRTaGFkZXIiLCJyZXBsYWNlIiwiZGVmaW5lUHJvcGVydGllcyIsInYiLCJkZWZpbmVzIiwiVVNFX1NQRUNVTEFSTUFQIiwiVVNFX0dMT1NTSU5FU1NNQVAiLCJVU0VfVVYiLCJtZXRhbG5lc3MiLCJyb3VnaG5lc3MiLCJtZXRhbG5lc3NNYXAiLCJyb3VnaG5lc3NNYXAiLCJzZXRWYWx1ZXMiLCJjb3B5Iiwic3BlY3VsYXJHbG9zc2luZXNzUGFyYW1zIiwicGJyU3BlY3VsYXJHbG9zc2luZXNzIiwiZGlmZnVzZUZhY3RvciIsImRpZmZ1c2VUZXh0dXJlIiwiZW1pc3NpdmUiLCJnbG9zc2luZXNzRmFjdG9yIiwic3BlY3VsYXJHbG9zc2luZXNzVGV4dHVyZSIsInNwZWNHbG9zc01hcERlZiIsImNyZWF0ZU1hdGVyaWFsIiwibWF0ZXJpYWwiLCJmb2ciLCJtYXAiLCJsaWdodE1hcCIsImxpZ2h0TWFwSW50ZW5zaXR5IiwiYW9NYXAiLCJhb01hcEludGVuc2l0eSIsImVtaXNzaXZlSW50ZW5zaXR5IiwiZW1pc3NpdmVNYXAiLCJidW1wTWFwIiwiYnVtcFNjYWxlIiwibm9ybWFsTWFwIiwibm9ybWFsTWFwVHlwZSIsIlRhbmdlbnRTcGFjZU5vcm1hbE1hcCIsIm5vcm1hbFNjYWxlIiwiZGlzcGxhY2VtZW50TWFwIiwiZGlzcGxhY2VtZW50U2NhbGUiLCJkaXNwbGFjZW1lbnRCaWFzIiwiYWxwaGFNYXAiLCJlbnZNYXAiLCJlbnZNYXBJbnRlbnNpdHkiLCJyZWZyYWN0aW9uUmF0aW8iLCJHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudCIsIkludGVycG9sYW50IiwicGFyYW1ldGVyUG9zaXRpb25zIiwic2FtcGxlVmFsdWVzIiwic2FtcGxlU2l6ZSIsInJlc3VsdEJ1ZmZlciIsImNvcHlTYW1wbGVWYWx1ZV8iLCJ2YWx1ZXMiLCJ2YWx1ZVNpemUiLCJiZWZvcmVTdGFydF8iLCJhZnRlckVuZF8iLCJpbnRlcnBvbGF0ZV8iLCJpMSIsInQwIiwidCIsInQxIiwic3RyaWRlMiIsInN0cmlkZTMiLCJ0ZCIsInAiLCJwcCIsInBwcCIsIm9mZnNldDEiLCJvZmZzZXQwIiwiczIiLCJzMyIsInMwIiwiczEiLCJwMCIsIm0wIiwicDEiLCJtMSIsIl9xIiwiUXVhdGVybmlvbiIsIkdMVEZDdWJpY1NwbGluZVF1YXRlcm5pb25JbnRlcnBvbGFudCIsIm5vcm1hbGl6ZSIsInRvQXJyYXkiLCJJbnQ4QXJyYXkiLCJJbnQxNkFycmF5IiwiVWludDE2QXJyYXkiLCJVaW50MzJBcnJheSIsIkZsb2F0MzJBcnJheSIsIldFQkdMX0ZJTFRFUlMiLCJOZWFyZXN0RmlsdGVyIiwiTGluZWFyRmlsdGVyIiwiTmVhcmVzdE1pcG1hcE5lYXJlc3RGaWx0ZXIiLCJMaW5lYXJNaXBtYXBOZWFyZXN0RmlsdGVyIiwiTmVhcmVzdE1pcG1hcExpbmVhckZpbHRlciIsIkxpbmVhck1pcG1hcExpbmVhckZpbHRlciIsIldFQkdMX1dSQVBQSU5HUyIsIkNsYW1wVG9FZGdlV3JhcHBpbmciLCJNaXJyb3JlZFJlcGVhdFdyYXBwaW5nIiwiUmVwZWF0V3JhcHBpbmciLCJXRUJHTF9UWVBFX1NJWkVTIiwiUE9TSVRJT04iLCJOT1JNQUwiLCJUQU5HRU5UIiwiVEVYQ09PUkRfMCIsIlRFWENPT1JEXzEiLCJDT0xPUl8wIiwiV0VJR0hUU18wIiwiSk9JTlRTXzAiLCJQQVRIX1BST1BFUlRJRVMiLCJ0cmFuc2xhdGlvbiIsIndlaWdodHMiLCJJTlRFUlBPTEFUSU9OIiwiQ1VCSUNTUExJTkUiLCJMSU5FQVIiLCJJbnRlcnBvbGF0ZUxpbmVhciIsIlNURVAiLCJJbnRlcnBvbGF0ZURpc2NyZXRlIiwicmVzb2x2ZVVSTCIsImFkZFVua25vd25FeHRlbnNpb25zVG9Vc2VyRGF0YSIsImtub3duRXh0ZW5zaW9ucyIsIm9iamVjdERlZiIsInVzZXJEYXRhIiwiZ2x0ZkV4dGVuc2lvbnMiLCJhc3NpZ25FeHRyYXNUb1VzZXJEYXRhIiwiZ2x0ZkRlZiIsImV4dHJhcyIsImFzc2lnbiIsInVwZGF0ZU1vcnBoVGFyZ2V0cyIsIm1lc2giLCJtZXNoRGVmIiwiaWwiLCJtb3JwaFRhcmdldEluZmx1ZW5jZXMiLCJ0YXJnZXROYW1lcyIsIm1vcnBoVGFyZ2V0RGljdGlvbmFyeSIsImNyZWF0ZVByaW1pdGl2ZUtleSIsInByaW1pdGl2ZURlZiIsImRyYWNvRXh0ZW5zaW9uIiwiZ2VvbWV0cnlLZXkiLCJpbmRpY2VzIiwiY3JlYXRlQXR0cmlidXRlc0tleSIsImF0dHJpYnV0ZXNLZXkiLCJrZXlzIiwic29ydCIsImdldE5vcm1hbGl6ZWRDb21wb25lbnRTY2FsZSIsImFzc29jaWF0aW9ucyIsIk1hcCIsInByaW1pdGl2ZUNhY2hlIiwibWVzaENhY2hlIiwiY2FtZXJhQ2FjaGUiLCJsaWdodENhY2hlIiwidGV4dHVyZUNhY2hlIiwibm9kZU5hbWVzVXNlZCIsImNyZWF0ZUltYWdlQml0bWFwIiwiSW1hZ2VCaXRtYXBMb2FkZXIiLCJUZXh0dXJlTG9hZGVyIiwic2V0Q3Jvc3NPcmlnaW4iLCJfaW52b2tlQWxsIiwiZXh0IiwiYmVmb3JlUm9vdCIsImdldERlcGVuZGVuY2llcyIsImRlcGVuZGVuY2llcyIsInNjZW5lcyIsImFuaW1hdGlvbnMiLCJjYW1lcmFzIiwiYWZ0ZXJSb290IiwiY2F0Y2giLCJza2luRGVmcyIsInNraW5zIiwibWVzaERlZnMiLCJtZXNoZXMiLCJza2luSW5kZXgiLCJza2luTGVuZ3RoIiwiam9pbnRzIiwiaXNCb25lIiwic2tpbiIsImlzU2tpbm5lZE1lc2giLCJyZWYiLCJ1cGRhdGVNYXBwaW5ncyIsIm9yaWdpbmFsIiwibWFwcGluZ3MiLCJjaGlsZCIsImNoaWxkcmVuIiwiZW50cmllcyIsIl9pbnZva2VPbmUiLCJmdW5jIiwidW5zaGlmdCIsImxvYWRTY2VuZSIsImxvYWROb2RlIiwibG9hZE1lc2giLCJsb2FkQWNjZXNzb3IiLCJsb2FkQnVmZmVyIiwibG9hZE1hdGVyaWFsIiwibG9hZFNraW4iLCJsb2FkQW5pbWF0aW9uIiwibG9hZENhbWVyYSIsImRlZnMiLCJkZWYiLCJidWZmZXJJbmRleCIsImJ1ZmZlckRlZiIsImJ1ZmZlcnMiLCJyZWplY3QiLCJidWZmZXJWaWV3RGVmIiwiYWNjZXNzb3JJbmRleCIsInNwYXJzZSIsInBlbmRpbmdCdWZmZXJWaWV3cyIsIml0ZW1TaXplIiwiVHlwZWRBcnJheSIsImVsZW1lbnRCeXRlcyIsIkJZVEVTX1BFUl9FTEVNRU5UIiwiaXRlbUJ5dGVzIiwiYnVmZmVyQXR0cmlidXRlIiwiaWJTbGljZSIsImZsb29yIiwiaWJDYWNoZUtleSIsImliIiwiSW50ZXJsZWF2ZWRCdWZmZXIiLCJJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSIsIkJ1ZmZlckF0dHJpYnV0ZSIsIml0ZW1TaXplSW5kaWNlcyIsIlNDQUxBUiIsIlR5cGVkQXJyYXlJbmRpY2VzIiwiYnl0ZU9mZnNldEluZGljZXMiLCJieXRlT2Zmc2V0VmFsdWVzIiwic3BhcnNlSW5kaWNlcyIsInNwYXJzZVZhbHVlcyIsInNldFgiLCJzZXRZIiwic2V0WiIsInNldFciLCJzYW1wbGVyIiwiVVJMIiwid2Via2l0VVJMIiwic291cmNlVVJJIiwiaXNPYmplY3RVUkwiLCJibG9iIiwiQmxvYiIsIm1pbWVUeXBlIiwiY3JlYXRlT2JqZWN0VVJMIiwicHJvbWlzZSIsImlzSW1hZ2VCaXRtYXBMb2FkZXIiLCJpbWFnZUJpdG1hcCIsIlRleHR1cmUiLCJyZXZva2VPYmplY3RVUkwiLCJmbGlwWSIsInNhbXBsZXJzIiwibWFnRmlsdGVyIiwibWluRmlsdGVyIiwid3JhcFMiLCJ3cmFwVCIsIm1hcE5hbWUiLCJtYXBEZWYiLCJnbHRmUmVmZXJlbmNlIiwiYXNzaWduRmluYWxNYXRlcmlhbCIsInVzZURlcml2YXRpdmVUYW5nZW50cyIsInRhbmdlbnQiLCJ1c2VWZXJ0ZXhDb2xvcnMiLCJ1c2VGbGF0U2hhZGluZyIsIm5vcm1hbCIsImlzUG9pbnRzIiwicG9pbnRzTWF0ZXJpYWwiLCJQb2ludHNNYXRlcmlhbCIsIk1hdGVyaWFsIiwic2l6ZUF0dGVudWF0aW9uIiwiaXNMaW5lIiwibGluZU1hdGVyaWFsIiwiTGluZUJhc2ljTWF0ZXJpYWwiLCJjYWNoZWRNYXRlcmlhbCIsInZlcnRleENvbG9ycyIsImZsYXRTaGFkaW5nIiwieSIsInV2MiIsInV2Iiwic2V0QXR0cmlidXRlIiwibWF0ZXJpYWxUeXBlIiwibWF0ZXJpYWxFeHRlbnNpb25zIiwic2dFeHRlbnNpb24iLCJrbXVFeHRlbnNpb24iLCJtZXRhbGxpY0ZhY3RvciIsInJvdWdobmVzc0ZhY3RvciIsIm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSIsImRvdWJsZVNpZGVkIiwic2lkZSIsIkRvdWJsZVNpZGUiLCJhbHBoYU1vZGUiLCJ0cmFuc3BhcmVudCIsImRlcHRoV3JpdGUiLCJmb3JtYXQiLCJSR0JGb3JtYXQiLCJhbHBoYVRlc3QiLCJhbHBoYUN1dG9mZiIsIm5vcm1hbFRleHR1cmUiLCJvY2NsdXNpb25UZXh0dXJlIiwic3RyZW5ndGgiLCJlbWlzc2l2ZUZhY3RvciIsImVtaXNzaXZlVGV4dHVyZSIsIm9yaWdpbmFsTmFtZSIsInNhbml0aXplZE5hbWUiLCJQcm9wZXJ0eUJpbmRpbmciLCJsb2FkR2VvbWV0cmllcyIsInByaW1pdGl2ZXMiLCJjcmVhdGVEcmFjb1ByaW1pdGl2ZSIsImFkZFByaW1pdGl2ZUF0dHJpYnV0ZXMiLCJjYWNoZWQiLCJnZW9tZXRyeVByb21pc2UiLCJCdWZmZXJHZW9tZXRyeSIsIm1lc2hJbmRleCIsImRlcHRoVGVzdCIsIkZyb250U2lkZSIsInJlc3VsdHMiLCJnZW9tZXRyaWVzIiwiU2tpbm5lZE1lc2giLCJNZXNoIiwic2tpbldlaWdodCIsIm5vcm1hbGl6ZVNraW5XZWlnaHRzIiwidG9UcmlhbmdsZXNEcmF3TW9kZSIsIlRyaWFuZ2xlU3RyaXBEcmF3TW9kZSIsIlRyaWFuZ2xlRmFuRHJhd01vZGUiLCJMaW5lU2VnbWVudHMiLCJMaW5lIiwiTGluZUxvb3AiLCJQb2ludHMiLCJtb3JwaEF0dHJpYnV0ZXMiLCJncm91cCIsIkdyb3VwIiwiY2FtZXJhSW5kZXgiLCJjYW1lcmFEZWYiLCJQZXJzcGVjdGl2ZUNhbWVyYSIsIk1hdGhVdGlscyIsInlmb3YiLCJhc3BlY3RSYXRpbyIsInpuZWFyIiwiemZhciIsIk9ydGhvZ3JhcGhpY0NhbWVyYSIsInhtYWciLCJ5bWFnIiwic2tpbkRlZiIsInNraW5FbnRyeSIsImludmVyc2VCaW5kTWF0cmljZXMiLCJhY2Nlc3NvciIsImFuaW1hdGlvbkluZGV4IiwiYW5pbWF0aW9uRGVmIiwicGVuZGluZ05vZGVzIiwicGVuZGluZ0lucHV0QWNjZXNzb3JzIiwicGVuZGluZ091dHB1dEFjY2Vzc29ycyIsInBlbmRpbmdTYW1wbGVycyIsInBlbmRpbmdUYXJnZXRzIiwiY2hhbm5lbHMiLCJjaGFubmVsIiwibm9kZSIsImlkIiwiaW5wdXQiLCJwYXJhbWV0ZXJzIiwib3V0cHV0IiwiaW5wdXRBY2Nlc3NvcnMiLCJvdXRwdXRBY2Nlc3NvcnMiLCJ0YXJnZXRzIiwidHJhY2tzIiwiaW5wdXRBY2Nlc3NvciIsIm91dHB1dEFjY2Vzc29yIiwiVHlwZWRLZXlmcmFtZVRyYWNrIiwidXBkYXRlTWF0cml4IiwiTnVtYmVyS2V5ZnJhbWVUcmFjayIsIlF1YXRlcm5pb25LZXlmcmFtZVRyYWNrIiwiVmVjdG9yS2V5ZnJhbWVUcmFjayIsInRhcmdldE5hbWUiLCJpbnRlcnBvbGF0aW9uIiwidHJhdmVyc2UiLCJpc01lc2giLCJvdXRwdXRBcnJheSIsInNjYWxlZCIsImoiLCJqbCIsInRyYWNrIiwiY3JlYXRlSW50ZXJwb2xhbnQiLCJ0aW1lcyIsImdldFZhbHVlU2l6ZSIsImlzSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kR0xURkN1YmljU3BsaW5lIiwiQW5pbWF0aW9uQ2xpcCIsImNyZWF0ZU5vZGVNZXNoIiwibm9kZU5hbWUiLCJtZXNoUHJvbWlzZSIsImZvckVhY2giLCJCb25lIiwiT2JqZWN0M0QiLCJNYXRyaXg0IiwiYXBwbHlNYXRyaXg0IiwicXVhdGVybmlvbiIsImhhcyIsInNjZW5lSW5kZXgiLCJzY2VuZURlZiIsIm5vZGVJZHMiLCJidWlsZE5vZGVIaWVyYXJjaHkiLCJyZWR1Y2VkQXNzb2NpYXRpb25zIiwicmVkdWNlQXNzb2NpYXRpb25zIiwibm9kZUlkIiwicGFyZW50T2JqZWN0IiwicGVuZGluZ0pvaW50cyIsImpvaW50Tm9kZXMiLCJib25lcyIsImJvbmVJbnZlcnNlcyIsImpvaW50Tm9kZSIsIm1hdCIsImJpbmQiLCJTa2VsZXRvbiIsIm1hdHJpeFdvcmxkIiwiYXNzaWduQXR0cmlidXRlQWNjZXNzb3IiLCJnbHRmQXR0cmlidXRlTmFtZSIsInNldEluZGV4IiwiYm94IiwiQm94MyIsIm1pbiIsIm1heCIsIlZlY3RvcjMiLCJib3hTY2FsZSIsIm11bHRpcGx5U2NhbGFyIiwibWF4RGlzcGxhY2VtZW50IiwidmVjdG9yIiwiYWJzIiwiZXhwYW5kQnlWZWN0b3IiLCJib3VuZGluZ0JveCIsInNwaGVyZSIsIlNwaGVyZSIsImdldENlbnRlciIsImNlbnRlciIsInJhZGl1cyIsImRpc3RhbmNlVG8iLCJib3VuZGluZ1NwaGVyZSIsImNvbXB1dGVCb3VuZHMiLCJoYXNNb3JwaFBvc2l0aW9uIiwiaGFzTW9ycGhOb3JtYWwiLCJwZW5kaW5nUG9zaXRpb25BY2Nlc3NvcnMiLCJwZW5kaW5nTm9ybWFsQWNjZXNzb3JzIiwicGVuZGluZ0FjY2Vzc29yIiwibW9ycGhQb3NpdGlvbnMiLCJtb3JwaE5vcm1hbHMiLCJtb3JwaFRhcmdldHNSZWxhdGl2ZSIsImFkZE1vcnBoVGFyZ2V0cyIsImRyYXdNb2RlIiwiZ2V0SW5kZXgiLCJnZXRBdHRyaWJ1dGUiLCJudW1iZXJPZlRyaWFuZ2xlcyIsIm5ld0luZGljZXMiLCJnZXRYIiwibmV3R2VvbWV0cnkiLCJORlRhZGRUSlMiLCJlbnRpdGllcyIsImdldEdsb2JhbFNjZW5lIiwibmFtZXMiLCJvYmpWaXNpYmlsaXR5IiwibXNnIiwiZHBpIiwieCIsIndpZHRoIiwidmlzaWJsZSIsImludGVycG9sYXRlIiwibWF0cml4R0xfUkgiLCJ6IiwibW9kZWwiLCJpbWFnZVVybCIsInBsYW5lR2VvbSIsIlBsYW5lR2VvbWV0cnkiLCJwbGFuZSIsIkFSVmlkZW8iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiVmlkZW9UZXh0dXJlIiwicGxheSJdLCJzb3VyY2VSb290IjoiIn0=