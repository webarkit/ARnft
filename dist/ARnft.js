!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ARnft=e():t.ARnft=e()}("undefined"!=typeof self?self:this,(()=>(()=>{var t={466:function(t){var e;t.exports=(e=function(){function t(t){return s.appendChild(t.dom),t}function i(t){for(var e=0;e<s.children.length;e++)s.children[e].style.display=e===t?"block":"none";a=t}var a=0,s=document.createElement("div");s.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",s.addEventListener("click",(function(t){t.preventDefault(),i(++a%s.children.length)}),!1);var n=(performance||Date).now(),r=n,o=0,c=t(new e.Panel("FPS","#0ff","#002")),h=t(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var d=t(new e.Panel("MB","#f08","#201"));return i(0),{REVISION:16,dom:s,addPanel:t,showPanel:i,begin:function(){n=(performance||Date).now()},end:function(){o++;var t=(performance||Date).now();if(h.update(t-n,200),t>r+1e3&&(c.update(1e3*o/(t-r),100),r=t,o=0,d)){var e=performance.memory;d.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return t},update:function(){n=this.end()},domElement:s,setMode:i}},e.Panel=function(t,e,i){var a=1/0,s=0,n=Math.round,r=n(window.devicePixelRatio||1),o=80*r,c=48*r,h=3*r,d=2*r,l=3*r,p=15*r,u=74*r,m=30*r,g=document.createElement("canvas");g.width=o,g.height=c,g.style.cssText="width:80px;height:48px";var f=g.getContext("2d");return f.font="bold "+9*r+"px Helvetica,Arial,sans-serif",f.textBaseline="top",f.fillStyle=i,f.fillRect(0,0,o,c),f.fillStyle=e,f.fillText(t,h,d),f.fillRect(l,p,u,m),f.fillStyle=i,f.globalAlpha=.9,f.fillRect(l,p,u,m),{dom:g,update:function(c,v){a=Math.min(a,c),s=Math.max(s,c),f.fillStyle=i,f.globalAlpha=1,f.fillRect(0,0,o,p),f.fillStyle=e,f.fillText(n(c)+" "+t+" ("+n(a)+"-"+n(s)+")",h,d),f.drawImage(g,l+r,p,u-r,m,l,p,u-r,m),f.fillRect(l+u-r,p,r,m),f.fillStyle=i,f.globalAlpha=.9,f.fillRect(l+u-r,p,r,n((1-c/v)*m))}}},e)}},e={};function i(a){var s=e[a];if(void 0!==s)return s.exports;var n=e[a]={exports:{}};return t[a].call(n.exports,n,n.exports,i),n.exports}i.m=t,i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var a in e)i.o(e,a)&&!i.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},i.u=t=>t+".ARnft.js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var a=e.getElementsByTagName("script");a.length&&(t=a[a.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})(),i.b=document.baseURI||self.location.href;var a={};return(()=>{"use strict";i.d(a,{default:()=>y});class t{static createContainer(t){if(t.container.create){const t=document.createElement("div");t.id="app";const e=document.createElement("canvas");e.id="canvas";const i=document.createElement("video");i.id="video",i.setAttribute("autoplay",""),i.setAttribute("muted",""),i.setAttribute("playsinline",""),t.appendChild(i),t.appendChild(e);const a=document.getElementById("loading");return document.body.insertBefore(t,a),{container:t,canvas:e,video:i}}return{container:document.getElementById(t.container.containerName),canvas:document.getElementById(t.container.canvasName),video:document.getElementById("video")}}static createStats(t,e){if(t&&e.stats.createHtml){const t=document.createElement("div");t.id="stats",t.className="ui stats";const e=document.createElement("div");e.id="stats1",e.className="stats-item";const i=document.createElement("p");i.className="stats-item-title",i.innerText="Main",e.appendChild(i),t.appendChild(e);const a=document.createElement("div");a.id="stats2",a.className="stats-item";const s=document.createElement("p");s.className="stats-item-title",s.innerText="Worker",a.appendChild(s),t.appendChild(a);const n=document.getElementById("loading");return document.body.insertBefore(t,n),t}}static createLoading(t){if(t.loading.create){const e=document.createElement("div");e.id="loading";const i=document.createElement("img");i.src=t.loading.logo.src,i.alt=t.loading.logo.alt;const a=document.createElement("span");return a.setAttribute("class","loading-text"),a.innerText=t.loading.loadingMessage,e.appendChild(i),e.appendChild(a),document.body.insertBefore(e,document.body.firstChild),e}}}var e=i(466),s=i.n(e);class n{canvas_process;context_process;_video;_facing;vw;vh;w;h;pw;ph;ox;oy;target;targetFrameRate=60;imageDataCache;_frame;lastCache=0;constructor(t){this.canvas_process=document.createElement("canvas"),this.context_process=this.canvas_process.getContext("2d",{alpha:!1}),this._video=t,this.target=window||i.g,this._frame=0}get facing(){return this._facing}get height(){return this.vh}get width(){return this.vw}get video(){return this._video}get frame(){return this._frame}get canvasProcess(){return this.canvas_process}get contextProcess(){return this.context_process}getFrame(){return this._frame}getImage(){const t=Date.now();if(t-this.lastCache>1e3/this.targetFrameRate){this.context_process.drawImage(this.video,0,0,this.vw,this.vh,this.ox,this.oy,this.w,this.h);const e=this.context_process.getImageData(0,0,this.pw,this.ph);null==this.imageDataCache?this.imageDataCache=e.data:this.imageDataCache.set(e.data),this.lastCache=t,this._frame++}return new ImageData(this.imageDataCache.slice(),this.pw,this.ph)}get image(){const t=Date.now();if(t-this.lastCache>1e3/this.targetFrameRate){this.context_process.drawImage(this.video,0,0,this.vw,this.vh,this.ox,this.oy,this.w,this.h);const e=this.context_process.getImageData(0,0,this.pw,this.ph);null==this.imageDataCache?this.imageDataCache=e.data:this.imageDataCache.set(e.data),this.lastCache=t,this._frame++}return new ImageData(this.imageDataCache.slice(),this.pw,this.ph)}prepareImage(){this.vw=this._video.videoWidth,this.vh=this._video.videoHeight;var t=320/Math.max(this.vw,this.vh/3*4);this.w=Math.floor(this.vw*t),this.h=Math.floor(this.vh*t),this.pw=Math.floor(Math.max(this.w,this.h/3*4)),this.ph=Math.floor(Math.max(this.h,this.w/4*3)),this.ox=Math.floor((this.pw-this.w)/2),this.oy=Math.floor((this.ph-this.h)/2),this.canvas_process.width=this.pw,this.canvas_process.height=this.ph,this.context_process.fillStyle="black",this.context_process.fillRect(0,0,this.pw,this.ph)}async initialize(t){if(this._facing=t.facingMode||"environment",null!=t.targetFrameRate&&(this.targetFrameRate=t.targetFrameRate),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)return Promise.reject("Sorry, Your device does not support this experience.");try{const e={audio:!1,video:{facingMode:this._facing,width:{min:t.width.min,max:t.width.max}}};if(navigator.mediaDevices.enumerateDevices){const t=await navigator.mediaDevices.enumerateDevices(),i=[];let a=0;t.forEach((function(t){"videoinput"==t.kind&&(i[a++]=t.deviceId)})),i.length>1&&(e.video.deviceId={exact:i[i.length-1]})}const i=await navigator.mediaDevices.getUserMedia(e);return this._video.srcObject=i,this._video=await new Promise((t=>{this._video.onloadedmetadata=()=>t(this._video)})),this.prepareImage(),!0}catch(t){return Promise.reject(t)}}destroy(){const t=this._video;this.target.addEventListener("stopVideoStreaming",(function(){const e=t.srcObject;if(console.log("stop streaming"),null!=e){e.getTracks().forEach((function(t){t.stop()})),t.srcObject=null;let i=document.getElementById("app");null!=i&&i.remove()}}))}}window||i.g;function r(t,e){var i=320/Math.max(t,e/3*4),a=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?window.outerWidth/t:1;let s=t*i,n=e*i;return[t*a,e*a,Math.max(s,n/3*4),Math.max(n,s/4*3),s,n]}async function o(t){try{const e=await fetch(t);if(!e.ok)throw new Error("HTTP error, status = "+e.status);return e.json()}catch(t){return Promise.reject(t)}}class c{worker;markerURL;_processing=!1;vw;vh;target;uuid;name;addPath;ready;constructor(t,e,a,s,n,r){this.markerURL=t,this.vw=e,this.vh=a,this.target=window||i.g,this.uuid=s,this.name=n,this.ready=!1,this.addPath=r}async initialize(t,e,a){this.worker=new Worker(new URL(i.p+i.u(882),i.b));const s=this.worker;return this.target.addEventListener("terminateWorker-"+this.name,(function(){s.postMessage({type:"stop"}),s.terminate()})),await this.load(t,e,a)}process(t,e){this._processing||(this._processing=!0,this.worker.postMessage({type:"process",imagedata:t,frame:e},[t.data.buffer]))}load(t,e,i){let[a,s,n,o,c,h]=r(this.vw,this.vh);const d=new CustomEvent("getWindowSize",{detail:{sw:a,sh:s}});this.target.dispatchEvent(d),this.worker.postMessage({type:"load",pw:n,ph:o,camera_para:t,marker:this.markerURL,addPath:this.addPath}),this.worker.onmessage=t=>{var e=t.data;switch(e.type){case"loaded":{var a=JSON.parse(e.proj);const t=n/c,i=o/h;a[0]*=t,a[4]*=t,a[8]*=t,a[12]*=t,a[1]*=i,a[5]*=i,a[9]*=i,a[13]*=i;const s=new CustomEvent("getProjectionMatrix",{detail:{proj:a}});this.target.dispatchEvent(s);break}case"endLoading":if(1==e.end){const t=document.getElementById("loading");t&&(t.querySelector(".loading-text").innerText="Start the tracking!",setTimeout((function(){null!=t.parentElement&&t&&t.parentElement.removeChild(t)}),2e3))}this.ready=!0,this.target.dispatchEvent(new CustomEvent("nftLoaded-"+this.uuid));break;case"markerInfos":{const t=e.marker,i=new CustomEvent("getNFTData-"+this.uuid+"-"+this.name,{detail:{dpi:t.dpi,width:t.width,height:t.height}});this.target.dispatchEvent(i);break}case"found":this.found(e);break;case"not found":this.found(null)}this._processing=!1,i()},this.worker.onerror=t=>{console.error("Worker error from NFTWorker: ",t)};let l=()=>{e(),window.requestAnimationFrame(l)};return l(),Promise.resolve(!0)}found(t){let e;if(t){e=JSON.parse(t.matrixGL_RH);const i=new CustomEvent("getMatrixGL_RH-"+this.uuid+"-"+this.name,{detail:{matrixGL_RH:e,name:this.name}});this.target.dispatchEvent(i)}else{e=null;const t=new CustomEvent("nftTrackingLost-"+this.uuid+"-"+this.name,{detail:{name:this.name}});this.target.dispatchEvent(t)}}isReady(){return this.ready}getUuid(){return this.uuid}getName(){return this.name}getMarkerUrl(){return this.markerURL}getEventTarget(){return this.target}destroy(){}}const h={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let d;const l=new Uint8Array(16);function p(){if(!d&&(d="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!d))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return d(l)}const u=[];for(let t=0;t<256;++t)u.push((t+256).toString(16).slice(1));function m(t,e=0){return(u[t[e+0]]+u[t[e+1]]+u[t[e+2]]+u[t[e+3]]+"-"+u[t[e+4]]+u[t[e+5]]+"-"+u[t[e+6]]+u[t[e+7]]+"-"+u[t[e+8]]+u[t[e+9]]+"-"+u[t[e+10]]+u[t[e+11]]+u[t[e+12]]+u[t[e+13]]+u[t[e+14]]+u[t[e+15]]).toLowerCase()}const g=function(t,e,i){if(h.randomUUID&&!e&&!t)return h.randomUUID();const a=(t=t||{}).random||(t.rng||p)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e){i=i||0;for(let t=0;t<16;++t)e[i+t]=a[t];return e}return m(a)},f=JSON.parse('{"name":"@webarkit/ar-nft","version":"0.14.3","main":"dist/ARnft.js","types":"types/src/index.d.ts","description":"WebAR Javscript library for markerless AR","keywords":["ARToolKit","AR","ARnft","Augmented Reality","WebAR","JavaScript","jsartoolkit","jsartoolkit5","jsartoolkitNFT","NFT","Natural Feature Tracking","image tracking","markerless"],"author":{"name":"Walter Perdan","email":"github@kalwaltart.it","url":"https://www.kalwaltart.com"},"repository":{"type":"git","url":"https://github.com/webarkit/ARnft"},"homepage":"https://github.com/webarkit/ARnft","contributors":["Github Contributors (https://github.com/webarkit/ARnft/graphs/contributors)"],"bugs":{"url":"https://github.com/webarkit/ARnft/issues"},"devDependencies":{"@types/node":"^18.11.18","@types/stats.js":"^0.17.0","@types/uuid":"^9.0.0","prettier":"^2.8.3","rimraf":"^4.1.2","stats.js":"^0.17.0","ts-loader":"^9.4.2","typedoc":"^0.23.24","typescript":"^4.9.5","webpack":"^5.75.0","webpack-cli":"^5.0.1"},"scripts":{"build-ts":"rimraf ./dist && tsc && webpack --mode production","dev-ts":"rimraf ./dist && tsc && webpack --mode development --progress --watch","docs":"typedoc","format-check":"prettier --check .","format":"prettier --write ."},"license":"LGPL-3.0","resolutions":{},"dependencies":{"@webarkit/jsartoolkit-nft":"^1.3.0","terser-webpack-plugin":"^5.3.6","uuid":"^9.0.0"}}'),{version:v}=f;class w{cameraView;appData;addPath;width;height;configUrl;markerUrl;camData;autoUpdate=!0;controllers;static entities;target;uuid;version;initialized;_views;constructor(t,e,a){this.width=t,this.height=e,this.configUrl=a,this.target=window||i.g,this.uuid=g(),this.version=v,console.log("ARnft ",this.version)}static async init(t,e,i,a,s,n){return w.initWithConfig({width:t,height:e,markerUrls:i,names:a,configUrl:s,stats:n})}static async initWithEntities(t,e,i,a,s){return w.initWithConfig({width:t,height:e,entities:i,configUrl:a,stats:s})}static async initWithConfig(t){const e=new w(t.width,t.height,t.configUrl);null!=t.autoUpdate&&(e.autoUpdate=t.autoUpdate);try{let i,a=[];const s=t,n=t;if(null!=s.markerUrls&&null!=s.names)null==n.entities&&(a=s.markerUrls,i=s.names,this.entities=i.map((function(t,e,i){return{name:t[0],markerUrl:a[e][0]}})));else{if(null==n.entities)throw"markerUrls or entities can't be undefined";this.entities=n.entities,a=this.entities.map((t=>[t.markerUrl])),i=this.entities.map((t=>[t.name]))}return await e._initialize(a,i,t.stats)}catch(t){if(t.code)return console.error(t),Promise.reject(t)}}async _initialize(e,i,a){const r=new Event("initARnft");let h,d;this.target.dispatchEvent(r),console.log("ARnft init() %cstart...","color: yellow; background-color: blue; border-radius: 4px; padding: 2px"),o(this.configUrl).then((e=>{this.appData=e,this.addPath=e.addPath,this._views=t.createContainer(this.appData),this._views.loading=t.createLoading(this.appData),this._views.stats=t.createStats(this.appData.stats.createHtml,this.appData),a&&(h=new(s()),h.showPanel(0),document.getElementById("stats1").appendChild(h.dom),d=new(s()),d.showPanel(0),document.getElementById("stats2").appendChild(d.dom));var i=new Event("containerEvent");return document.dispatchEvent(i),this.controllers=[],this.cameraView=new n(this._views.video),this.cameraView.initialize(this.appData.videoSettings)})).then((()=>{const t=()=>a?h.update():null,s=()=>a?d.update():null;e.forEach(((e,a)=>{this.controllers.push(new c(e,this.width,this.height,this.uuid,i[a][0],this.addPath)),this.controllers[a].initialize(this.appData.cameraPara,t,s)})),this.initialized=!0})).catch((function(t){return Promise.reject(t)})),this.target.addEventListener("nftLoaded-"+this.uuid,(()=>{0===this.controllers.filter((t=>!1===t.isReady())).length&&this.target.dispatchEvent(new CustomEvent("ARnftIsReady"))}));let l=()=>{this.initialized&&this.autoUpdate&&this.controllers.forEach((t=>t.process(this.cameraView.image,this.cameraView.frame))),requestAnimationFrame(l)};return l(),this}async initializeRaw(e,i,a,n){const r=new Event("initARnft");let h,d;this.target.dispatchEvent(r),console.log("ARnft init() %cstart...","color: yellow; background-color: blue; border-radius: 4px; padding: 2px"),o(this.configUrl).then((e=>{this.appData=e,this.addPath=e.addPath,this._views=t.createContainer(this.appData),this._views.loading=t.createLoading(this.appData),this._views.stats=t.createStats(this.appData.stats.createHtml,this.appData),n&&(h=new(s()),h.showPanel(0),document.getElementById("stats1").appendChild(h.dom),d=new(s()),d.showPanel(0),document.getElementById("stats2").appendChild(d.dom));var i=new Event("containerEvent");return document.dispatchEvent(i),this.controllers=[],a.initialize(this.appData.videoSettings)})).then((()=>{const t=()=>n?h.update():null,a=()=>n?d.update():null;e.forEach(((e,s)=>{this.controllers.push(new c(e,this.width,this.height,this.uuid,i[s],this.addPath)),this.controllers[s].initialize(this.appData.cameraPara,t,a)})),this.initialized=!0})).catch((function(t){return Promise.reject(t)})),this.target.addEventListener("nftLoaded-"+this.uuid,(()=>{0===this.controllers.filter((t=>!1===t.isReady())).length&&this.target.dispatchEvent(new CustomEvent("ARnftIsReady"))}));let l=()=>{this.initialized&&this.autoUpdate&&this.controllers.forEach((t=>t.process(a.getImage(),a.getFrame()))),requestAnimationFrame(l)};return l(),this}update(){this.initialized&&!this.autoUpdate&&null!=this.cameraView&&this.controllers.forEach((t=>t.process(this.cameraView.image,this.cameraView.frame)))}static getEntities(){return this.entities}getEventTarget(){return this.target}get views(){return Object.freeze(this._views)}dispose(){this.disposeVideoStream(),this.disposeAllNFTs()}disposeNFT(t){var e=new Event("terminateWorker-"+t);this.target.dispatchEvent(e)}disposeAllNFTs(){w.getEntities().forEach((t=>{this.disposeNFT(t.name)}))}disposeVideoStream(){this.cameraView.destroy();var t=new Event("stopVideoStreaming");this.target.dispatchEvent(t)}}const y={ARnft:w}})(),a=a.default})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQVJuZnQuanMiLCJtYXBwaW5ncyI6IkNBQUEsU0FBMkNBLEVBQU1DLEdBQzFCLGlCQUFaQyxTQUEwQyxpQkFBWEMsT0FDeENBLE9BQU9ELFFBQVVELElBQ1EsbUJBQVhHLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxHQUFJSCxHQUNlLGlCQUFaQyxRQUNkQSxRQUFlLE1BQUlELElBRW5CRCxFQUFZLE1BQUlDLEdBQ2pCLENBVEQsQ0FTbUIsb0JBQVRLLEtBQXVCQSxLQUFPQyxNQUFNLEksNkJDUitHLElBQWVDLEVBQXRHTCxFQUFPRCxTQUErRk0sRUFBRSxXQUFXLFNBQVNDLEVBQUVDLEdBQXdCLE9BQXJCQyxFQUFFQyxZQUFZRixFQUFFRyxLQUFZSCxDQUFDLENBQUMsU0FBU0ksRUFBRUosR0FBRyxJQUFJLElBQUlLLEVBQUUsRUFBRUEsRUFBRUosRUFBRUssU0FBU0MsT0FBT0YsSUFBSUosRUFBRUssU0FBU0QsR0FBR0csTUFBTUMsUUFBUUosSUFBSUwsRUFBRSxRQUFRLE9BQU9VLEVBQUVWLENBQUMsQ0FBQyxJQUFJVSxFQUFFLEVBQUVULEVBQUVVLFNBQVNDLGNBQWMsT0FBT1gsRUFBRU8sTUFBTUssUUFBUSx1RUFBdUVaLEVBQUVhLGlCQUFpQixTQUFRLFNBQVNkLEdBQUdBLEVBQUVlLGlCQUNwZlgsSUFBSU0sRUFBRVQsRUFBRUssU0FBU0MsT0FBTyxJQUFFLEdBQUksSUFBSVMsR0FBR0MsYUFBYUMsTUFBTUMsTUFBTUMsRUFBRUosRUFBRWhCLEVBQUUsRUFBRXFCLEVBQUV0QixFQUFFLElBQUlELEVBQUV3QixNQUFNLE1BQU0sT0FBTyxTQUFTQyxFQUFFeEIsRUFBRSxJQUFJRCxFQUFFd0IsTUFBTSxLQUFLLE9BQU8sU0FBUyxHQUFHMUIsS0FBS3FCLGFBQWFyQixLQUFLcUIsWUFBWU8sT0FBTyxJQUFJQyxFQUFFMUIsRUFBRSxJQUFJRCxFQUFFd0IsTUFBTSxLQUFLLE9BQU8sU0FBYyxPQUFMbEIsRUFBRSxHQUFTLENBQUNzQixTQUFTLEdBQUd2QixJQUFJRixFQUFFMEIsU0FBUzVCLEVBQUU2QixVQUFVeEIsRUFBRXlCLE1BQU0sV0FBV2IsR0FBR0MsYUFBYUMsTUFBTUMsS0FBSyxFQUFFVyxJQUFJLFdBQVc5QixJQUFJLElBQUlDLEdBQUdnQixhQUFhQyxNQUFNQyxNQUF3QixHQUFsQkksRUFBRVEsT0FBTzlCLEVBQUVlLEVBQUUsS0FBUWYsRUFBRW1CLEVBQUUsTUFBTUMsRUFBRVUsT0FBTyxJQUFJL0IsR0FBR0MsRUFBRW1CLEdBQUcsS0FBS0EsRUFBRW5CLEVBQUVELEVBQUUsRUFBRXlCLEdBQUcsQ0FBQyxJQUFJcEIsRUFBRVksWUFBWU8sT0FBT0MsRUFBRU0sT0FBTzFCLEVBQUUyQixlQUN0ZSxRQUFRM0IsRUFBRTRCLGdCQUFnQixRQUFRLENBQUMsT0FBT2hDLENBQUMsRUFBRThCLE9BQU8sV0FBV2YsRUFBRW5CLEtBQUtpQyxLQUFLLEVBQUVJLFdBQVdqQyxFQUFFa0MsUUFBUS9CLEVBQUUsRUFBRU4sRUFBRXdCLE1BQU0sU0FBU3ZCLEVBQUVELEVBQUVZLEdBQUcsSUFBSVQsRUFBRW1DLElBQVNwQixFQUFFLEVBQUVJLEVBQUVpQixLQUFLQyxNQUFNdEMsRUFBRW9CLEVBQUVtQixPQUFPQyxrQkFBa0IsR0FBR25CLEVBQUUsR0FBR3JCLEVBQUV1QixFQUFFLEdBQUd2QixFQUFFeUIsRUFBRSxFQUFFekIsRUFBRXlDLEVBQUUsRUFBRXpDLEVBQUVLLEVBQUUsRUFBRUwsRUFBRTBDLEVBQUUsR0FBRzFDLEVBQUUyQyxFQUFFLEdBQUczQyxFQUFFNEMsRUFBRSxHQUFHNUMsRUFBRTZDLEVBQUVsQyxTQUFTQyxjQUFjLFVBQVVpQyxFQUFFQyxNQUFNekIsRUFBRXdCLEVBQUVFLE9BQU94QixFQUFFc0IsRUFBRXJDLE1BQU1LLFFBQVEseUJBQXlCLElBQUltQyxFQUFFSCxFQUFFSSxXQUFXLE1BQ2hTLE9BRHNTRCxFQUFFRSxLQUFLLFFBQVEsRUFBRWxELEVBQUUsZ0NBQWdDZ0QsRUFBRUcsYUFBYSxNQUFNSCxFQUFFSSxVQUFVMUMsRUFBRXNDLEVBQUVLLFNBQVMsRUFBRSxFQUFFaEMsRUFBRUUsR0FBR3lCLEVBQUVJLFVBQVV0RCxFQUFFa0QsRUFBRU0sU0FBU3ZELEVBQUUwQixFQUFFZ0IsR0FDcGZPLEVBQUVLLFNBQVNoRCxFQUFFcUMsRUFBRUMsRUFBRUMsR0FBR0ksRUFBRUksVUFBVTFDLEVBQUVzQyxFQUFFTyxZQUFZLEdBQUdQLEVBQUVLLFNBQVNoRCxFQUFFcUMsRUFBRUMsRUFBRUMsR0FBUyxDQUFDekMsSUFBSTBDLEVBQUVkLE9BQU8sU0FBU1IsRUFBRWlDLEdBQUd2RCxFQUFFb0MsS0FBS29CLElBQUl4RCxFQUFFc0IsR0FBR1AsRUFBRXFCLEtBQUtxQixJQUFJMUMsRUFBRU8sR0FBR3lCLEVBQUVJLFVBQVUxQyxFQUFFc0MsRUFBRU8sWUFBWSxFQUFFUCxFQUFFSyxTQUFTLEVBQUUsRUFBRWhDLEVBQUVxQixHQUFHTSxFQUFFSSxVQUFVdEQsRUFBRWtELEVBQUVNLFNBQVNsQyxFQUFFRyxHQUFHLElBQUl4QixFQUFFLEtBQUtxQixFQUFFbkIsR0FBRyxJQUFJbUIsRUFBRUosR0FBRyxJQUFJUyxFQUFFZ0IsR0FBR08sRUFBRVcsVUFBVWQsRUFBRXhDLEVBQUVMLEVBQUUwQyxFQUFFQyxFQUFFM0MsRUFBRTRDLEVBQUV2QyxFQUFFcUMsRUFBRUMsRUFBRTNDLEVBQUU0QyxHQUFHSSxFQUFFSyxTQUFTaEQsRUFBRXNDLEVBQUUzQyxFQUFFMEMsRUFBRTFDLEVBQUU0QyxHQUFHSSxFQUFFSSxVQUFVMUMsRUFBRXNDLEVBQUVPLFlBQVksR0FBR1AsRUFBRUssU0FBU2hELEVBQUVzQyxFQUFFM0MsRUFBRTBDLEVBQUUxQyxFQUFFb0IsR0FBRyxFQUFFRyxFQUFFaUMsR0FBR1osR0FBRyxFQUFFLEVBQVM5QyxFLEdDSGhZOEQsRUFBMkIsQ0FBQyxFQUdoQyxTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCRSxJQUFqQkQsRUFDSCxPQUFPQSxFQUFhdkUsUUFHckIsSUFBSUMsRUFBU21FLEVBQXlCRSxHQUFZLENBR2pEdEUsUUFBUyxDQUFDLEdBT1gsT0FIQXlFLEVBQW9CSCxHQUFVSSxLQUFLekUsRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU3FFLEdBR3BFcEUsRUFBT0QsT0FDZixDQUdBcUUsRUFBb0JuQixFQUFJdUIsRUN4QnhCSixFQUFvQmxCLEVBQUtsRCxJQUN4QixJQUFJMEUsRUFBUzFFLEdBQVVBLEVBQU8yRSxXQUM3QixJQUFPM0UsRUFBaUIsUUFDeEIsSUFBTSxFQUVQLE9BREFvRSxFQUFvQnhELEVBQUU4RCxFQUFRLENBQUVuRSxFQUFHbUUsSUFDNUJBLENBQU0sRUNMZE4sRUFBb0J4RCxFQUFJLENBQUNiLEVBQVM2RSxLQUNqQyxJQUFJLElBQUlDLEtBQU9ELEVBQ1hSLEVBQW9CVSxFQUFFRixFQUFZQyxLQUFTVCxFQUFvQlUsRUFBRS9FLEVBQVM4RSxJQUM1RUUsT0FBT0MsZUFBZWpGLEVBQVM4RSxFQUFLLENBQUVJLFlBQVksRUFBTUMsSUFBS04sRUFBV0MsSUFFMUUsRUNMRFQsRUFBb0J6RCxFQUFLd0UsR0FFWkEsRUFBVSxZQ0h2QmYsRUFBb0J6QyxFQUFJLFdBQ3ZCLEdBQTBCLGlCQUFmeUQsV0FBeUIsT0FBT0EsV0FDM0MsSUFDQyxPQUFPaEYsTUFBUSxJQUFJaUYsU0FBUyxjQUFiLEVBR2hCLENBRkUsTUFBTy9FLEdBQ1IsR0FBc0IsaUJBQVh3QyxPQUFxQixPQUFPQSxNQUN4QyxDQUNBLENBUHVCLEdDQXhCc0IsRUFBb0JVLEVBQUksQ0FBQ1EsRUFBS0MsSUFBVVIsT0FBT1MsVUFBVUMsZUFBZWhCLEtBQUthLEVBQUtDLEcsTUNBbEYsSUFBSUcsRUFDQXRCLEVBQW9CekMsRUFBRWdFLGdCQUFlRCxFQUFZdEIsRUFBb0J6QyxFQUFFaUUsU0FBVyxJQUN0RixJQUFJMUUsRUFBV2tELEVBQW9CekMsRUFBRVQsU0FDckMsSUFBS3dFLEdBQWF4RSxJQUNiQSxFQUFTMkUsZ0JBQ1pILEVBQVl4RSxFQUFTMkUsY0FBY0MsTUFDL0JKLEdBQVcsQ0FDZixJQUFJSyxFQUFVN0UsRUFBUzhFLHFCQUFxQixVQUN6Q0QsRUFBUWpGLFNBQVE0RSxFQUFZSyxFQUFRQSxFQUFRakYsT0FBUyxHQUFHZ0YsSUFDNUQsQ0FJRCxJQUFLSixFQUFXLE1BQU0sSUFBSU8sTUFBTSx5REFDaENQLEVBQVlBLEVBQVVRLFFBQVEsT0FBUSxJQUFJQSxRQUFRLFFBQVMsSUFBSUEsUUFBUSxZQUFhLEtBQ3BGOUIsRUFBb0JqQixFQUFJdUMsQyxLQ2Z4QnRCLEVBQW9CYixFQUFJckMsU0FBU2lGLFNBQVdoRyxLQUFLeUYsU0FBU1EsSyx5RENvQzNDLE1BQU1DLEVBUWpCQyx1QkFBdUJDLEdBQ25CLEdBQUlBLEVBQVdDLFVBQVVDLE9BQVEsQ0FDN0IsTUFBTUQsRUFBWXRGLFNBQVNDLGNBQWMsT0FDekNxRixFQUFVRSxHQUFLLE1BQ2YsTUFBTUMsRUFBU3pGLFNBQVNDLGNBQWMsVUFDdEN3RixFQUFPRCxHQUFLLFNBQ1osTUFBTUUsRUFBUTFGLFNBQVNDLGNBQWMsU0FDckN5RixFQUFNRixHQUFLLFFBQ1hFLEVBQU1DLGFBQWEsV0FBWSxJQUMvQkQsRUFBTUMsYUFBYSxRQUFTLElBQzVCRCxFQUFNQyxhQUFhLGNBQWUsSUFDbENMLEVBQVUvRixZQUFZbUcsR0FDdEJKLEVBQVUvRixZQUFZa0csR0FDdEIsTUFBTUcsRUFBVTVGLFNBQVM2RixlQUFlLFdBRXhDLE9BREE3RixTQUFTOEYsS0FBS0MsYUFBYVQsRUFBV00sR0FDL0IsQ0FBRU4sWUFBV0csU0FBUUMsUSxDQUs1QixNQUFPLENBQUVKLFVBSHlCdEYsU0FBUzZGLGVBQWVSLEVBQVdDLFVBQVVVLGVBRzNEUCxPQUZjekYsU0FBUzZGLGVBQWVSLEVBQVdDLFVBQVVXLFlBRW5EUCxNQURJMUYsU0FBUzZGLGVBQWUsU0FHaEUsQ0FPQVQsbUJBQW1CRyxFQUFpQkYsR0FDaEMsR0FBSUUsR0FBVUYsRUFBV2EsTUFBTUMsV0FBWSxDQUN2QyxNQUFNRCxFQUFRbEcsU0FBU0MsY0FBYyxPQUNyQ2lHLEVBQU1WLEdBQUssUUFDWFUsRUFBTUUsVUFBWSxXQUNsQixNQUFNQyxFQUFTckcsU0FBU0MsY0FBYyxPQUN0Q29HLEVBQU9iLEdBQUssU0FDWmEsRUFBT0QsVUFBWSxhQUNuQixNQUFNRSxFQUFVdEcsU0FBU0MsY0FBYyxLQUN2Q3FHLEVBQVFGLFVBQVksbUJBQ3BCRSxFQUFRQyxVQUFZLE9BQ3BCRixFQUFPOUcsWUFBWStHLEdBQ25CSixFQUFNM0csWUFBWThHLEdBQ2xCLE1BQU1HLEVBQVN4RyxTQUFTQyxjQUFjLE9BQ3RDdUcsRUFBT2hCLEdBQUssU0FDWmdCLEVBQU9KLFVBQVksYUFDbkIsTUFBTUssRUFBVXpHLFNBQVNDLGNBQWMsS0FDdkN3RyxFQUFRTCxVQUFZLG1CQUNwQkssRUFBUUYsVUFBWSxTQUNwQkMsRUFBT2pILFlBQVlrSCxHQUNuQlAsRUFBTTNHLFlBQVlpSCxHQUNsQixNQUFNWixFQUFVNUYsU0FBUzZGLGVBQWUsV0FFeEMsT0FEQTdGLFNBQVM4RixLQUFLQyxhQUFhRyxFQUFPTixHQUMzQk0sQyxDQUdmLENBTUFkLHFCQUFxQkMsR0FDakIsR0FBSUEsRUFBV08sUUFBUUwsT0FBUSxDQUMzQixNQUFNbUIsRUFBUzFHLFNBQVNDLGNBQWMsT0FDdEN5RyxFQUFPbEIsR0FBSyxVQUNaLE1BQU1tQixFQUFPM0csU0FBU0MsY0FBYyxPQUNwQzBHLEVBQUsvQixJQUFNUyxFQUFXTyxRQUFRZSxLQUFLL0IsSUFDbkMrQixFQUFLQyxJQUFNdkIsRUFBV08sUUFBUWUsS0FBS0MsSUFDbkMsTUFBTUMsRUFBaUI3RyxTQUFTQyxjQUFjLFFBTTlDLE9BTEE0RyxFQUFlbEIsYUFBYSxRQUFTLGdCQUNyQ2tCLEVBQWVOLFVBQVlsQixFQUFXTyxRQUFRaUIsZUFDOUNILEVBQU9uSCxZQUFZb0gsR0FDbkJELEVBQU9uSCxZQUFZc0gsR0FDbkI3RyxTQUFTOEYsS0FBS0MsYUFBYVcsRUFBUTFHLFNBQVM4RixLQUFLZ0IsWUFDMUNKLEMsQ0FHZixFLHNCQ3hFRyxNQUFNSyxFQUNEQyxlQUVBQyxnQkFFREMsT0FFQ0MsUUFFQUMsR0FDQUMsR0FFQXhFLEVBQ0FqQyxFQUVBMEcsR0FDQUMsR0FFQUMsR0FDQUMsR0FFQUMsT0FDQUMsZ0JBQTBCLEdBQzFCQyxlQUNBQyxPQUVBQyxVQUFvQixFQUU1QkMsWUFBWXJDLEdBQ1J4RyxLQUFLOEgsZUFBaUJoSCxTQUFTQyxjQUFjLFVBQzdDZixLQUFLK0gsZ0JBQWtCL0gsS0FBSzhILGVBQWUxRSxXQUFXLEtBQU0sQ0FBRTBGLE9BQU8sSUFDckU5SSxLQUFLZ0ksT0FBU3hCLEVBQ2R4RyxLQUFLd0ksT0FBUzlGLFFBQVUsRUFBQW5CLEVBQ3hCdkIsS0FBSzJJLE9BQVMsQ0FDbEIsQ0FHV0ksYUFDUCxPQUFPL0ksS0FBS2lJLE9BQ2hCLENBRVcvRSxhQUNQLE9BQU9sRCxLQUFLbUksRUFDaEIsQ0FFV2xGLFlBQ1AsT0FBT2pELEtBQUtrSSxFQUNoQixDQUVXMUIsWUFDUCxPQUFPeEcsS0FBS2dJLE1BQ2hCLENBRVdnQixZQUNQLE9BQU9oSixLQUFLMkksTUFDaEIsQ0FFV00sb0JBQ1AsT0FBT2pKLEtBQUs4SCxjQUNoQixDQUVXb0IscUJBQ1AsT0FBT2xKLEtBQUsrSCxlQUNoQixDQUVPb0IsV0FDSCxPQUFPbkosS0FBSzJJLE1BQ2hCLENBRU9TLFdBQ0gsTUFBTTlILEVBQU1ELEtBQUtDLE1BQ2pCLEdBQUlBLEVBQU10QixLQUFLNEksVUFBWSxJQUFPNUksS0FBS3lJLGdCQUFpQixDQUNwRHpJLEtBQUsrSCxnQkFBZ0JqRSxVQUFVOUQsS0FBS3dHLE1BQU8sRUFBRyxFQUFHeEcsS0FBS2tJLEdBQUlsSSxLQUFLbUksR0FBSW5JLEtBQUtzSSxHQUFJdEksS0FBS3VJLEdBQUl2SSxLQUFLMkQsRUFBRzNELEtBQUswQixHQUNsRyxNQUFNMkgsRUFBWXJKLEtBQUsrSCxnQkFBZ0J1QixhQUFhLEVBQUcsRUFBR3RKLEtBQUtvSSxHQUFJcEksS0FBS3FJLElBQzdDLE1BQXZCckksS0FBSzBJLGVBQ0wxSSxLQUFLMEksZUFBaUJXLEVBQVVFLEtBRWhDdkosS0FBSzBJLGVBQWVjLElBQUlILEVBQVVFLE1BRXRDdkosS0FBSzRJLFVBQVl0SCxFQUNqQnRCLEtBQUsySSxRLENBRVQsT0FBTyxJQUFJYyxVQUFVekosS0FBSzBJLGVBQWVnQixRQUFTMUosS0FBS29JLEdBQUlwSSxLQUFLcUksR0FDcEUsQ0FFV3NCLFlBQ1AsTUFBTXJJLEVBQU1ELEtBQUtDLE1BQ2pCLEdBQUlBLEVBQU10QixLQUFLNEksVUFBWSxJQUFPNUksS0FBS3lJLGdCQUFpQixDQUNwRHpJLEtBQUsrSCxnQkFBZ0JqRSxVQUFVOUQsS0FBS3dHLE1BQU8sRUFBRyxFQUFHeEcsS0FBS2tJLEdBQUlsSSxLQUFLbUksR0FBSW5JLEtBQUtzSSxHQUFJdEksS0FBS3VJLEdBQUl2SSxLQUFLMkQsRUFBRzNELEtBQUswQixHQUNsRyxNQUFNMkgsRUFBWXJKLEtBQUsrSCxnQkFBZ0J1QixhQUFhLEVBQUcsRUFBR3RKLEtBQUtvSSxHQUFJcEksS0FBS3FJLElBQzdDLE1BQXZCckksS0FBSzBJLGVBQ0wxSSxLQUFLMEksZUFBaUJXLEVBQVVFLEtBRWhDdkosS0FBSzBJLGVBQWVjLElBQUlILEVBQVVFLE1BRXRDdkosS0FBSzRJLFVBQVl0SCxFQUNqQnRCLEtBQUsySSxRLENBRVQsT0FBTyxJQUFJYyxVQUFVekosS0FBSzBJLGVBQWVnQixRQUFTMUosS0FBS29JLEdBQUlwSSxLQUFLcUksR0FDcEUsQ0FFT3VCLGVBQ0g1SixLQUFLa0ksR0FBS2xJLEtBQUtnSSxPQUFPNkIsV0FDdEI3SixLQUFLbUksR0FBS25JLEtBQUtnSSxPQUFPOEIsWUFFdEIsSUFBSUMsRUFBUyxJQUFNdkgsS0FBS3FCLElBQUk3RCxLQUFLa0ksR0FBS2xJLEtBQUttSSxHQUFLLEVBQUssR0FHckRuSSxLQUFLMkQsRUFBSW5CLEtBQUt3SCxNQUFNaEssS0FBS2tJLEdBQUs2QixHQUM5Qi9KLEtBQUswQixFQUFJYyxLQUFLd0gsTUFBTWhLLEtBQUttSSxHQUFLNEIsR0FDOUIvSixLQUFLb0ksR0FBSzVGLEtBQUt3SCxNQUFNeEgsS0FBS3FCLElBQUk3RCxLQUFLMkQsRUFBSTNELEtBQUswQixFQUFJLEVBQUssSUFDckQxQixLQUFLcUksR0FBSzdGLEtBQUt3SCxNQUFNeEgsS0FBS3FCLElBQUk3RCxLQUFLMEIsRUFBSTFCLEtBQUsyRCxFQUFJLEVBQUssSUFDckQzRCxLQUFLc0ksR0FBSzlGLEtBQUt3SCxPQUFPaEssS0FBS29JLEdBQUtwSSxLQUFLMkQsR0FBSyxHQUMxQzNELEtBQUt1SSxHQUFLL0YsS0FBS3dILE9BQU9oSyxLQUFLcUksR0FBS3JJLEtBQUswQixHQUFLLEdBRTFDMUIsS0FBSzhILGVBQWU3RSxNQUFRakQsS0FBS29JLEdBQ2pDcEksS0FBSzhILGVBQWU1RSxPQUFTbEQsS0FBS3FJLEdBRWxDckksS0FBSytILGdCQUFnQnhFLFVBQVksUUFDakN2RCxLQUFLK0gsZ0JBQWdCdkUsU0FBUyxFQUFHLEVBQUd4RCxLQUFLb0ksR0FBSXBJLEtBQUtxSSxHQUN0RCxDQUVPNEIsaUJBQWlCQyxHQU1wQixHQUxBbEssS0FBS2lJLFFBQVVpQyxFQUFjQyxZQUFjLGNBQ04sTUFBakNELEVBQWN6QixrQkFDZHpJLEtBQUt5SSxnQkFBa0J5QixFQUFjekIsa0JBR3JDMkIsVUFBVUMsZUFBZ0JELFVBQVVDLGFBQWFDLGFBa0NqRCxPQUFPQyxRQUFRQyxPQUFPLHdEQWpDdEIsSUFDSSxNQUFNQyxFQUFZLENBQ2RDLE9BQU8sRUFDUGxFLE1BQU8sQ0FDSDJELFdBQVluSyxLQUFLaUksUUFDakJoRixNQUFPLENBQUVXLElBQUtzRyxFQUFjakgsTUFBTVcsSUFBS0MsSUFBS3FHLEVBQWNqSCxNQUFNWSxPQUd4RSxHQUFJdUcsVUFBVUMsYUFBYU0saUJBQWtCLENBQ3pDLE1BQU1DLFFBQWdCUixVQUFVQyxhQUFhTSxtQkFDdkNFLEVBQWUsR0FDckIsSUFBSUMsRUFBbUIsRUFDdkJGLEVBQVFHLFNBQVEsU0FBVUMsR0FDSCxjQUFmQSxFQUFPQyxPQUNQSixFQUFhQyxLQUFzQkUsRUFBT0UsU0FFbEQsSUFDSUwsRUFBYW5LLE9BQVMsSUFDdEIrSixFQUFLakUsTUFBTTBFLFNBQVcsQ0FBRUMsTUFBT04sRUFBYUEsRUFBYW5LLE9BQVMsSSxDQUcxRSxNQUFNMEssUUFBZWhCLFVBQVVDLGFBQWFDLGFBQWFHLEdBT3pELE9BTEF6SyxLQUFLZ0ksT0FBT3FELFVBQVlELEVBQ3hCcEwsS0FBS2dJLGFBQWUsSUFBSXVDLFNBQTJCZSxJQUMvQ3RMLEtBQUtnSSxPQUFPdUQsaUJBQW1CLElBQU1ELEVBQVF0TCxLQUFLZ0ksT0FBTyxJQUU3RGhJLEtBQUs0SixnQkFDRSxDLENBQ1QsTUFBTzRCLEdBQ0wsT0FBT2pCLFFBQVFDLE9BQU9nQixFLENBS2xDLENBRU9DLFVBQ0gsTUFBTWpGLEVBQVF4RyxLQUFLZ0ksT0FDbkJoSSxLQUFLd0ksT0FBT3ZILGlCQUFpQixzQkFBc0IsV0FDL0MsTUFBTW1LLEVBQXNCNUUsRUFBTTZFLFVBRWxDLEdBREFLLFFBQVFDLElBQUksa0JBQ1JQLFFBQXlDLENBQzFCQSxFQUFPUSxZQUVmYixTQUFRLFNBQVVjLEdBQ3JCQSxFQUFNQyxNQUNWLElBRUF0RixFQUFNNkUsVUFBWSxLQUVsQixJQUFJVSxFQUFZakwsU0FBUzZGLGVBQWUsT0FDcENvRixTQUNBQSxFQUFVQyxRLENBR3RCLEdBQ0osRUN4TXdCdEosUUFBVSxFQUFBbkIsRUF5Qy9CLFNBQVMwSyxFQUFjL0QsRUFBWUMsR0FDdEMsSUFBSTRCLEVBQVMsSUFBTXZILEtBQUtxQixJQUFJcUUsRUFBS0MsRUFBSyxFQUFLLEdBQ3ZDK0QsRUEzQkEsaUVBQWlFQyxLQUFLL0IsVUFBVWdDLFdBMkIxRDFKLE9BQU8ySixXQUFhbkUsRUFBSyxFQUVuRCxJQUdJdkUsRUFBWXVFLEVBQUs2QixFQUNqQnJJLEVBQVl5RyxFQUFLNEIsRUFHckIsTUFBTyxDQVBFN0IsRUFBS2dFLEVBQ0wvRCxFQUFLK0QsRUFJRzFKLEtBQUtxQixJQUFJRixFQUFJakMsRUFBSSxFQUFLLEdBQ3RCYyxLQUFLcUIsSUFBSW5DLEVBQUlpQyxFQUFJLEVBQUssR0FDZkEsRUFBR2pDLEVBQy9CLENBUU91SSxlQUFlcUMsRUFBVW5HLEdBQzVCLElBQ0ksTUFBTW9HLFFBQWlCQyxNQUFNckcsR0FDN0IsSUFBS29HLEVBQVNFLEdBQ1YsTUFBTSxJQUFJNUcsTUFBTSx3QkFBMEIwRyxFQUFTRyxRQUV2RCxPQUFPSCxFQUFTSSxNLENBQ2xCLE1BQU9uQixHQUNMLE9BQU9qQixRQUFRQyxPQUFPZ0IsRSxDQUU5QixDQ3JFZSxNQUFNb0IsRUFDVEMsT0FFQUMsVUFFQUMsYUFBdUIsRUFFdkI3RSxHQUNBQyxHQUVBSyxPQUVBd0UsS0FDQUMsS0FDQUMsUUFFRUMsTUFTVnRFLFlBQVlpRSxFQUEwQm5KLEVBQVdqQyxFQUFXc0wsRUFBY0MsRUFBY0MsR0FDcEZsTixLQUFLOE0sVUFBWUEsRUFDakI5TSxLQUFLa0ksR0FBS3ZFLEVBQ1YzRCxLQUFLbUksR0FBS3pHLEVBQ1YxQixLQUFLd0ksT0FBUzlGLFFBQVUsRUFBQW5CLEVBQ3hCdkIsS0FBS2dOLEtBQU9BLEVBQ1poTixLQUFLaU4sS0FBT0EsRUFDWmpOLEtBQUttTixPQUFRLEVBQ2JuTixLQUFLa04sUUFBVUEsQ0FDbkIsQ0FXT2pELGlCQUFpQm1ELEVBQW1CQyxFQUEwQkMsR0FDakV0TixLQUFLNk0sT0FBUyxJQUFJVSxPQUFPLElBQUlDLElBQUksbUJBQ2pDLE1BQU1YLEVBQVM3TSxLQUFLNk0sT0FNcEIsT0FKQTdNLEtBQUt3SSxPQUFPdkgsaUJBQWlCLG1CQUFxQmpCLEtBQUtpTixNQUFNLFdBQ3pESixFQUFPWSxZQUFZLENBQUVDLEtBQU0sU0FDM0JiLEVBQU9jLFdBQ1gsVUFDYTNOLEtBQUs0TixLQUFLUixFQUFXQyxFQUFjQyxFQUNwRCxDQU9PTyxRQUFRQyxFQUFzQjlFLEdBQzdCaEosS0FBSytNLGNBR1QvTSxLQUFLK00sYUFBYyxFQUVuQi9NLEtBQUs2TSxPQUFPWSxZQUFZLENBQUVDLEtBQU0sVUFBV0ksWUFBVzlFLFNBQVMsQ0FBQzhFLEVBQVV2RSxLQUFLd0UsU0FDbkYsQ0FVVUgsS0FBS1IsRUFBbUJDLEVBQTBCQyxHQUN4RCxJQUFLVSxFQUFJQyxFQUFJN0YsRUFBSUMsRUFBSTFFLEVBQUdqQyxHQUFLdUssRUFBY2pNLEtBQUtrSSxHQUFJbEksS0FBS21JLElBRXpELE1BQU0rRixFQUFxQixJQUFJQyxZQUFvQixnQkFBaUIsQ0FBRUMsT0FBUSxDQUFFSixHQUFJQSxFQUFJQyxHQUFJQSxLQUM1RmpPLEtBQUt3SSxPQUFPNkYsY0FBY0gsR0FFMUJsTyxLQUFLNk0sT0FBT1ksWUFBWSxDQUNwQkMsS0FBTSxPQUNOdEYsR0FBSUEsRUFDSkMsR0FBSUEsRUFDSmlHLFlBQWFsQixFQUNibUIsT0FBUXZPLEtBQUs4TSxVQUNiSSxRQUFTbE4sS0FBS2tOLFVBR2xCbE4sS0FBSzZNLE9BQU8yQixVQUFhQyxJQUNyQixJQUFJQyxFQUFNRCxFQUFHbEYsS0FDYixPQUFRbUYsRUFBSWhCLE1BQ1IsSUFBSyxTQUFVLENBQ1gsSUFBSWlCLEVBQU9DLEtBQUtDLE1BQU1ILEVBQUlDLE1BQzFCLE1BQU1HLEVBQVMxRyxFQUFLekUsRUFDZG9MLEVBQVMxRyxFQUFLM0csRUFDcEJpTixFQUFLLElBQU1HLEVBQ1hILEVBQUssSUFBTUcsRUFDWEgsRUFBSyxJQUFNRyxFQUNYSCxFQUFLLEtBQU9HLEVBQ1pILEVBQUssSUFBTUksRUFDWEosRUFBSyxJQUFNSSxFQUNYSixFQUFLLElBQU1JLEVBQ1hKLEVBQUssS0FBT0ksRUFDWixNQUFNQyxFQUF3QixJQUFJYixZQUFvQixzQkFBdUIsQ0FDekVDLE9BQVEsQ0FBRU8sS0FBTUEsS0FFcEIzTyxLQUFLd0ksT0FBTzZGLGNBQWNXLEdBQzFCLEssQ0FFSixJQUFLLGFBQ0QsR0FBZSxHQUFYTixFQUFJek0sSUFBYSxDQUVqQixNQUFNdUYsRUFBUzFHLFNBQVM2RixlQUFlLFdBQ25DYSxJQUNBQSxFQUFPeUgsY0FBMkIsaUJBQWlCNUgsVUFBWSxzQkFDL0Q2SCxZQUFXLFdBQ3FCLE1BQXhCMUgsRUFBTzJILGVBR1AzSCxHQUNBQSxFQUFPMkgsY0FBY0MsWUFBWTVILEVBRXpDLEdBQUcsSyxDQUdYeEgsS0FBS21OLE9BQVEsRUFDYm5OLEtBQUt3SSxPQUFPNkYsY0FBYyxJQUFJRixZQUFvQixhQUFlbk8sS0FBS2dOLE9BQ3RFLE1BRUosSUFBSyxjQUFlLENBQ2hCLE1BQU11QixFQUFTRyxFQUFJSCxPQUNiYyxFQUFXLElBQUlsQixZQUFvQixjQUFnQm5PLEtBQUtnTixLQUFPLElBQU1oTixLQUFLaU4sS0FBTSxDQUNsRm1CLE9BQVEsQ0FBRWtCLElBQUtmLEVBQU9lLElBQUtyTSxNQUFPc0wsRUFBT3RMLE1BQU9DLE9BQVFxTCxFQUFPckwsVUFFbkVsRCxLQUFLd0ksT0FBTzZGLGNBQWNnQixHQUMxQixLLENBRUosSUFBSyxRQUNEclAsS0FBS3VQLE1BQU1iLEdBQ1gsTUFFSixJQUFLLFlBQ0QxTyxLQUFLdVAsTUFBTSxNQUluQnZQLEtBQUsrTSxhQUFjLEVBQ25CTyxHQUFhLEVBRWpCdE4sS0FBSzZNLE9BQU8yQyxRQUFXQyxJQUNuQi9ELFFBQVFGLE1BQU0sZ0NBQWlDaUUsRUFBSSxFQUV2RCxJQUFJQyxFQUFVLEtBQ1ZyQyxJQUNBM0ssT0FBT2lOLHNCQUFzQkQsRUFBUSxFQUd6QyxPQURBQSxJQUNPbkYsUUFBUWUsU0FBUSxFQUMzQixDQU9PaUUsTUFBTWIsR0FDVCxJQUFJa0IsRUFDSixHQUFLbEIsRUFTRSxDQUNIa0IsRUFBUWhCLEtBQUtDLE1BQU1ILEVBQUltQixhQUN2QixNQUFNQyxFQUFrQixJQUFJM0IsWUFBb0Isa0JBQW9Cbk8sS0FBS2dOLEtBQU8sSUFBTWhOLEtBQUtpTixLQUFNLENBQzdGbUIsT0FBUSxDQUFFeUIsWUFBYUQsRUFBTzNDLEtBQU1qTixLQUFLaU4sUUFFN0NqTixLQUFLd0ksT0FBTzZGLGNBQWN5QixFLEtBZHBCLENBR05GLEVBQVEsS0FDUixNQUFNRyxFQUF1QixJQUFJNUIsWUFBb0IsbUJBQXFCbk8sS0FBS2dOLEtBQU8sSUFBTWhOLEtBQUtpTixLQUFNLENBQ25HbUIsT0FBUSxDQUFFbkIsS0FBTWpOLEtBQUtpTixRQUV6QmpOLEtBQUt3SSxPQUFPNkYsY0FBYzBCLEUsQ0FTbEMsQ0FFT0MsVUFDSCxPQUFPaFEsS0FBS21OLEtBQ2hCLENBQ084QyxVQUNILE9BQU9qUSxLQUFLZ04sSUFDaEIsQ0FFT2tELFVBQ0gsT0FBT2xRLEtBQUtpTixJQUNoQixDQUVPa0QsZUFDSCxPQUFPblEsS0FBSzhNLFNBQ2hCLENBRU9zRCxpQkFDSCxPQUFPcFEsS0FBS3dJLE1BQ2hCLENBRU9pRCxVQUFpQixFQ3RQNUIsTUFDQSxHQUNFNEUsV0FGbUMsb0JBQVhDLFFBQTBCQSxPQUFPRCxZQUFjQyxPQUFPRCxXQUFXRSxLQUFLRCxTQ0doRyxJQUFJRSxFQUNKLE1BQU1DLEVBQVEsSUFBSUMsV0FBVyxJQUNkLFNBQVNDLElBRXRCLElBQUtILElBRUhBLEVBQW9DLG9CQUFYRixRQUEwQkEsT0FBT0UsaUJBQW1CRixPQUFPRSxnQkFBZ0JELEtBQUtELFNBRXBHRSxHQUNILE1BQU0sSUFBSTNLLE1BQU0sNEdBSXBCLE9BQU8ySyxFQUFnQkMsRUFDekIsQ0NYQSxNQUFNRyxFQUFZLEdBRWxCLElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJLE1BQU9BLEVBQ3pCRCxFQUFVRSxNQUFNRCxFQUFJLEtBQU9FLFNBQVMsSUFBSXJILE1BQU0sSUFHekMsU0FBU3NILEVBQWdCQyxFQUFLQyxFQUFTLEdBRzVDLE9BQVFOLEVBQVVLLEVBQUlDLEVBQVMsSUFBTU4sRUFBVUssRUFBSUMsRUFBUyxJQUFNTixFQUFVSyxFQUFJQyxFQUFTLElBQU1OLEVBQVVLLEVBQUlDLEVBQVMsSUFBTSxJQUFNTixFQUFVSyxFQUFJQyxFQUFTLElBQU1OLEVBQVVLLEVBQUlDLEVBQVMsSUFBTSxJQUFNTixFQUFVSyxFQUFJQyxFQUFTLElBQU1OLEVBQVVLLEVBQUlDLEVBQVMsSUFBTSxJQUFNTixFQUFVSyxFQUFJQyxFQUFTLElBQU1OLEVBQVVLLEVBQUlDLEVBQVMsSUFBTSxJQUFNTixFQUFVSyxFQUFJQyxFQUFTLEtBQU9OLEVBQVVLLEVBQUlDLEVBQVMsS0FBT04sRUFBVUssRUFBSUMsRUFBUyxLQUFPTixFQUFVSyxFQUFJQyxFQUFTLEtBQU9OLEVBQVVLLEVBQUlDLEVBQVMsS0FBT04sRUFBVUssRUFBSUMsRUFBUyxNQUFNQyxhQUN2ZixDQ1lBLFFBeEJBLFNBQVlDLEVBQVNDLEVBQUtILEdBQ3hCLEdBQUksZUFBc0JHLElBQVFELEVBQ2hDLE9BQU8sZUFJVCxNQUFNRSxHQURORixFQUFVQSxHQUFXLENBQUMsR0FDREcsU0FBV0gsRUFBUVQsS0FBT0EsS0FLL0MsR0FIQVcsRUFBSyxHQUFlLEdBQVZBLEVBQUssR0FBWSxHQUMzQkEsRUFBSyxHQUFlLEdBQVZBLEVBQUssR0FBWSxJQUV2QkQsRUFBSyxDQUNQSCxFQUFTQSxHQUFVLEVBRW5CLElBQUssSUFBSUwsRUFBSSxFQUFHQSxFQUFJLEtBQU1BLEVBQ3hCUSxFQUFJSCxFQUFTTCxHQUFLUyxFQUFLVCxHQUd6QixPQUFPUSxDQUNULENBRUEsT0FBT0wsRUFBZ0JNLEVBQ3pCLEUsaTJDQ2lCTSxRQUFFRSxHQUFZLEVBaUVMLE1BQU1DLEVBQ1ZDLFdBQ0FDLFFBQ0F6RSxRQUNBakssTUFDQUMsT0FDQTBPLFVBQ0FDLFVBQ0FDLFFBQ0FDLFlBQXNCLEVBQ3JCQyxZQUNBOUwsZ0JBQ0FzQyxPQUNBd0UsS0FDQXdFLFFBQ0FTLFlBQ0FDLE9BWVJySixZQUFZNUYsRUFBZUMsRUFBZ0IwTyxHQUN2QzVSLEtBQUtpRCxNQUFRQSxFQUNiakQsS0FBS2tELE9BQVNBLEVBQ2RsRCxLQUFLNFIsVUFBWUEsRUFDakI1UixLQUFLd0ksT0FBUzlGLFFBQVUsRUFBQW5CLEVBQ3hCdkIsS0FBS2dOLEtBQU8sSUFDWmhOLEtBQUt3UixRQUFVQSxFQUNmOUYsUUFBUUMsSUFBSSxTQUFVM0wsS0FBS3dSLFFBQy9CLENBY0F0TCxrQkFDSWpELEVBQ0FDLEVBQ0FpUCxFQUNBQyxFQUNBUixFQUNBNUssR0FFQSxPQUFPeUssRUFBTVksZUFBZSxDQUFFcFAsUUFBT0MsU0FBUWlQLGFBQVlDLFFBQU9SLFlBQVc1SyxTQUMvRSxDQWVBZCw4QkFDSWpELEVBQ0FDLEVBQ0FvUCxFQUNBVixFQUNBNUssR0FFQSxPQUFPeUssRUFBTVksZUFBZSxDQUFFcFAsUUFBT0MsU0FBUW9QLFdBQVVWLFlBQVc1SyxTQUN0RSxDQUVBZCw0QkFBNEJxTSxHQUN4QixNQUFNQyxFQUFTLElBQUlmLEVBQU1jLEVBQU90UCxNQUFPc1AsRUFBT3JQLE9BQVFxUCxFQUFPWCxXQUNwQyxNQUFyQlcsRUFBT1IsYUFDUFMsRUFBT1QsV0FBYVEsRUFBT1IsWUFFL0IsSUFDSSxJQUNJSyxFQURBRCxFQUF5QixHQUU3QixNQUFNTSxFQUFhRixFQUNiRyxFQUFlSCxFQUNyQixHQUE2QixNQUF6QkUsRUFBV04sWUFBMEMsTUFBcEJNLEVBQVdMLE1BQ2YsTUFBekJNLEVBQWFKLFdBQ2JILEVBQWFNLEVBQVdOLFdBQ3hCQyxFQUFRSyxFQUFXTCxNQUNuQnBTLEtBQUtzUyxTQUFXRixFQUFNTyxLQUFJLFNBQVUvUCxFQUFHekIsRUFBR2hCLEdBQ3RDLE1BQU8sQ0FBRThNLEtBQU1ySyxFQUFFLEdBQUlpUCxVQUFXTSxFQUFXaFIsR0FBRyxHQUNsRCxTQUVELElBQTZCLE1BQXpCdVIsRUFBYUosU0FLcEIsS0FBTSw0Q0FKTnRTLEtBQUtzUyxTQUFXSSxFQUFhSixTQUM3QkgsRUFBYW5TLEtBQUtzUyxTQUFTSyxLQUFLQyxHQUFNLENBQUNBLEVBQUVmLGFBQ3pDTyxFQUFRcFMsS0FBS3NTLFNBQVNLLEtBQUtDLEdBQU0sQ0FBQ0EsRUFBRTNGLE8sQ0FJeEMsYUFBYXVGLEVBQU9LLFlBQVlWLEVBQVlDLEVBQU9HLEVBQU92TCxNLENBQzVELE1BQU93RSxHQUNMLEdBQUtBLEVBQTJCc0gsS0FFNUIsT0FEQXBILFFBQVFGLE1BQU1BLEdBQ1BqQixRQUFRQyxPQUFPZ0IsRSxDQUdsQyxDQVVRdkIsa0JBQ0prSSxFQUNBQyxFQUNBcEwsR0FFQSxNQUFNK0wsRUFBWSxJQUFJQyxNQUFNLGFBTzVCLElBQUlDLEVBQWdCQyxFQU5wQmxULEtBQUt3SSxPQUFPNkYsY0FBYzBFLEdBQzFCckgsUUFBUUMsSUFDSiwwQkFDQSwyRUFJSlcsRUFBVXRNLEtBQUs0UixXQUNWdUIsTUFBTTVKLElBQ0h2SixLQUFLMlIsUUFBVXBJLEVBQ2Z2SixLQUFLa04sUUFBVTNELEVBQUsyRCxRQUdwQmxOLEtBQUtrUyxPQUFTak0sRUFBVW1OLGdCQUFnQnBULEtBQUsyUixTQUM3QzNSLEtBQUtrUyxPQUFPeEwsUUFBVVQsRUFBVW9OLGNBQWNyVCxLQUFLMlIsU0FDbkQzUixLQUFLa1MsT0FBT2xMLE1BQVFmLEVBQVVxTixZQUFZdFQsS0FBSzJSLFFBQVEzSyxNQUFNQyxXQUFZakgsS0FBSzJSLFNBRTFFM0ssSUFDQWlNLEVBQVksSUFBSSxLQUNoQkEsRUFBVWxSLFVBQVUsR0FDcEJqQixTQUFTNkYsZUFBZSxVQUFVdEcsWUFBWTRTLEVBQVUzUyxLQUN4RDRTLEVBQWMsSUFBSSxLQUNsQkEsRUFBWW5SLFVBQVUsR0FDdEJqQixTQUFTNkYsZUFBZSxVQUFVdEcsWUFBWTZTLEVBQVk1UyxNQUc5RCxJQUFJaVQsRUFBaUIsSUFBSVAsTUFBTSxrQkFLL0IsT0FKQWxTLFNBQVN1TixjQUFja0YsR0FFdkJ2VCxLQUFLZ1MsWUFBYyxHQUNuQmhTLEtBQUswUixXQUFhLElBQUk3SixFQUFtQjdILEtBQUtrUyxPQUFPMUwsT0FDOUN4RyxLQUFLMFIsV0FBVzhCLFdBQVd4VCxLQUFLMlIsUUFBUXpILGNBQWMsSUFFaEVpSixNQUFLLEtBQ0YsTUFBTTlGLEVBQWUsSUFBT3JHLEVBQVFpTSxFQUFVL1EsU0FBVyxLQUNuRG9MLEVBQWMsSUFBT3RHLEVBQVFrTSxFQUFZaFIsU0FBVyxLQUMxRGlRLEVBQVdwSCxTQUFRLENBQUM4RyxFQUEwQjRCLEtBQzFDelQsS0FBS2dTLFlBQVlsQixLQUNiLElBQUlsRSxFQUFVaUYsRUFBVzdSLEtBQUtpRCxNQUFPakQsS0FBS2tELE9BQVFsRCxLQUFLZ04sS0FBTW9GLEVBQU1xQixHQUFPLEdBQUl6VCxLQUFLa04sVUFFdkZsTixLQUFLZ1MsWUFBWXlCLEdBQU9ELFdBQVd4VCxLQUFLMlIsUUFBUStCLFdBQVlyRyxFQUFjQyxFQUFZLElBRzFGdE4sS0FBS2lTLGFBQWMsQ0FBSSxJQUUxQjBCLE9BQU0sU0FBVW5JLEdBQ2IsT0FBT2pCLFFBQVFDLE9BQU9nQixFQUMxQixJQUVKeEwsS0FBS3dJLE9BQU92SCxpQkFBaUIsYUFBZWpCLEtBQUtnTixNQUFNLEtBS2pCLElBSlBoTixLQUFLZ1MsWUFBWTRCLFFBQVFDLElBQ2pCLElBQXhCQSxFQUFVN0QsWUFHRXRQLFFBQ25CVixLQUFLd0ksT0FBTzZGLGNBQWMsSUFBSUYsWUFBb0IsZ0IsSUFJMUQsSUFBSTJGLEVBQVUsS0FDTjlULEtBQUtpUyxhQUFlalMsS0FBSytSLFlBQ3pCL1IsS0FBS2dTLFlBQVlqSCxTQUFTZ0osR0FDdEJBLEVBQVdsRyxRQUFRN04sS0FBSzBSLFdBQVcvSCxNQUFPM0osS0FBSzBSLFdBQVcxSSxTQUdsRTJHLHNCQUFzQm1FLEVBQVEsRUFHbEMsT0FEQUEsSUFDTzlULElBQ1gsQ0FZT2lLLG9CQUNIa0ksRUFDQUMsRUFDQVYsRUFDQTFLLEdBRUEsTUFBTStMLEVBQVksSUFBSUMsTUFBTSxhQU81QixJQUFJQyxFQUFnQkMsRUFOcEJsVCxLQUFLd0ksT0FBTzZGLGNBQWMwRSxHQUMxQnJILFFBQVFDLElBQ0osMEJBQ0EsMkVBSUpXLEVBQVV0TSxLQUFLNFIsV0FDVnVCLE1BQU01SixJQUNIdkosS0FBSzJSLFFBQVVwSSxFQUNmdkosS0FBS2tOLFFBQVUzRCxFQUFLMkQsUUFHcEJsTixLQUFLa1MsT0FBU2pNLEVBQVVtTixnQkFBZ0JwVCxLQUFLMlIsU0FDN0MzUixLQUFLa1MsT0FBT3hMLFFBQVVULEVBQVVvTixjQUFjclQsS0FBSzJSLFNBQ25EM1IsS0FBS2tTLE9BQU9sTCxNQUFRZixFQUFVcU4sWUFBWXRULEtBQUsyUixRQUFRM0ssTUFBTUMsV0FBWWpILEtBQUsyUixTQUUxRTNLLElBQ0FpTSxFQUFZLElBQUksS0FDaEJBLEVBQVVsUixVQUFVLEdBQ3BCakIsU0FBUzZGLGVBQWUsVUFBVXRHLFlBQVk0UyxFQUFVM1MsS0FDeEQ0UyxFQUFjLElBQUksS0FDbEJBLEVBQVluUixVQUFVLEdBQ3RCakIsU0FBUzZGLGVBQWUsVUFBVXRHLFlBQVk2UyxFQUFZNVMsTUFHOUQsSUFBSWlULEVBQWlCLElBQUlQLE1BQU0sa0JBSy9CLE9BSkFsUyxTQUFTdU4sY0FBY2tGLEdBRXZCdlQsS0FBS2dTLFlBQWMsR0FFWk4sRUFBVzhCLFdBQVd4VCxLQUFLMlIsUUFBUXpILGNBQWMsSUFFM0RpSixNQUFLLEtBQ0YsTUFBTTlGLEVBQWUsSUFBT3JHLEVBQVFpTSxFQUFVL1EsU0FBVyxLQUNuRG9MLEVBQWMsSUFBT3RHLEVBQVFrTSxFQUFZaFIsU0FBVyxLQUMxRGlRLEVBQVdwSCxTQUFRLENBQUM4RyxFQUEwQjRCLEtBQzFDelQsS0FBS2dTLFlBQVlsQixLQUNiLElBQUlsRSxFQUFVaUYsRUFBVzdSLEtBQUtpRCxNQUFPakQsS0FBS2tELE9BQVFsRCxLQUFLZ04sS0FBTW9GLEVBQU1xQixHQUFRelQsS0FBS2tOLFVBRXBGbE4sS0FBS2dTLFlBQVl5QixHQUFPRCxXQUFXeFQsS0FBSzJSLFFBQVErQixXQUFZckcsRUFBY0MsRUFBWSxJQUcxRnROLEtBQUtpUyxhQUFjLENBQUksSUFFMUIwQixPQUFNLFNBQVVuSSxHQUNiLE9BQU9qQixRQUFRQyxPQUFPZ0IsRUFDMUIsSUFFSnhMLEtBQUt3SSxPQUFPdkgsaUJBQWlCLGFBQWVqQixLQUFLZ04sTUFBTSxLQUtqQixJQUpQaE4sS0FBS2dTLFlBQVk0QixRQUFRQyxJQUNqQixJQUF4QkEsRUFBVTdELFlBR0V0UCxRQUNuQlYsS0FBS3dJLE9BQU82RixjQUFjLElBQUlGLFlBQW9CLGdCLElBSTFELElBQUkyRixFQUFVLEtBQ045VCxLQUFLaVMsYUFBZWpTLEtBQUsrUixZQUN6Qi9SLEtBQUtnUyxZQUFZakgsU0FBU2dKLEdBQ3RCQSxFQUFXbEcsUUFBUTZELEVBQVd0SSxXQUFZc0ksRUFBV3ZJLGNBRzdEd0csc0JBQXNCbUUsRUFBUSxFQUdsQyxPQURBQSxJQUNPOVQsSUFDWCxDQUtPa0MsU0FDRWxDLEtBQUtpUyxjQUFlalMsS0FBSytSLFlBQ1AsTUFBbkIvUixLQUFLMFIsWUFDTDFSLEtBQUtnUyxZQUFZakgsU0FBU2dKLEdBQWVBLEVBQVdsRyxRQUFRN04sS0FBSzBSLFdBQVcvSCxNQUFPM0osS0FBSzBSLFdBQVcxSSxRQUUzRyxDQUVPOUMscUJBQ0gsT0FBT2xHLEtBQUtzUyxRQUNoQixDQU1PbEMsaUJBQ0gsT0FBT3BRLEtBQUt3SSxNQUNoQixDQUVXd0wsWUFDUCxPQUFPclAsT0FBT3NQLE9BQU9qVSxLQUFLa1MsT0FDOUIsQ0FLT2dDLFVBQ0hsVSxLQUFLbVUscUJBQ0xuVSxLQUFLb1UsZ0JBQ1QsQ0FLT0MsV0FBV3BILEdBRWQsSUFBSXFILEVBQVEsSUFBSXRCLE1BRE0sbUJBQXFCL0YsR0FFM0NqTixLQUFLd0ksT0FBTzZGLGNBQWNpRyxFQUM5QixDQUtPRixpQkFDYzNDLEVBQU04QyxjQUNkeEosU0FBU3lKLElBQ2R4VSxLQUFLcVUsV0FBV0csRUFBT3ZILEtBQUssR0FFcEMsQ0FLT2tILHFCQUNIblUsS0FBSzBSLFdBQVdqRyxVQUNoQixJQUFJNkksRUFBUSxJQUFJdEIsTUFBTSxzQkFDdEJoVCxLQUFLd0ksT0FBTzZGLGNBQWNpRyxFQUM5QixFQ3RhSixTQUNJN0MsTUFBSyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQVJuZnQvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL0FSbmZ0Ly4vbm9kZV9tb2R1bGVzL3N0YXRzLmpzL2J1aWxkL3N0YXRzLm1pbi5qcyIsIndlYnBhY2s6Ly9BUm5mdC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9BUm5mdC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9BUm5mdC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vQVJuZnQvd2VicGFjay9ydW50aW1lL2dldCBqYXZhc2NyaXB0IGNodW5rIGZpbGVuYW1lIiwid2VicGFjazovL0FSbmZ0L3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vQVJuZnQvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9BUm5mdC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9BUm5mdC93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly9BUm5mdC8uL3NyYy91dGlscy9odG1sL0NvbnRhaW5lci50cyIsIndlYnBhY2s6Ly9BUm5mdC8uL3NyYy9yZW5kZXJlcnMvQ2FtZXJhVmlld1JlbmRlcmVyLnRzIiwid2VicGFjazovL0FSbmZ0Ly4vc3JjL3V0aWxzL0FSbmZ0VXRpbHMudHMiLCJ3ZWJwYWNrOi8vQVJuZnQvLi9zcmMvTkZUV29ya2VyLnRzIiwid2VicGFjazovL0FSbmZ0Ly4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9uYXRpdmUuanMiLCJ3ZWJwYWNrOi8vQVJuZnQvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JuZy5qcyIsIndlYnBhY2s6Ly9BUm5mdC8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvc3RyaW5naWZ5LmpzIiwid2VicGFjazovL0FSbmZ0Ly4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92NC5qcyIsIndlYnBhY2s6Ly9BUm5mdC8uL3NyYy9BUm5mdC50cyIsIndlYnBhY2s6Ly9BUm5mdC8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJBUm5mdFwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJBUm5mdFwiXSA9IGZhY3RvcnkoKTtcbn0pKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzLCAoKSA9PiB7XG5yZXR1cm4gIiwiLy8gc3RhdHMuanMgLSBodHRwOi8vZ2l0aHViLmNvbS9tcmRvb2Ivc3RhdHMuanNcbihmdW5jdGlvbihmLGUpe1wib2JqZWN0XCI9PT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGUpOmYuU3RhdHM9ZSgpfSkodGhpcyxmdW5jdGlvbigpe3ZhciBmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShhKXtjLmFwcGVuZENoaWxkKGEuZG9tKTtyZXR1cm4gYX1mdW5jdGlvbiB1KGEpe2Zvcih2YXIgZD0wO2Q8Yy5jaGlsZHJlbi5sZW5ndGg7ZCsrKWMuY2hpbGRyZW5bZF0uc3R5bGUuZGlzcGxheT1kPT09YT9cImJsb2NrXCI6XCJub25lXCI7bD1hfXZhciBsPTAsYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Muc3R5bGUuY3NzVGV4dD1cInBvc2l0aW9uOmZpeGVkO3RvcDowO2xlZnQ6MDtjdXJzb3I6cG9pbnRlcjtvcGFjaXR5OjAuOTt6LWluZGV4OjEwMDAwXCI7Yy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCk7XG51KCsrbCVjLmNoaWxkcmVuLmxlbmd0aCl9LCExKTt2YXIgaz0ocGVyZm9ybWFuY2V8fERhdGUpLm5vdygpLGc9ayxhPTAscj1lKG5ldyBmLlBhbmVsKFwiRlBTXCIsXCIjMGZmXCIsXCIjMDAyXCIpKSxoPWUobmV3IGYuUGFuZWwoXCJNU1wiLFwiIzBmMFwiLFwiIzAyMFwiKSk7aWYoc2VsZi5wZXJmb3JtYW5jZSYmc2VsZi5wZXJmb3JtYW5jZS5tZW1vcnkpdmFyIHQ9ZShuZXcgZi5QYW5lbChcIk1CXCIsXCIjZjA4XCIsXCIjMjAxXCIpKTt1KDApO3JldHVybntSRVZJU0lPTjoxNixkb206YyxhZGRQYW5lbDplLHNob3dQYW5lbDp1LGJlZ2luOmZ1bmN0aW9uKCl7az0ocGVyZm9ybWFuY2V8fERhdGUpLm5vdygpfSxlbmQ6ZnVuY3Rpb24oKXthKys7dmFyIGM9KHBlcmZvcm1hbmNlfHxEYXRlKS5ub3coKTtoLnVwZGF0ZShjLWssMjAwKTtpZihjPmcrMUUzJiYoci51cGRhdGUoMUUzKmEvKGMtZyksMTAwKSxnPWMsYT0wLHQpKXt2YXIgZD1wZXJmb3JtYW5jZS5tZW1vcnk7dC51cGRhdGUoZC51c2VkSlNIZWFwU2l6ZS9cbjEwNDg1NzYsZC5qc0hlYXBTaXplTGltaXQvMTA0ODU3Nil9cmV0dXJuIGN9LHVwZGF0ZTpmdW5jdGlvbigpe2s9dGhpcy5lbmQoKX0sZG9tRWxlbWVudDpjLHNldE1vZGU6dX19O2YuUGFuZWw9ZnVuY3Rpb24oZSxmLGwpe3ZhciBjPUluZmluaXR5LGs9MCxnPU1hdGgucm91bmQsYT1nKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxKSxyPTgwKmEsaD00OCphLHQ9MyphLHY9MiphLGQ9MyphLG09MTUqYSxuPTc0KmEscD0zMCphLHE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtxLndpZHRoPXI7cS5oZWlnaHQ9aDtxLnN0eWxlLmNzc1RleHQ9XCJ3aWR0aDo4MHB4O2hlaWdodDo0OHB4XCI7dmFyIGI9cS5nZXRDb250ZXh0KFwiMmRcIik7Yi5mb250PVwiYm9sZCBcIis5KmErXCJweCBIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZlwiO2IudGV4dEJhc2VsaW5lPVwidG9wXCI7Yi5maWxsU3R5bGU9bDtiLmZpbGxSZWN0KDAsMCxyLGgpO2IuZmlsbFN0eWxlPWY7Yi5maWxsVGV4dChlLHQsdik7XG5iLmZpbGxSZWN0KGQsbSxuLHApO2IuZmlsbFN0eWxlPWw7Yi5nbG9iYWxBbHBoYT0uOTtiLmZpbGxSZWN0KGQsbSxuLHApO3JldHVybntkb206cSx1cGRhdGU6ZnVuY3Rpb24oaCx3KXtjPU1hdGgubWluKGMsaCk7az1NYXRoLm1heChrLGgpO2IuZmlsbFN0eWxlPWw7Yi5nbG9iYWxBbHBoYT0xO2IuZmlsbFJlY3QoMCwwLHIsbSk7Yi5maWxsU3R5bGU9ZjtiLmZpbGxUZXh0KGcoaCkrXCIgXCIrZStcIiAoXCIrZyhjKStcIi1cIitnKGspK1wiKVwiLHQsdik7Yi5kcmF3SW1hZ2UocSxkK2EsbSxuLWEscCxkLG0sbi1hLHApO2IuZmlsbFJlY3QoZCtuLWEsbSxhLHApO2IuZmlsbFN0eWxlPWw7Yi5nbG9iYWxBbHBoYT0uOTtiLmZpbGxSZWN0KGQrbi1hLG0sYSxnKCgxLWgvdykqcCkpfX19O3JldHVybiBmfSk7XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiLy8gVGhpcyBmdW5jdGlvbiBhbGxvdyB0byByZWZlcmVuY2UgYXN5bmMgY2h1bmtzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnUgPSAoY2h1bmtJZCkgPT4ge1xuXHQvLyByZXR1cm4gdXJsIGZvciBmaWxlbmFtZXMgYmFzZWQgb24gdGVtcGxhdGVcblx0cmV0dXJuIFwiXCIgKyBjaHVua0lkICsgXCIuQVJuZnQuanNcIjtcbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmIgPSBkb2N1bWVudC5iYXNlVVJJIHx8IHNlbGYubG9jYXRpb24uaHJlZjtcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3Ncbi8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuLy8gW3Jlc29sdmUsIHJlamVjdCwgUHJvbWlzZV0gPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuXHQxNzk6IDBcbn07XG5cbi8vIG5vIGNodW5rIG9uIGRlbWFuZCBsb2FkaW5nXG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0XG5cbi8vIG5vIG9uIGNodW5rcyBsb2FkZWRcblxuLy8gbm8ganNvbnAgZnVuY3Rpb24iLCIvKlxyXG4gKiAgQ29udGFpbmVyLnRzXHJcbiAqICBBUm5mdFxyXG4gKlxyXG4gKiAgVGhpcyBmaWxlIGlzIHBhcnQgb2YgQVJuZnQgLSBXZWJBUktpdC5cclxuICpcclxuICogIEFSbmZ0IGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcclxuICogIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxyXG4gKiAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcclxuICogIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXHJcbiAqXHJcbiAqICBBUm5mdCBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxyXG4gKiAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcclxuICogIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcclxuICogIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxyXG4gKlxyXG4gKiAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXHJcbiAqICBhbG9uZyB3aXRoIEFSbmZ0LiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxyXG4gKlxyXG4gKiAgQXMgYSBzcGVjaWFsIGV4Y2VwdGlvbiwgdGhlIGNvcHlyaWdodCBob2xkZXJzIG9mIHRoaXMgbGlicmFyeSBnaXZlIHlvdVxyXG4gKiAgcGVybWlzc2lvbiB0byBsaW5rIHRoaXMgbGlicmFyeSB3aXRoIGluZGVwZW5kZW50IG1vZHVsZXMgdG8gcHJvZHVjZSBhblxyXG4gKiAgZXhlY3V0YWJsZSwgcmVnYXJkbGVzcyBvZiB0aGUgbGljZW5zZSB0ZXJtcyBvZiB0aGVzZSBpbmRlcGVuZGVudCBtb2R1bGVzLCBhbmQgdG9cclxuICogIGNvcHkgYW5kIGRpc3RyaWJ1dGUgdGhlIHJlc3VsdGluZyBleGVjdXRhYmxlIHVuZGVyIHRlcm1zIG9mIHlvdXIgY2hvaWNlLFxyXG4gKiAgcHJvdmlkZWQgdGhhdCB5b3UgYWxzbyBtZWV0LCBmb3IgZWFjaCBsaW5rZWQgaW5kZXBlbmRlbnQgbW9kdWxlLCB0aGUgdGVybXMgYW5kXHJcbiAqICBjb25kaXRpb25zIG9mIHRoZSBsaWNlbnNlIG9mIHRoYXQgbW9kdWxlLiBBbiBpbmRlcGVuZGVudCBtb2R1bGUgaXMgYSBtb2R1bGVcclxuICogIHdoaWNoIGlzIG5laXRoZXIgZGVyaXZlZCBmcm9tIG5vciBiYXNlZCBvbiB0aGlzIGxpYnJhcnkuIElmIHlvdSBtb2RpZnkgdGhpc1xyXG4gKiAgbGlicmFyeSwgeW91IG1heSBleHRlbmQgdGhpcyBleGNlcHRpb24gdG8geW91ciB2ZXJzaW9uIG9mIHRoZSBsaWJyYXJ5LCBidXQgeW91XHJcbiAqICBhcmUgbm90IG9ibGlnYXRlZCB0byBkbyBzby4gSWYgeW91IGRvIG5vdCB3aXNoIHRvIGRvIHNvLCBkZWxldGUgdGhpcyBleGNlcHRpb25cclxuICogIHN0YXRlbWVudCBmcm9tIHlvdXIgdmVyc2lvbi5cclxuICpcclxuICogIENvcHlyaWdodCAyMDIxIFdlYkFSS2l0LlxyXG4gKlxyXG4gKiAgQXV0aG9yKHMpOiBXYWx0ZXIgUGVyZGFuIEBrYWx3YWx0IGh0dHBzOi8vZ2l0aHViLmNvbS9rYWx3YWx0XHJcbiAqXHJcbiAqL1xyXG5pbXBvcnQgeyBDb25maWdEYXRhIH0gZnJvbSBcIi4uLy4uL2NvbmZpZy9Db25maWdEYXRhXCI7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRhaW5lciB7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIENvbnRhaW5lciBmb3IgdGhlIGFwcC4gQmFzaWNhbGx5IGEgZGl2LCB3aXRoIGluc2lkZSBhIGNhbnZhcyBhbmQgYSB2aWRlby5cclxuICAgICAqIFlvdSBjYW4gb3B0aW9uYWxseSBza2lwIHRoZSBjcmVhdGlvbiwganVzdCBzZXQgdGhlIHZhcmlhYmxlIGBjcmVhdGVgIHRvIGZhbHNlLFxyXG4gICAgICogaW4geW91ciBjb25maWcuanNvbiBmaWxlLlxyXG4gICAgICogQHBhcmFtIGNvbmZpZ0RhdGEgdGhlIGNvbmZpZy5qc29uIGZpbGUgdXJsLlxyXG4gICAgICogQHJldHVybnMgdGhlIGNvbnRhaW5lciBvYmplY3QuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBjcmVhdGVDb250YWluZXIoY29uZmlnRGF0YTogQ29uZmlnRGF0YSkge1xyXG4gICAgICAgIGlmIChjb25maWdEYXRhLmNvbnRhaW5lci5jcmVhdGUpIHtcclxuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLmlkID0gXCJhcHBcIjtcclxuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgICAgICAgICAgY2FudmFzLmlkID0gXCJjYW52YXNcIjtcclxuICAgICAgICAgICAgY29uc3QgdmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7XHJcbiAgICAgICAgICAgIHZpZGVvLmlkID0gXCJ2aWRlb1wiO1xyXG4gICAgICAgICAgICB2aWRlby5zZXRBdHRyaWJ1dGUoXCJhdXRvcGxheVwiLCBcIlwiKTtcclxuICAgICAgICAgICAgdmlkZW8uc2V0QXR0cmlidXRlKFwibXV0ZWRcIiwgXCJcIik7XHJcbiAgICAgICAgICAgIHZpZGVvLnNldEF0dHJpYnV0ZShcInBsYXlzaW5saW5lXCIsIFwiXCIpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodmlkZW8pO1xyXG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2FudmFzKTtcclxuICAgICAgICAgICAgY29uc3QgbG9hZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9hZGluZ1wiKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUoY29udGFpbmVyLCBsb2FkaW5nKTtcclxuICAgICAgICAgICAgcmV0dXJuIHsgY29udGFpbmVyLCBjYW52YXMsIHZpZGVvIH07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gPEhUTUxEaXZFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbmZpZ0RhdGEuY29udGFpbmVyLmNvbnRhaW5lck5hbWUpO1xyXG4gICAgICAgICAgICBjb25zdCBjYW52YXMgPSA8SFRNTENhbnZhc0VsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29uZmlnRGF0YS5jb250YWluZXIuY2FudmFzTmFtZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHZpZGVvID0gPEhUTUxWaWRlb0VsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aWRlb1wiKTtcclxuICAgICAgICAgICAgcmV0dXJuIHsgY29udGFpbmVyLCBjYW52YXMsIHZpZGVvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlICB0aGUgbmVjZXNzYXJ5IGh0bWwgZm9yIHRoZSBzdGF0cy5cclxuICAgICAqIEBwYXJhbSBjcmVhdGUgdHJ1ZSBvciBmYWxzZS5cclxuICAgICAqIEBwYXJhbSBjb25maWdEYXRhIHRoZSBjb25maWcuanNvbiBmaWxlIHVybC5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGNyZWF0ZVN0YXRzKGNyZWF0ZTogYm9vbGVhbiwgY29uZmlnRGF0YTogQ29uZmlnRGF0YSkge1xyXG4gICAgICAgIGlmIChjcmVhdGUgJiYgY29uZmlnRGF0YS5zdGF0cy5jcmVhdGVIdG1sKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICAgICAgc3RhdHMuaWQgPSBcInN0YXRzXCI7XHJcbiAgICAgICAgICAgIHN0YXRzLmNsYXNzTmFtZSA9IFwidWkgc3RhdHNcIjtcclxuICAgICAgICAgICAgY29uc3Qgc3RhdHMxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICAgICAgc3RhdHMxLmlkID0gXCJzdGF0czFcIjtcclxuICAgICAgICAgICAgc3RhdHMxLmNsYXNzTmFtZSA9IFwic3RhdHMtaXRlbVwiO1xyXG4gICAgICAgICAgICBjb25zdCBzdGF0czFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcbiAgICAgICAgICAgIHN0YXRzMXAuY2xhc3NOYW1lID0gXCJzdGF0cy1pdGVtLXRpdGxlXCI7XHJcbiAgICAgICAgICAgIHN0YXRzMXAuaW5uZXJUZXh0ID0gXCJNYWluXCI7XHJcbiAgICAgICAgICAgIHN0YXRzMS5hcHBlbmRDaGlsZChzdGF0czFwKTtcclxuICAgICAgICAgICAgc3RhdHMuYXBwZW5kQ2hpbGQoc3RhdHMxKTtcclxuICAgICAgICAgICAgY29uc3Qgc3RhdHMyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICAgICAgc3RhdHMyLmlkID0gXCJzdGF0czJcIjtcclxuICAgICAgICAgICAgc3RhdHMyLmNsYXNzTmFtZSA9IFwic3RhdHMtaXRlbVwiO1xyXG4gICAgICAgICAgICBjb25zdCBzdGF0czJwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcbiAgICAgICAgICAgIHN0YXRzMnAuY2xhc3NOYW1lID0gXCJzdGF0cy1pdGVtLXRpdGxlXCI7XHJcbiAgICAgICAgICAgIHN0YXRzMnAuaW5uZXJUZXh0ID0gXCJXb3JrZXJcIjtcclxuICAgICAgICAgICAgc3RhdHMyLmFwcGVuZENoaWxkKHN0YXRzMnApO1xyXG4gICAgICAgICAgICBzdGF0cy5hcHBlbmRDaGlsZChzdGF0czIpO1xyXG4gICAgICAgICAgICBjb25zdCBsb2FkaW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2FkaW5nXCIpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShzdGF0cywgbG9hZGluZyk7XHJcbiAgICAgICAgICAgIHJldHVybiBzdGF0cztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSB0aGUgaHRtbCB0byBkaXNwbGF5IHRoZSBsb2FkaW5nIG1lc3NhZ2UuXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnRGF0YSB0aGUgY29uZmlnLmpzb24gZmlsZSB1cmwuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBjcmVhdGVMb2FkaW5nKGNvbmZpZ0RhdGE6IENvbmZpZ0RhdGEpIHtcclxuICAgICAgICBpZiAoY29uZmlnRGF0YS5sb2FkaW5nLmNyZWF0ZSkge1xyXG4gICAgICAgICAgICBjb25zdCBsb2FkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgICAgICBsb2FkZXIuaWQgPSBcImxvYWRpbmdcIjtcclxuICAgICAgICAgICAgY29uc3QgbG9nbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcbiAgICAgICAgICAgIGxvZ28uc3JjID0gY29uZmlnRGF0YS5sb2FkaW5nLmxvZ28uc3JjO1xyXG4gICAgICAgICAgICBsb2dvLmFsdCA9IGNvbmZpZ0RhdGEubG9hZGluZy5sb2dvLmFsdDtcclxuICAgICAgICAgICAgY29uc3QgbG9hZGluZ01lc3NhZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcclxuICAgICAgICAgICAgbG9hZGluZ01lc3NhZ2Uuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJsb2FkaW5nLXRleHRcIik7XHJcbiAgICAgICAgICAgIGxvYWRpbmdNZXNzYWdlLmlubmVyVGV4dCA9IGNvbmZpZ0RhdGEubG9hZGluZy5sb2FkaW5nTWVzc2FnZTtcclxuICAgICAgICAgICAgbG9hZGVyLmFwcGVuZENoaWxkKGxvZ28pO1xyXG4gICAgICAgICAgICBsb2FkZXIuYXBwZW5kQ2hpbGQobG9hZGluZ01lc3NhZ2UpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShsb2FkZXIsIGRvY3VtZW50LmJvZHkuZmlyc3RDaGlsZCk7XHJcbiAgICAgICAgICAgIHJldHVybiBsb2FkZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbn1cclxuIiwiLypcclxuICogIENhbWVyYVZpZXdSZW5kZXJlci50c1xyXG4gKiAgQVJuZnRcclxuICpcclxuICogIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIEFSbmZ0IC0gV2ViQVJLaXQuXHJcbiAqXHJcbiAqICBBUm5mdCBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XHJcbiAqICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcclxuICogIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXHJcbiAqICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxyXG4gKlxyXG4gKiAgQVJuZnQgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcclxuICogIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXHJcbiAqICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXHJcbiAqICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cclxuICpcclxuICogIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxyXG4gKiAgYWxvbmcgd2l0aCBBUm5mdC4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cclxuICpcclxuICogIEFzIGEgc3BlY2lhbCBleGNlcHRpb24sIHRoZSBjb3B5cmlnaHQgaG9sZGVycyBvZiB0aGlzIGxpYnJhcnkgZ2l2ZSB5b3VcclxuICogIHBlcm1pc3Npb24gdG8gbGluayB0aGlzIGxpYnJhcnkgd2l0aCBpbmRlcGVuZGVudCBtb2R1bGVzIHRvIHByb2R1Y2UgYW5cclxuICogIGV4ZWN1dGFibGUsIHJlZ2FyZGxlc3Mgb2YgdGhlIGxpY2Vuc2UgdGVybXMgb2YgdGhlc2UgaW5kZXBlbmRlbnQgbW9kdWxlcywgYW5kIHRvXHJcbiAqICBjb3B5IGFuZCBkaXN0cmlidXRlIHRoZSByZXN1bHRpbmcgZXhlY3V0YWJsZSB1bmRlciB0ZXJtcyBvZiB5b3VyIGNob2ljZSxcclxuICogIHByb3ZpZGVkIHRoYXQgeW91IGFsc28gbWVldCwgZm9yIGVhY2ggbGlua2VkIGluZGVwZW5kZW50IG1vZHVsZSwgdGhlIHRlcm1zIGFuZFxyXG4gKiAgY29uZGl0aW9ucyBvZiB0aGUgbGljZW5zZSBvZiB0aGF0IG1vZHVsZS4gQW4gaW5kZXBlbmRlbnQgbW9kdWxlIGlzIGEgbW9kdWxlXHJcbiAqICB3aGljaCBpcyBuZWl0aGVyIGRlcml2ZWQgZnJvbSBub3IgYmFzZWQgb24gdGhpcyBsaWJyYXJ5LiBJZiB5b3UgbW9kaWZ5IHRoaXNcclxuICogIGxpYnJhcnksIHlvdSBtYXkgZXh0ZW5kIHRoaXMgZXhjZXB0aW9uIHRvIHlvdXIgdmVyc2lvbiBvZiB0aGUgbGlicmFyeSwgYnV0IHlvdVxyXG4gKiAgYXJlIG5vdCBvYmxpZ2F0ZWQgdG8gZG8gc28uIElmIHlvdSBkbyBub3Qgd2lzaCB0byBkbyBzbywgZGVsZXRlIHRoaXMgZXhjZXB0aW9uXHJcbiAqICBzdGF0ZW1lbnQgZnJvbSB5b3VyIHZlcnNpb24uXHJcbiAqXHJcbiAqICBDb3B5cmlnaHQgMjAyMSBXZWJBUktpdC5cclxuICpcclxuICogIEF1dGhvcihzKTogV2FsdGVyIFBlcmRhbiBAa2Fsd2FsdCBodHRwczovL2dpdGh1Yi5jb20va2Fsd2FsdFxyXG4gKlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFZpZGVvU2V0dGluZ0RhdGEgfSBmcm9tIFwiLi4vY29uZmlnL0NvbmZpZ0RhdGFcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUNhbWVyYVZpZXdSZW5kZXJlciB7XHJcbiAgICBmYWNpbmc6IHN0cmluZztcclxuICAgIHJlYWRvbmx5IGZyYW1lOiBudW1iZXI7XHJcbiAgICBnZXRGcmFtZTogKCkgPT4gbnVtYmVyO1xyXG4gICAgaGVpZ2h0OiBudW1iZXI7XHJcbiAgICB3aWR0aDogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgaW1hZ2U6IEltYWdlRGF0YTtcclxuICAgIGdldEltYWdlOiAoKSA9PiBJbWFnZURhdGE7XHJcbiAgICBpbml0aWFsaXplOiAodmlkZW9TZXR0aW5nczogVmlkZW9TZXR0aW5nRGF0YSkgPT4gUHJvbWlzZTxib29sZWFuPjtcclxuICAgIGRlc3Ryb3k6ICgpID0+IHZvaWQ7XHJcbn1cclxuZXhwb3J0IGNsYXNzIENhbWVyYVZpZXdSZW5kZXJlciBpbXBsZW1lbnRzIElDYW1lcmFWaWV3UmVuZGVyZXIge1xyXG4gICAgcHJpdmF0ZSBjYW52YXNfcHJvY2VzczogSFRNTENhbnZhc0VsZW1lbnQ7XHJcblxyXG4gICAgcHJpdmF0ZSBjb250ZXh0X3Byb2Nlc3M6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuXHJcbiAgICBwdWJsaWMgX3ZpZGVvOiBIVE1MVmlkZW9FbGVtZW50O1xyXG5cclxuICAgIHByaXZhdGUgX2ZhY2luZzogVmlkZW9TZXR0aW5nRGF0YVtcImZhY2luZ01vZGVcIl07XHJcblxyXG4gICAgcHJpdmF0ZSB2dzogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSB2aDogbnVtYmVyO1xyXG5cclxuICAgIHByaXZhdGUgdzogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBoOiBudW1iZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBwdzogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBwaDogbnVtYmVyO1xyXG5cclxuICAgIHByaXZhdGUgb3g6IG51bWJlcjtcclxuICAgIHByaXZhdGUgb3k6IG51bWJlcjtcclxuXHJcbiAgICBwcml2YXRlIHRhcmdldDogRXZlbnRUYXJnZXQ7XHJcbiAgICBwcml2YXRlIHRhcmdldEZyYW1lUmF0ZTogbnVtYmVyID0gNjA7XHJcbiAgICBwcml2YXRlIGltYWdlRGF0YUNhY2hlOiBVaW50OENsYW1wZWRBcnJheTtcclxuICAgIHByaXZhdGUgX2ZyYW1lOiBudW1iZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBsYXN0Q2FjaGU6IG51bWJlciA9IDA7XHJcblxyXG4gICAgY29uc3RydWN0b3IodmlkZW86IEhUTUxWaWRlb0VsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLmNhbnZhc19wcm9jZXNzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgICAgICB0aGlzLmNvbnRleHRfcHJvY2VzcyA9IHRoaXMuY2FudmFzX3Byb2Nlc3MuZ2V0Q29udGV4dChcIjJkXCIsIHsgYWxwaGE6IGZhbHNlIH0pO1xyXG4gICAgICAgIHRoaXMuX3ZpZGVvID0gdmlkZW87XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB3aW5kb3cgfHwgZ2xvYmFsO1xyXG4gICAgICAgIHRoaXMuX2ZyYW1lID0gMDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXR0ZXJzXHJcbiAgICBwdWJsaWMgZ2V0IGZhY2luZygpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9mYWNpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBoZWlnaHQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52aDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHdpZHRoKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudnc7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCB2aWRlbygpOiBIVE1MVmlkZW9FbGVtZW50IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdmlkZW87XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBmcmFtZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9mcmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGNhbnZhc1Byb2Nlc3MoKTogSFRNTENhbnZhc0VsZW1lbnQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhc19wcm9jZXNzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgY29udGV4dFByb2Nlc3MoKTogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0X3Byb2Nlc3M7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEZyYW1lKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZyYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRJbWFnZSgpOiBJbWFnZURhdGEge1xyXG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgaWYgKG5vdyAtIHRoaXMubGFzdENhY2hlID4gMTAwMCAvIHRoaXMudGFyZ2V0RnJhbWVSYXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dF9wcm9jZXNzLmRyYXdJbWFnZSh0aGlzLnZpZGVvLCAwLCAwLCB0aGlzLnZ3LCB0aGlzLnZoLCB0aGlzLm94LCB0aGlzLm95LCB0aGlzLncsIHRoaXMuaCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGltYWdlRGF0YSA9IHRoaXMuY29udGV4dF9wcm9jZXNzLmdldEltYWdlRGF0YSgwLCAwLCB0aGlzLnB3LCB0aGlzLnBoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaW1hZ2VEYXRhQ2FjaGUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZURhdGFDYWNoZSA9IGltYWdlRGF0YS5kYXRhO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZURhdGFDYWNoZS5zZXQoaW1hZ2VEYXRhLmRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubGFzdENhY2hlID0gbm93O1xyXG4gICAgICAgICAgICB0aGlzLl9mcmFtZSsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IEltYWdlRGF0YSh0aGlzLmltYWdlRGF0YUNhY2hlLnNsaWNlKCksIHRoaXMucHcsIHRoaXMucGgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgaW1hZ2UoKTogSW1hZ2VEYXRhIHtcclxuICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIGlmIChub3cgLSB0aGlzLmxhc3RDYWNoZSA+IDEwMDAgLyB0aGlzLnRhcmdldEZyYW1lUmF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHRfcHJvY2Vzcy5kcmF3SW1hZ2UodGhpcy52aWRlbywgMCwgMCwgdGhpcy52dywgdGhpcy52aCwgdGhpcy5veCwgdGhpcy5veSwgdGhpcy53LCB0aGlzLmgpO1xyXG4gICAgICAgICAgICBjb25zdCBpbWFnZURhdGEgPSB0aGlzLmNvbnRleHRfcHJvY2Vzcy5nZXRJbWFnZURhdGEoMCwgMCwgdGhpcy5wdywgdGhpcy5waCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmltYWdlRGF0YUNhY2hlID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VEYXRhQ2FjaGUgPSBpbWFnZURhdGEuZGF0YTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VEYXRhQ2FjaGUuc2V0KGltYWdlRGF0YS5kYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmxhc3RDYWNoZSA9IG5vdztcclxuICAgICAgICAgICAgdGhpcy5fZnJhbWUrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBJbWFnZURhdGEodGhpcy5pbWFnZURhdGFDYWNoZS5zbGljZSgpLCB0aGlzLnB3LCB0aGlzLnBoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHJlcGFyZUltYWdlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudncgPSB0aGlzLl92aWRlby52aWRlb1dpZHRoO1xyXG4gICAgICAgIHRoaXMudmggPSB0aGlzLl92aWRlby52aWRlb0hlaWdodDtcclxuXHJcbiAgICAgICAgdmFyIHBzY2FsZSA9IDMyMCAvIE1hdGgubWF4KHRoaXMudncsICh0aGlzLnZoIC8gMykgKiA0KTtcclxuXHJcbiAgICAgICAgLy8gVm9pZCBmbG9hdCBwb2ludFxyXG4gICAgICAgIHRoaXMudyA9IE1hdGguZmxvb3IodGhpcy52dyAqIHBzY2FsZSk7XHJcbiAgICAgICAgdGhpcy5oID0gTWF0aC5mbG9vcih0aGlzLnZoICogcHNjYWxlKTtcclxuICAgICAgICB0aGlzLnB3ID0gTWF0aC5mbG9vcihNYXRoLm1heCh0aGlzLncsICh0aGlzLmggLyAzKSAqIDQpKTtcclxuICAgICAgICB0aGlzLnBoID0gTWF0aC5mbG9vcihNYXRoLm1heCh0aGlzLmgsICh0aGlzLncgLyA0KSAqIDMpKTtcclxuICAgICAgICB0aGlzLm94ID0gTWF0aC5mbG9vcigodGhpcy5wdyAtIHRoaXMudykgLyAyKTtcclxuICAgICAgICB0aGlzLm95ID0gTWF0aC5mbG9vcigodGhpcy5waCAtIHRoaXMuaCkgLyAyKTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW52YXNfcHJvY2Vzcy53aWR0aCA9IHRoaXMucHc7XHJcbiAgICAgICAgdGhpcy5jYW52YXNfcHJvY2Vzcy5oZWlnaHQgPSB0aGlzLnBoO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRleHRfcHJvY2Vzcy5maWxsU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0X3Byb2Nlc3MuZmlsbFJlY3QoMCwgMCwgdGhpcy5wdywgdGhpcy5waCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGluaXRpYWxpemUodmlkZW9TZXR0aW5nczogVmlkZW9TZXR0aW5nRGF0YSk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgICAgIHRoaXMuX2ZhY2luZyA9IHZpZGVvU2V0dGluZ3MuZmFjaW5nTW9kZSB8fCBcImVudmlyb25tZW50XCI7XHJcbiAgICAgICAgaWYgKHZpZGVvU2V0dGluZ3MudGFyZ2V0RnJhbWVSYXRlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy50YXJnZXRGcmFtZVJhdGUgPSB2aWRlb1NldHRpbmdzLnRhcmdldEZyYW1lUmF0ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzICYmIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBoaW50OiBhbnkgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXVkaW86IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHZpZGVvOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhY2luZ01vZGU6IHRoaXMuX2ZhY2luZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHsgbWluOiB2aWRlb1NldHRpbmdzLndpZHRoLm1pbiwgbWF4OiB2aWRlb1NldHRpbmdzLndpZHRoLm1heCB9LFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgaWYgKG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRldmljZXMgPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2aWRlb0RldmljZXMgPSBbXSBhcyBBcnJheTxzdHJpbmc+O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB2aWRlb0RldmljZUluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBkZXZpY2VzLmZvckVhY2goZnVuY3Rpb24gKGRldmljZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGV2aWNlLmtpbmQgPT0gXCJ2aWRlb2lucHV0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvRGV2aWNlc1t2aWRlb0RldmljZUluZGV4KytdID0gZGV2aWNlLmRldmljZUlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZpZGVvRGV2aWNlcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpbnQudmlkZW8uZGV2aWNlSWQgPSB7IGV4YWN0OiB2aWRlb0RldmljZXNbdmlkZW9EZXZpY2VzLmxlbmd0aCAtIDFdIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoaGludCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmlkZW8uc3JjT2JqZWN0ID0gc3RyZWFtO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmlkZW8gPSBhd2FpdCBuZXcgUHJvbWlzZTxIVE1MVmlkZW9FbGVtZW50PigocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZpZGVvLm9ubG9hZGVkbWV0YWRhdGEgPSAoKSA9PiByZXNvbHZlKHRoaXMuX3ZpZGVvKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmVwYXJlSW1hZ2UoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcIlNvcnJ5LCBZb3VyIGRldmljZSBkb2VzIG5vdCBzdXBwb3J0IHRoaXMgZXhwZXJpZW5jZS5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZXN0cm95KCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHZpZGVvID0gdGhpcy5fdmlkZW87XHJcbiAgICAgICAgdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcInN0b3BWaWRlb1N0cmVhbWluZ1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0cmVhbSA9IDxNZWRpYVN0cmVhbT52aWRlby5zcmNPYmplY3Q7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3RvcCBzdHJlYW1pbmdcIik7XHJcbiAgICAgICAgICAgIGlmIChzdHJlYW0gIT09IG51bGwgJiYgc3RyZWFtICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRyYWNrcyA9IHN0cmVhbS5nZXRUcmFja3MoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0cmFja3MuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICB0cmFjay5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB2aWRlby5zcmNPYmplY3QgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50QVIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFwcFwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50QVIgIT09IG51bGwgJiYgY3VycmVudEFSICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50QVIucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCIvKlxyXG4gKiAgQVJVdGlscy50c1xyXG4gKiAgQVJuZnRcclxuICpcclxuICogIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIEFSbmZ0IC0gV2ViQVJLaXQuXHJcbiAqXHJcbiAqICBBUm5mdCBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XHJcbiAqICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcclxuICogIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXHJcbiAqICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxyXG4gKlxyXG4gKiAgQVJuZnQgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcclxuICogIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXHJcbiAqICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXHJcbiAqICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cclxuICpcclxuICogIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxyXG4gKiAgYWxvbmcgd2l0aCBBUm5mdC4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cclxuICpcclxuICogIEFzIGEgc3BlY2lhbCBleGNlcHRpb24sIHRoZSBjb3B5cmlnaHQgaG9sZGVycyBvZiB0aGlzIGxpYnJhcnkgZ2l2ZSB5b3VcclxuICogIHBlcm1pc3Npb24gdG8gbGluayB0aGlzIGxpYnJhcnkgd2l0aCBpbmRlcGVuZGVudCBtb2R1bGVzIHRvIHByb2R1Y2UgYW5cclxuICogIGV4ZWN1dGFibGUsIHJlZ2FyZGxlc3Mgb2YgdGhlIGxpY2Vuc2UgdGVybXMgb2YgdGhlc2UgaW5kZXBlbmRlbnQgbW9kdWxlcywgYW5kIHRvXHJcbiAqICBjb3B5IGFuZCBkaXN0cmlidXRlIHRoZSByZXN1bHRpbmcgZXhlY3V0YWJsZSB1bmRlciB0ZXJtcyBvZiB5b3VyIGNob2ljZSxcclxuICogIHByb3ZpZGVkIHRoYXQgeW91IGFsc28gbWVldCwgZm9yIGVhY2ggbGlua2VkIGluZGVwZW5kZW50IG1vZHVsZSwgdGhlIHRlcm1zIGFuZFxyXG4gKiAgY29uZGl0aW9ucyBvZiB0aGUgbGljZW5zZSBvZiB0aGF0IG1vZHVsZS4gQW4gaW5kZXBlbmRlbnQgbW9kdWxlIGlzIGEgbW9kdWxlXHJcbiAqICB3aGljaCBpcyBuZWl0aGVyIGRlcml2ZWQgZnJvbSBub3IgYmFzZWQgb24gdGhpcyBsaWJyYXJ5LiBJZiB5b3UgbW9kaWZ5IHRoaXNcclxuICogIGxpYnJhcnksIHlvdSBtYXkgZXh0ZW5kIHRoaXMgZXhjZXB0aW9uIHRvIHlvdXIgdmVyc2lvbiBvZiB0aGUgbGlicmFyeSwgYnV0IHlvdVxyXG4gKiAgYXJlIG5vdCBvYmxpZ2F0ZWQgdG8gZG8gc28uIElmIHlvdSBkbyBub3Qgd2lzaCB0byBkbyBzbywgZGVsZXRlIHRoaXMgZXhjZXB0aW9uXHJcbiAqICBzdGF0ZW1lbnQgZnJvbSB5b3VyIHZlcnNpb24uXHJcbiAqXHJcbiAqICBDb3B5cmlnaHQgMjAyMSBXZWJBUktpdC5cclxuICpcclxuICogIEF1dGhvcihzKTogV2FsdGVyIFBlcmRhbiBAa2Fsd2FsdCBodHRwczovL2dpdGh1Yi5jb20va2Fsd2FsdFxyXG4gKlxyXG4gKi9cclxuY29uc3QgdGFyZ2V0OiBFdmVudFRhcmdldCA9IHdpbmRvdyB8fCBnbG9iYWw7XHJcbi8qKlxyXG4gKiBDb252ZXJ0IGRlZ3JlZXMgdG8gcmFkaWFucy5cclxuICogQHBhcmFtIGRlZ3JlZXMgZGVncmVlIHZhbHVlIGFzIG51bWJlci5cclxuICogQHJldHVybnMgcmFkaWFuc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGRlZ3JlZXNUb1JhZGlhbnMoZGVncmVlczogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBkZWdyZWVzICogKE1hdGguUEkgLyAxODApO1xyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgdGhlIGRldmljZSBpcyBhIE1vYmlsZS5cclxuICogQHJldHVybnMgdHJ1ZSBvciBmYWxzZS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc01vYmlsZSgpOiBib29sZWFuIHtcclxuICAgIC8vcmV0dXJuIC9BbmRyb2lkfG1vYmlsZXxpUGFkfGlQaG9uZS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudClcclxuICAgIGlmICgvQW5kcm9pZHx3ZWJPU3xpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnl8SUVNb2JpbGV8T3BlcmEgTWluaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcclxuICAgICAgICAvLyB0cnVlIGZvciBtb2JpbGUgZGV2aWNlXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiB0aGUgZGV2aWNlIGlzIGEgaU9TIGRldmljZS5cclxuICogQHJldHVybnMgdHJ1ZSBvciBmYWxzZS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0lPUygpOiBib29sZWFuIHtcclxuICAgIGlmICgvaVBob25lfGlQYWR8aVBvZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcclxuICAgICAgICAvLyB0cnVlIGZvciBtb2JpbGUgZGV2aWNlXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgdGhlIFdpbmRvdyBzaXpldmlkZW8gZGltZW5zaW9ucywgdXNlZCBpbnRlcm5hbGx5IGluIHRoZSBORlRXb3JrZXIuXHJcbiAqIEBwYXJhbSB2dyB0aGUgdmlkZW8gd2lkdGhcclxuICogQHBhcmFtIGh2IHRoZSB2aWRlbyBoZWlnaHRcclxuICogQHJldHVybnMgYW4gYXJyYXkgb2YgdmFsdWVzLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFdpbmRvd1NpemUodnc6IG51bWJlciwgdmg6IG51bWJlcik6IEFycmF5PG51bWJlcj4ge1xyXG4gICAgdmFyIHBzY2FsZSA9IDMyMCAvIE1hdGgubWF4KHZ3LCAodmggLyAzKSAqIDQpO1xyXG4gICAgdmFyIHNzY2FsZSA9IGlzTW9iaWxlKCkgPyB3aW5kb3cub3V0ZXJXaWR0aCAvIHZ3IDogMTtcclxuXHJcbiAgICBsZXQgc3cgPSB2dyAqIHNzY2FsZTtcclxuICAgIGxldCBzaCA9IHZoICogc3NjYWxlO1xyXG5cclxuICAgIGxldCB3OiBudW1iZXIgPSB2dyAqIHBzY2FsZTtcclxuICAgIGxldCBoOiBudW1iZXIgPSB2aCAqIHBzY2FsZTtcclxuICAgIGxldCBwdzogbnVtYmVyID0gTWF0aC5tYXgodywgKGggLyAzKSAqIDQpO1xyXG4gICAgbGV0IHBoOiBudW1iZXIgPSBNYXRoLm1heChoLCAodyAvIDQpICogMyk7XHJcbiAgICByZXR1cm4gW3N3LCBzaCwgcHcsIHBoLCB3LCBoXTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCB0aGUgY29uZmlnIGRhdGEgZnJvbSB0aGUganNvbiBmaWxlLCBhbmQgZGlzcGF0Y2ggdGhlIGRhdGEgd2l0aFxyXG4gKiBhbiBldmVudCBsaXN0ZW5lci5cclxuICogQHBhcmFtIGNvbmZpZ0RhdGFcclxuICogQHJldHVybnNcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDb25maWcoY29uZmlnRGF0YTogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChjb25maWdEYXRhKTtcclxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkhUVFAgZXJyb3IsIHN0YXR1cyA9IFwiICsgcmVzcG9uc2Uuc3RhdHVzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcclxuICAgIH1cclxufVxyXG4iLCIvKlxyXG4gKiAgTkZUV29ya2VyLnRzXHJcbiAqICBBUm5mdFxyXG4gKlxyXG4gKiAgVGhpcyBmaWxlIGlzIHBhcnQgb2YgQVJuZnQgLSBXZWJBUktpdC5cclxuICpcclxuICogIEFSbmZ0IGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcclxuICogIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxyXG4gKiAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcclxuICogIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXHJcbiAqXHJcbiAqICBBUm5mdCBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxyXG4gKiAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcclxuICogIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcclxuICogIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxyXG4gKlxyXG4gKiAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXHJcbiAqICBhbG9uZyB3aXRoIEFSbmZ0LiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxyXG4gKlxyXG4gKiAgQXMgYSBzcGVjaWFsIGV4Y2VwdGlvbiwgdGhlIGNvcHlyaWdodCBob2xkZXJzIG9mIHRoaXMgbGlicmFyeSBnaXZlIHlvdVxyXG4gKiAgcGVybWlzc2lvbiB0byBsaW5rIHRoaXMgbGlicmFyeSB3aXRoIGluZGVwZW5kZW50IG1vZHVsZXMgdG8gcHJvZHVjZSBhblxyXG4gKiAgZXhlY3V0YWJsZSwgcmVnYXJkbGVzcyBvZiB0aGUgbGljZW5zZSB0ZXJtcyBvZiB0aGVzZSBpbmRlcGVuZGVudCBtb2R1bGVzLCBhbmQgdG9cclxuICogIGNvcHkgYW5kIGRpc3RyaWJ1dGUgdGhlIHJlc3VsdGluZyBleGVjdXRhYmxlIHVuZGVyIHRlcm1zIG9mIHlvdXIgY2hvaWNlLFxyXG4gKiAgcHJvdmlkZWQgdGhhdCB5b3UgYWxzbyBtZWV0LCBmb3IgZWFjaCBsaW5rZWQgaW5kZXBlbmRlbnQgbW9kdWxlLCB0aGUgdGVybXMgYW5kXHJcbiAqICBjb25kaXRpb25zIG9mIHRoZSBsaWNlbnNlIG9mIHRoYXQgbW9kdWxlLiBBbiBpbmRlcGVuZGVudCBtb2R1bGUgaXMgYSBtb2R1bGVcclxuICogIHdoaWNoIGlzIG5laXRoZXIgZGVyaXZlZCBmcm9tIG5vciBiYXNlZCBvbiB0aGlzIGxpYnJhcnkuIElmIHlvdSBtb2RpZnkgdGhpc1xyXG4gKiAgbGlicmFyeSwgeW91IG1heSBleHRlbmQgdGhpcyBleGNlcHRpb24gdG8geW91ciB2ZXJzaW9uIG9mIHRoZSBsaWJyYXJ5LCBidXQgeW91XHJcbiAqICBhcmUgbm90IG9ibGlnYXRlZCB0byBkbyBzby4gSWYgeW91IGRvIG5vdCB3aXNoIHRvIGRvIHNvLCBkZWxldGUgdGhpcyBleGNlcHRpb25cclxuICogIHN0YXRlbWVudCBmcm9tIHlvdXIgdmVyc2lvbi5cclxuICpcclxuICogIENvcHlyaWdodCAyMDIxIFdlYkFSS2l0LlxyXG4gKlxyXG4gKiAgQXV0aG9yKHMpOiBXYWx0ZXIgUGVyZGFuIEBrYWx3YWx0IGh0dHBzOi8vZ2l0aHViLmNvbS9rYWx3YWx0XHJcbiAqXHJcbiAqL1xyXG5pbXBvcnQgeyBnZXRXaW5kb3dTaXplIH0gZnJvbSBcIi4vdXRpbHMvQVJuZnRVdGlsc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTkZUV29ya2VyIHtcclxuICAgIHByaXZhdGUgd29ya2VyOiBXb3JrZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBtYXJrZXJVUkw6IEFycmF5PHN0cmluZz47XHJcblxyXG4gICAgcHJpdmF0ZSBfcHJvY2Vzc2luZzogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIHByaXZhdGUgdnc6IG51bWJlcjtcclxuICAgIHByaXZhdGUgdmg6IG51bWJlcjtcclxuXHJcbiAgICBwcml2YXRlIHRhcmdldDogRXZlbnRUYXJnZXQ7XHJcblxyXG4gICAgcHJpdmF0ZSB1dWlkOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIG5hbWU6IHN0cmluZztcclxuICAgIHByaXZhdGUgYWRkUGF0aDogc3RyaW5nO1xyXG5cclxuICAgIHByb3RlY3RlZCByZWFkeTogYm9vbGVhbjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBORlRXb3JrZXIgY29uc3RydWN0b3IsIHRvIGNyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgTkZUV29ya2VyIGNsYXNzLlxyXG4gICAgICogQHBhcmFtIG1hcmtlclVSTCB0aGUgbWFya2VyIHVybCBvZiB0aGUgTkZUIG1hcmtlci5cclxuICAgICAqIEBwYXJhbSB3IHRoZSB3aWR0aCBvZiB0aGUgY2FtZXJhLlxyXG4gICAgICogQHBhcmFtIGggdGhlIGhlaWdodCBvZiB0aGUgY2FtZXJhLlxyXG4gICAgICogQHBhcmFtIHV1aWQgdGhlIHV1aWQgb2YgdGhlIG1hcmtlciBhc3NpZ25lZCBieSB0aGUgQVJuZnQgY29uc3RydWN0b3IuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG1hcmtlclVSTDogQXJyYXk8c3RyaW5nPiwgdzogbnVtYmVyLCBoOiBudW1iZXIsIHV1aWQ6IHN0cmluZywgbmFtZTogc3RyaW5nLCBhZGRQYXRoOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLm1hcmtlclVSTCA9IG1hcmtlclVSTDtcclxuICAgICAgICB0aGlzLnZ3ID0gdztcclxuICAgICAgICB0aGlzLnZoID0gaDtcclxuICAgICAgICB0aGlzLnRhcmdldCA9IHdpbmRvdyB8fCBnbG9iYWw7XHJcbiAgICAgICAgdGhpcy51dWlkID0gdXVpZDtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMucmVhZHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmFkZFBhdGggPSBhZGRQYXRoO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgTkZUV29ya2VyIGluc3RhbmNlLCB5b3UgbmVlZCB0byBwcm92aWRlIHRoZSBjYW1lcmFfcGFyYS5kYXQgVXJsLFxyXG4gICAgICogdGhlIEltYWdlRGF0YSBmcm9tIHRoZSB2aWRlbyBzdHJlYW0gYW5kIHRoZSByZW5kZXJVcGRhdGUgYW5kIHRyYWNrVXBkYXRlIGZ1bmN0aW9ucyBmb3IgdGhlIHN0YXRzLlxyXG4gICAgICogQHBhcmFtIGNhbWVyYVVSTFxyXG4gICAgICogQHBhcmFtIGltYWdlRGF0YVxyXG4gICAgICogQHBhcmFtIHJlbmRlclVwZGF0ZVxyXG4gICAgICogQHBhcmFtIHRyYWNrVXBkYXRlXHJcbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIHN1Y2Nlc2Z1bGwuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhc3luYyBpbml0aWFsaXplKGNhbWVyYVVSTDogc3RyaW5nLCByZW5kZXJVcGRhdGU6ICgpID0+IHZvaWQsIHRyYWNrVXBkYXRlOiAoKSA9PiB2b2lkKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICAgICAgdGhpcy53b3JrZXIgPSBuZXcgV29ya2VyKG5ldyBVUkwoJy4vV29ya2VyLnRzJywgaW1wb3J0Lm1ldGEudXJsKSk7O1xyXG4gICAgICAgIGNvbnN0IHdvcmtlciA9IHRoaXMud29ya2VyO1xyXG5cclxuICAgICAgICB0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwidGVybWluYXRlV29ya2VyLVwiICsgdGhpcy5uYW1lLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7IHR5cGU6IFwic3RvcFwiIH0pO1xyXG4gICAgICAgICAgICB3b3JrZXIudGVybWluYXRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubG9hZChjYW1lcmFVUkwsIHJlbmRlclVwZGF0ZSwgdHJhY2tVcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBpcyB0aGUgZnVuY3Rpb24gdGhhdCB3aWxsIHBhc3MgdGhlIHZpZGVvIHN0cmVhbSB0byB0aGUgd29ya2VyLlxyXG4gICAgICogQHBhcmFtIGltYWdlRGF0YSB0aGUgaW1hZ2UgZGF0YSBmcm9tIHRoZSB2aWRlbyBzdHJlYW0uXHJcbiAgICAgKiBAcmV0dXJucyB2b2lkXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBwcm9jZXNzKGltYWdlZGF0YTogSW1hZ2VEYXRhLCBmcmFtZTogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3Byb2Nlc3NpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9wcm9jZXNzaW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy53b3JrZXIucG9zdE1lc3NhZ2UoeyB0eXBlOiBcInByb2Nlc3NcIiwgaW1hZ2VkYXRhLCBmcmFtZSB9LCBbaW1hZ2VkYXRhLmRhdGEuYnVmZmVyXSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2FkIHRoZSByZXNvdXJjZXMgZnJvbSB0aGUgQVJuZnQgaW5zdGFuY2UgaW50byB0aGUgd29ya2VyLlxyXG4gICAgICogQHBhcmFtIGNhbWVyYVVSTCBjYW1lcmFfcGFyYS5kYXQgdXJsXHJcbiAgICAgKiBAcGFyYW0gaW1hZ2VEYXRhIGltYWdlIGRhdGEgZnJvbSB0aGUgdmlkZW8gc3RyZWFtLlxyXG4gICAgICogQHBhcmFtIHJlbmRlclVwZGF0ZSByZW5kZXJVcGRhdGUgZnVuY3Rpb24gZm9yIHRoZSBzdGF0cy5cclxuICAgICAqIEBwYXJhbSB0cmFja1VwZGF0ZSB0cmFja1VwZGF0ZSBmb3IgdGhlIHN0YXRzLlxyXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiBzdWNjZXNmdWxsLlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgbG9hZChjYW1lcmFVUkw6IHN0cmluZywgcmVuZGVyVXBkYXRlOiAoKSA9PiB2b2lkLCB0cmFja1VwZGF0ZTogKCkgPT4gdm9pZCk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgICAgIGxldCBbc3csIHNoLCBwdywgcGgsIHcsIGhdID0gZ2V0V2luZG93U2l6ZSh0aGlzLnZ3LCB0aGlzLnZoKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2V0V2luZG93U2l6ZUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50PG9iamVjdD4oXCJnZXRXaW5kb3dTaXplXCIsIHsgZGV0YWlsOiB7IHN3OiBzdywgc2g6IHNoIH0gfSk7XHJcbiAgICAgICAgdGhpcy50YXJnZXQuZGlzcGF0Y2hFdmVudChzZXRXaW5kb3dTaXplRXZlbnQpO1xyXG5cclxuICAgICAgICB0aGlzLndvcmtlci5wb3N0TWVzc2FnZSh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwibG9hZFwiLFxyXG4gICAgICAgICAgICBwdzogcHcsXHJcbiAgICAgICAgICAgIHBoOiBwaCxcclxuICAgICAgICAgICAgY2FtZXJhX3BhcmE6IGNhbWVyYVVSTCxcclxuICAgICAgICAgICAgbWFya2VyOiB0aGlzLm1hcmtlclVSTCxcclxuICAgICAgICAgICAgYWRkUGF0aDogdGhpcy5hZGRQYXRoLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLndvcmtlci5vbm1lc3NhZ2UgPSAoZXY6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgbXNnID0gZXYuZGF0YTtcclxuICAgICAgICAgICAgc3dpdGNoIChtc2cudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImxvYWRlZFwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb2ogPSBKU09OLnBhcnNlKG1zZy5wcm9qKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByYXRpb1cgPSBwdyAvIHc7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmF0aW9IID0gcGggLyBoO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2pbMF0gKj0gcmF0aW9XO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2pbNF0gKj0gcmF0aW9XO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2pbOF0gKj0gcmF0aW9XO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2pbMTJdICo9IHJhdGlvVztcclxuICAgICAgICAgICAgICAgICAgICBwcm9qWzFdICo9IHJhdGlvSDtcclxuICAgICAgICAgICAgICAgICAgICBwcm9qWzVdICo9IHJhdGlvSDtcclxuICAgICAgICAgICAgICAgICAgICBwcm9qWzldICo9IHJhdGlvSDtcclxuICAgICAgICAgICAgICAgICAgICBwcm9qWzEzXSAqPSByYXRpb0g7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdGlvbk1hdHJpeEV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50PG9iamVjdD4oXCJnZXRQcm9qZWN0aW9uTWF0cml4XCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiB7IHByb2o6IHByb2ogfSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldC5kaXNwYXRjaEV2ZW50KHByb2plY3Rpb25NYXRyaXhFdmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZW5kTG9hZGluZ1wiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1zZy5lbmQgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmluZyBsb2FkZXIgcGFnZSBpZiBwcmVzZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9hZGluZ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvYWRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGVyLnF1ZXJ5U2VsZWN0b3I8SFRNTEVsZW1lbnQ+KFwiLmxvYWRpbmctdGV4dFwiKS5pbm5lclRleHQgPSBcIlN0YXJ0IHRoZSB0cmFja2luZyFcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2FkZXIucGFyZW50RWxlbWVudCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvYWRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkZXIucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChsb2FkZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDIwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50PG9iamVjdD4oXCJuZnRMb2FkZWQtXCIgKyB0aGlzLnV1aWQpKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhc2UgXCJtYXJrZXJJbmZvc1wiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFya2VyID0gbXNnLm1hcmtlcjtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZnRFdmVudCA9IG5ldyBDdXN0b21FdmVudDxvYmplY3Q+KFwiZ2V0TkZURGF0YS1cIiArIHRoaXMudXVpZCArIFwiLVwiICsgdGhpcy5uYW1lLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbDogeyBkcGk6IG1hcmtlci5kcGksIHdpZHRoOiBtYXJrZXIud2lkdGgsIGhlaWdodDogbWFya2VyLmhlaWdodCB9LFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0LmRpc3BhdGNoRXZlbnQobmZ0RXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FzZSBcImZvdW5kXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvdW5kKG1zZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwibm90IGZvdW5kXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvdW5kKG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgdHJhY2tVcGRhdGUoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMud29ya2VyLm9uZXJyb3IgPSAoZXJyOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIldvcmtlciBlcnJvciBmcm9tIE5GVFdvcmtlcjogXCIsIGVycik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBsZXQgcmVuZGVyVSA9ICgpID0+IHtcclxuICAgICAgICAgICAgcmVuZGVyVXBkYXRlKCk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyVSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZW5kZXJVKCk7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGRpc3BhdGNoIGFuIGV2ZW50IGxpc3RlbmVyIGlmIHRoZSBtYXJrZXIgaXMgbG9zdCBvciB0aGUgbWF0cml4IG9mIHRoZSBtYXJrZXJcclxuICAgICAqIGlmIGZvdW5kLlxyXG4gICAgICogQHBhcmFtIG1zZyBtZXNzYWdlIGZyb20gdGhlIHdvcmtlci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGZvdW5kKG1zZzogYW55KSB7XHJcbiAgICAgICAgbGV0IHdvcmxkOiBGbG9hdDY0QXJyYXk7XHJcbiAgICAgICAgaWYgKCFtc2cpIHtcclxuICAgICAgICAgICAgLy8gY29tbWVudGluZyBvdXQgdGhpcyByb3V0aW5lIHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2ViYXJraXQvQVJuZnQvcHVsbC8xODQjaXNzdWVjb21tZW50LTg1MzQwMDkwM1xyXG4gICAgICAgICAgICAvL2lmICh3b3JsZCkge1xyXG4gICAgICAgICAgICB3b3JsZCA9IG51bGw7XHJcbiAgICAgICAgICAgIGNvbnN0IG5mdFRyYWNraW5nTG9zdEV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50PG9iamVjdD4oXCJuZnRUcmFja2luZ0xvc3QtXCIgKyB0aGlzLnV1aWQgKyBcIi1cIiArIHRoaXMubmFtZSwge1xyXG4gICAgICAgICAgICAgICAgZGV0YWlsOiB7IG5hbWU6IHRoaXMubmFtZSB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy50YXJnZXQuZGlzcGF0Y2hFdmVudChuZnRUcmFja2luZ0xvc3RFdmVudCk7XHJcbiAgICAgICAgICAgIC8vfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHdvcmxkID0gSlNPTi5wYXJzZShtc2cubWF0cml4R0xfUkgpO1xyXG4gICAgICAgICAgICBjb25zdCBtYXRyaXhHTHJoRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQ8b2JqZWN0PihcImdldE1hdHJpeEdMX1JILVwiICsgdGhpcy51dWlkICsgXCItXCIgKyB0aGlzLm5hbWUsIHtcclxuICAgICAgICAgICAgICAgIGRldGFpbDogeyBtYXRyaXhHTF9SSDogd29ybGQsIG5hbWU6IHRoaXMubmFtZSB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy50YXJnZXQuZGlzcGF0Y2hFdmVudChtYXRyaXhHTHJoRXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNSZWFkeSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZWFkeTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXRVdWlkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudXVpZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0TmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldE1hcmtlclVybCgpOiBBcnJheTxzdHJpbmc+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tYXJrZXJVUkw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEV2ZW50VGFyZ2V0KCk6IEV2ZW50VGFyZ2V0IHtcclxuICAgICAgICByZXR1cm4gdGhpcy50YXJnZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7fVxyXG59XHJcblxyXG4vL2V4cG9ydCBkZWZhdWx0IG51bGwgYXMgYW55O1xyXG4iLCJjb25zdCByYW5kb21VVUlEID0gdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLnJhbmRvbVVVSUQgJiYgY3J5cHRvLnJhbmRvbVVVSUQuYmluZChjcnlwdG8pO1xuZXhwb3J0IGRlZmF1bHQge1xuICByYW5kb21VVUlEXG59OyIsIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuIEluIHRoZSBicm93c2VyIHdlIHRoZXJlZm9yZVxuLy8gcmVxdWlyZSB0aGUgY3J5cHRvIEFQSSBhbmQgZG8gbm90IHN1cHBvcnQgYnVpbHQtaW4gZmFsbGJhY2sgdG8gbG93ZXIgcXVhbGl0eSByYW5kb20gbnVtYmVyXG4vLyBnZW5lcmF0b3JzIChsaWtlIE1hdGgucmFuZG9tKCkpLlxubGV0IGdldFJhbmRvbVZhbHVlcztcbmNvbnN0IHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcm5nKCkge1xuICAvLyBsYXp5IGxvYWQgc28gdGhhdCBlbnZpcm9ubWVudHMgdGhhdCBuZWVkIHRvIHBvbHlmaWxsIGhhdmUgYSBjaGFuY2UgdG8gZG8gc29cbiAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAvLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG8gaW1wbGVtZW50YXRpb24uXG4gICAgZ2V0UmFuZG9tVmFsdWVzID0gdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKTtcblxuICAgIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyeXB0by5nZXRSYW5kb21WYWx1ZXMoKSBub3Qgc3VwcG9ydGVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkI2dldHJhbmRvbXZhbHVlcy1ub3Qtc3VwcG9ydGVkJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG59IiwiaW1wb3J0IHZhbGlkYXRlIGZyb20gJy4vdmFsaWRhdGUuanMnO1xuLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG5cbmNvbnN0IGJ5dGVUb0hleCA9IFtdO1xuXG5mb3IgKGxldCBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleC5wdXNoKChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zbGljZSgxKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bnNhZmVTdHJpbmdpZnkoYXJyLCBvZmZzZXQgPSAwKSB7XG4gIC8vIE5vdGU6IEJlIGNhcmVmdWwgZWRpdGluZyB0aGlzIGNvZGUhICBJdCdzIGJlZW4gdHVuZWQgZm9yIHBlcmZvcm1hbmNlXG4gIC8vIGFuZCB3b3JrcyBpbiB3YXlzIHlvdSBtYXkgbm90IGV4cGVjdC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZC9wdWxsLzQzNFxuICByZXR1cm4gKGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgM11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDVdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA3XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDhdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxM11dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNV1dKS50b0xvd2VyQ2FzZSgpO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdpZnkoYXJyLCBvZmZzZXQgPSAwKSB7XG4gIGNvbnN0IHV1aWQgPSB1bnNhZmVTdHJpbmdpZnkoYXJyLCBvZmZzZXQpOyAvLyBDb25zaXN0ZW5jeSBjaGVjayBmb3IgdmFsaWQgVVVJRC4gIElmIHRoaXMgdGhyb3dzLCBpdCdzIGxpa2VseSBkdWUgdG8gb25lXG4gIC8vIG9mIHRoZSBmb2xsb3dpbmc6XG4gIC8vIC0gT25lIG9yIG1vcmUgaW5wdXQgYXJyYXkgdmFsdWVzIGRvbid0IG1hcCB0byBhIGhleCBvY3RldCAobGVhZGluZyB0b1xuICAvLyBcInVuZGVmaW5lZFwiIGluIHRoZSB1dWlkKVxuICAvLyAtIEludmFsaWQgaW5wdXQgdmFsdWVzIGZvciB0aGUgUkZDIGB2ZXJzaW9uYCBvciBgdmFyaWFudGAgZmllbGRzXG5cbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignU3RyaW5naWZpZWQgVVVJRCBpcyBpbnZhbGlkJyk7XG4gIH1cblxuICByZXR1cm4gdXVpZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc3RyaW5naWZ5OyIsImltcG9ydCBuYXRpdmUgZnJvbSAnLi9uYXRpdmUuanMnO1xuaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgeyB1bnNhZmVTdHJpbmdpZnkgfSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5cbmZ1bmN0aW9uIHY0KG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIGlmIChuYXRpdmUucmFuZG9tVVVJRCAmJiAhYnVmICYmICFvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5hdGl2ZS5yYW5kb21VVUlEKCk7XG4gIH1cblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgY29uc3Qgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7IC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcblxuICBybmRzWzZdID0gcm5kc1s2XSAmIDB4MGYgfCAweDQwO1xuICBybmRzWzhdID0gcm5kc1s4XSAmIDB4M2YgfCAweDgwOyAvLyBDb3B5IGJ5dGVzIHRvIGJ1ZmZlciwgaWYgcHJvdmlkZWRcblxuICBpZiAoYnVmKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHJuZHNbaV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGJ1ZjtcbiAgfVxuXG4gIHJldHVybiB1bnNhZmVTdHJpbmdpZnkocm5kcyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHY0OyIsIi8qXHJcbiAqICBBUm5mdC50c1xyXG4gKiAgQVJuZnRcclxuICpcclxuICogIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIEFSbmZ0IC0gV2ViQVJLaXQuXHJcbiAqXHJcbiAqICBBUm5mdCBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XHJcbiAqICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcclxuICogIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXHJcbiAqICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxyXG4gKlxyXG4gKiAgQVJuZnQgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcclxuICogIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXHJcbiAqICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXHJcbiAqICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cclxuICpcclxuICogIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxyXG4gKiAgYWxvbmcgd2l0aCBBUm5mdC4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cclxuICpcclxuICogIEFzIGEgc3BlY2lhbCBleGNlcHRpb24sIHRoZSBjb3B5cmlnaHQgaG9sZGVycyBvZiB0aGlzIGxpYnJhcnkgZ2l2ZSB5b3VcclxuICogIHBlcm1pc3Npb24gdG8gbGluayB0aGlzIGxpYnJhcnkgd2l0aCBpbmRlcGVuZGVudCBtb2R1bGVzIHRvIHByb2R1Y2UgYW5cclxuICogIGV4ZWN1dGFibGUsIHJlZ2FyZGxlc3Mgb2YgdGhlIGxpY2Vuc2UgdGVybXMgb2YgdGhlc2UgaW5kZXBlbmRlbnQgbW9kdWxlcywgYW5kIHRvXHJcbiAqICBjb3B5IGFuZCBkaXN0cmlidXRlIHRoZSByZXN1bHRpbmcgZXhlY3V0YWJsZSB1bmRlciB0ZXJtcyBvZiB5b3VyIGNob2ljZSxcclxuICogIHByb3ZpZGVkIHRoYXQgeW91IGFsc28gbWVldCwgZm9yIGVhY2ggbGlua2VkIGluZGVwZW5kZW50IG1vZHVsZSwgdGhlIHRlcm1zIGFuZFxyXG4gKiAgY29uZGl0aW9ucyBvZiB0aGUgbGljZW5zZSBvZiB0aGF0IG1vZHVsZS4gQW4gaW5kZXBlbmRlbnQgbW9kdWxlIGlzIGEgbW9kdWxlXHJcbiAqICB3aGljaCBpcyBuZWl0aGVyIGRlcml2ZWQgZnJvbSBub3IgYmFzZWQgb24gdGhpcyBsaWJyYXJ5LiBJZiB5b3UgbW9kaWZ5IHRoaXNcclxuICogIGxpYnJhcnksIHlvdSBtYXkgZXh0ZW5kIHRoaXMgZXhjZXB0aW9uIHRvIHlvdXIgdmVyc2lvbiBvZiB0aGUgbGlicmFyeSwgYnV0IHlvdVxyXG4gKiAgYXJlIG5vdCBvYmxpZ2F0ZWQgdG8gZG8gc28uIElmIHlvdSBkbyBub3Qgd2lzaCB0byBkbyBzbywgZGVsZXRlIHRoaXMgZXhjZXB0aW9uXHJcbiAqICBzdGF0ZW1lbnQgZnJvbSB5b3VyIHZlcnNpb24uXHJcbiAqXHJcbiAqICBDb3B5cmlnaHQgMjAyMSBXZWJBUktpdC5cclxuICpcclxuICogIEF1dGhvcihzKTogV2FsdGVyIFBlcmRhbiBAa2Fsd2FsdCBodHRwczovL2dpdGh1Yi5jb20va2Fsd2FsdFxyXG4gKlxyXG4gKi9cclxuaW1wb3J0IENvbnRhaW5lciBmcm9tIFwiLi91dGlscy9odG1sL0NvbnRhaW5lclwiO1xyXG5pbXBvcnQgeyBDb25maWdEYXRhIH0gZnJvbSBcIi4vY29uZmlnL0NvbmZpZ0RhdGFcIjtcclxuaW1wb3J0IFN0YXRzIGZyb20gXCJzdGF0cy5qc1wiO1xyXG5pbXBvcnQgeyBDYW1lcmFWaWV3UmVuZGVyZXIsIElDYW1lcmFWaWV3UmVuZGVyZXIgfSBmcm9tIFwiLi9yZW5kZXJlcnMvQ2FtZXJhVmlld1JlbmRlcmVyXCI7XHJcbmltcG9ydCB7IGdldENvbmZpZyB9IGZyb20gXCIuL3V0aWxzL0FSbmZ0VXRpbHNcIjtcclxuaW1wb3J0IE5GVFdvcmtlciBmcm9tIFwiLi9ORlRXb3JrZXJcIjtcclxuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSBcInV1aWRcIjtcclxuaW1wb3J0IHBhY2thZ2VKc29uIGZyb20gXCIuLi9wYWNrYWdlLmpzb25cIjtcclxuY29uc3QgeyB2ZXJzaW9uIH0gPSBwYWNrYWdlSnNvbjtcclxuXHJcbi8qKlxyXG4gKiBCYXNpYyBpbnRlcmZhY2UgZm9yIGFuIEVudGl0eS5cclxuICogQHBhcmFtIG5hbWUgdGhlIG5hbWUgb2YgIGh0ZSBFbnRpdHlcclxuICogQHBhcmFtIG1hcmtlclVybCB0aGUgbWFya2VyIHVybCBhc3Njb2NpYXRlZFxyXG4gKi9cclxuaW50ZXJmYWNlIElFbnRpdHkge1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gICAgbWFya2VyVXJsOiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJSW5pdENvbmZpZyBpbnRlcmZhY2UgZm9yIHRoZSBiYXNlIGNvbmZpZ3VyYXRpb24uXHJcbiAqIEBwYXJhbSB3aWR0aCB0aGUgd2lkdGggaW4gcGl4ZWxzIG9mIHRoZSB2aWRlbyBjYW1lcmEuXHJcbiAqIEBwYXJhbSBoZWlnaHQgdGhlIGhlaWdodCBpbiBwaXhlbHMgb2YgdGhlIHZpZGVvIGNhbWVyYS5cclxuICogQHBhcmFtIGNvbmZpZ1VybCB0aGUgdXJsIG9mIHRoZSBjb25maWcuanNvbiBmaWxlLlxyXG4gKiBAcGFyYW0gc3RhdHMgdHJ1ZSBpZiB5b3Ugd2FudCB0aGUgc3RhdHMuXHJcbiAqIEBwYXJhbSBhdXRvVXBkYXRlIGZhbHNlIGlmIHlvdSB3YW50IHRvIG1haW50YWluIGl0IHlvdXJzZWxmXHJcbiAqL1xyXG5pbnRlcmZhY2UgSUluaXRDb25maWcge1xyXG4gICAgLyoqIHRoZSB3aWR0aCBpbiBwaXhlbHMgb2YgdGhlIHZpZGVvIGNhbWVyYS4gKi9cclxuICAgIHdpZHRoOiBudW1iZXI7XHJcbiAgICAvKiogdGhlIGhlaWdodCBpbiBwaXhlbHMgb2YgdGhlIHZpZGVvIGNhbWVyYS4gKi9cclxuICAgIGhlaWdodDogbnVtYmVyO1xyXG4gICAgLyoqIHRoZSB1cmwgb2YgdGhlIGNvbmZpZy5qc29uIGZpbGUuICovXHJcbiAgICBjb25maWdVcmw6IHN0cmluZztcclxuICAgIC8qKiB0cnVlIGlmIHlvdSB3YW50IHRoZSBzdGF0cy4gKi9cclxuICAgIHN0YXRzPzogYm9vbGVhbjtcclxuICAgIC8qKiBmYWxzZSBpZiB5b3Ugd2FudCB0byBtYWludGFpbiBpdCB5b3Vyc2VsZiAqL1xyXG4gICAgYXV0b1VwZGF0ZT86IGJvb2xlYW47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJTmFtZUluaXRDb25maWcgZXh0ZW5kcyBJSW5pdENvbmZpZyBhbmQgaXQgaXMgdXNlZCBieSB0aGUgaW5pdFdpdGhDb25maWcgbWV0aG9kLlxyXG4gKiBAcGFyYW0gbWFya2VyVXJscyBhbiBBcnJheSBvZiBBcnJheSBvZiBtYXJrZXIgdXJscy5cclxuICogQHBhcmFtIG5hbWVzIGFuIEFycmF5IG9mIEFycmF5IG9mIGVudGl0eSBuYW1lcy5cclxuICovXHJcbmludGVyZmFjZSBJTmFtZUluaXRDb25maWcgZXh0ZW5kcyBJSW5pdENvbmZpZyB7XHJcbiAgICAvKiogdGhlIEFycmF5IG9mIHVybCBvZiB0aGUgbWFya2VycyAod2l0aG91dCB0aGUgZXh0ZW5zaW9uKSAqL1xyXG4gICAgbWFya2VyVXJsczogQXJyYXk8QXJyYXk8c3RyaW5nPj47XHJcbiAgICAvKiogdGhlIG5hbWVzIG9mIHRoZSBtYXJrZXJzICovXHJcbiAgICBuYW1lczogQXJyYXk8QXJyYXk8c3RyaW5nPj47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJRW50aXR5SW5pdENvbmZpZyB1c2VkIGJ5IHRoZSBpbml0V2l0aEVudGl0aWVzIG1ldGhvZFxyXG4gKiBAcGFyYW0gZW50aXRpZXMgYW4gQXJyYXkgb2YgRW50aXR5XHJcbiAqL1xyXG5pbnRlcmZhY2UgSUVudGl0eUluaXRDb25maWcgZXh0ZW5kcyBJSW5pdENvbmZpZyB7XHJcbiAgICAvKiogdGhlIEFycmF5IG9mIEVudGl0eS4gKi9cclxuICAgIGVudGl0aWVzOiBJRW50aXR5W107XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJVmlld3MgaXMgdXNlZCBpbnRlcm5hbGx5IGJ5IEFSbmZ0XHJcbiAqL1xyXG5pbnRlcmZhY2UgSVZpZXdzIHtcclxuICAgIGNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgdmlkZW86IEhUTUxWaWRlb0VsZW1lbnQ7XHJcbiAgICBsb2FkaW5nPzogSFRNTEVsZW1lbnQ7XHJcbiAgICBzdGF0cz86IEhUTUxFbGVtZW50O1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBUm5mdCB7XHJcbiAgICBwdWJsaWMgY2FtZXJhVmlldzogQ2FtZXJhVmlld1JlbmRlcmVyO1xyXG4gICAgcHVibGljIGFwcERhdGE6IENvbmZpZ0RhdGE7XHJcbiAgICBwdWJsaWMgYWRkUGF0aDogc3RyaW5nO1xyXG4gICAgcHVibGljIHdpZHRoOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgaGVpZ2h0OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgY29uZmlnVXJsOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgbWFya2VyVXJsOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgY2FtRGF0YTogc3RyaW5nO1xyXG4gICAgcHVibGljIGF1dG9VcGRhdGU6IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgcHJpdmF0ZSBjb250cm9sbGVyczogTkZUV29ya2VyW107XHJcbiAgICBwcml2YXRlIHN0YXRpYyBlbnRpdGllczogSUVudGl0eVtdO1xyXG4gICAgcHJpdmF0ZSB0YXJnZXQ6IEV2ZW50VGFyZ2V0O1xyXG4gICAgcHJpdmF0ZSB1dWlkOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIHZlcnNpb246IHN0cmluZztcclxuICAgIHByaXZhdGUgaW5pdGlhbGl6ZWQ6IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIF92aWV3czogSVZpZXdzO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlICoqQVJuZnQqKiBjb25zdHJ1Y3RvciB0byBjcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIEFSbmZ0IGNsYXNzLlxyXG4gICAgICogRXhhbXBsZSBjb2RlOlxyXG4gICAgICogYGBgamF2YXNjcmlwdFxyXG4gICAgICogY29uc3QgbmZ0ID0gbmV3IEFSbmZ0KDY0MCwgNDgwLCAnY29uZmlnLmpzb24nKTtcclxuICAgICAqIGBgYFxyXG4gICAgICogQHBhcmFtIHdpZHRoIChudW1iZXIpIHRoZSB3aWR0aCBpbiBwaXhlbHMgb2YgdGhlIHZpZGVvIGNhbWVyYS5cclxuICAgICAqIEBwYXJhbSBoZWlnaHQgKG51bWJlcikgdGhlIGhlaWdodCBpbiBwaXhlbHMgb2YgdGhlIHZpZGVvIGNhbWVyYS5cclxuICAgICAqIEBwYXJhbSBjb25maWdVcmwgKHN0cmluZykgdGhlIHVybCBvZiB0aGUgY29uZmlnLmpzb24gZmlsZVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgY29uZmlnVXJsOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5jb25maWdVcmwgPSBjb25maWdVcmw7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB3aW5kb3cgfHwgZ2xvYmFsO1xyXG4gICAgICAgIHRoaXMudXVpZCA9IHV1aWR2NCgpO1xyXG4gICAgICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb247XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJBUm5mdCBcIiwgdGhpcy52ZXJzaW9uKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBpbml0IGZ1bmN0aW9uIGxldCBkZWZpbmUgdGhlIGJhc2ljIHNldC11cCBmb3IgdGhlIE5GVCBtYXJrZXIuXHJcbiAgICAgKiBJbnRlcm5hbGx5IHVzZSB0aGUgaW5pdGlhbGl6ZSBmdW5jdGlvbiwgdGhhdCBpcyByZXNwb25zaWJsZSB0byBsb2FkIGFsbCB0aGUgcmVzb3VyY2VzLlxyXG4gICAgICogQHBhcmFtIHdpZHRoIChudW1iZXIpIHRoZSB3aWR0aCBpbiBwaXhlbHMgb2YgdGhlIHZpZGVvIGNhbWVyYS5cclxuICAgICAqIEBwYXJhbSBoZWlnaHQgKG51bWJlcikgdGhlIGhlaWdodCBpbiBwaXhlbHMgb2YgdGhlIHZpZGVvIGNhbWVyYS5cclxuICAgICAqIEBwYXJhbSBtYXJrZXJVcmxzIChBcnJheTxzdHJpbmc+KSB0aGUgQXJyYXkgb2YgdXJsIG9mIHRoZSBtYXJrZXJzICh3aXRob3V0IHRoZSBleHRlbnNpb24pXHJcbiAgICAgKiBAcGFyYW0gbmFtZXMgdGhlIG5hbWVzIG9mIHRoZSBtYXJrZXJzXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnVXJsIChzdHJpbmcpIHRoZSB1cmwgb2YgdGhlIGNvbmZpZy5qc29uIGZpbGVcclxuICAgICAqIEBwYXJhbSBzdGF0cyAoYm9vbGVhbikgdHJ1ZSBpZiB5b3Ugd2FudCB0aGUgc3RhdHMuXHJcbiAgICAgKiBAcmV0dXJucyAob2JqZWN0KSB0aGUgbmZ0IG9iamVjdC5cclxuICAgICAqL1xyXG5cclxuICAgIHN0YXRpYyBhc3luYyBpbml0KFxyXG4gICAgICAgIHdpZHRoOiBudW1iZXIsXHJcbiAgICAgICAgaGVpZ2h0OiBudW1iZXIsXHJcbiAgICAgICAgbWFya2VyVXJsczogQXJyYXk8QXJyYXk8c3RyaW5nPj4sXHJcbiAgICAgICAgbmFtZXM6IEFycmF5PEFycmF5PHN0cmluZz4+LFxyXG4gICAgICAgIGNvbmZpZ1VybDogc3RyaW5nLFxyXG4gICAgICAgIHN0YXRzOiBib29sZWFuXHJcbiAgICApOiBQcm9taXNlPG9iamVjdD4ge1xyXG4gICAgICAgIHJldHVybiBBUm5mdC5pbml0V2l0aENvbmZpZyh7IHdpZHRoLCBoZWlnaHQsIG1hcmtlclVybHMsIG5hbWVzLCBjb25maWdVcmwsIHN0YXRzIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGluaXRXaXRoRW50aXRpZXMgZnVuY3Rpb24gbGV0IHNldC11cCB0aGUgTkZUIG1hcmtlcnMgd2l0aCBhIEVudGl0eSBvYmplY3QuXHJcbiAgICAgKiBXZSBzZXQgYW4gQXJyYXkgb2YgRW50aXR5IGZvciBtdWx0aXBsZSBORlQgbWFya2Vycy4gQW4gRW50aXR5IGlzIGNvbXBvc2VkIG9mIGEgdW5pcXVlIG5hbWUgYW5kXHJcbiAgICAgKiBhIG1hcmtlclVybC5cclxuICAgICAqIEludGVybmFsbHkgdXNlIHRoZSBpbml0aWFsaXplIGZ1bmN0aW9uLCB0aGF0IGlzIHJlc3BvbnNpYmxlIHRvIGxvYWQgYWxsIHRoZSByZXNvdXJjZXMuXHJcbiAgICAgKiBAcGFyYW0gd2lkdGggKG51bWJlcikgdGhlIHdpZHRoIGluIHBpeGVscyBvZiB0aGUgdmlkZW8gY2FtZXJhLlxyXG4gICAgICogQHBhcmFtIGhlaWdodCAobnVtYmVyKSB0aGUgaGVpZ2h0IGluIHBpeGVscyBvZiB0aGUgdmlkZW8gY2FtZXJhLlxyXG4gICAgICogQHBhcmFtIGVudGl0aWVzIChFbnRpdHlbXSkgdGhlIEFycmF5IG9mIEVudGl0eVxyXG4gICAgICogQHBhcmFtIGNvbmZpZ1VybCAoc3RyaW5nKSB0aGUgdXJsIG9mIHRoZSBjb25maWcuanNvbiBmaWxlXHJcbiAgICAgKiBAcGFyYW0gc3RhdHMgKGJvb2xlYW4pIHRydWUgaWYgeW91IHdhbnQgdGhlIHN0YXRzLlxyXG4gICAgICogQHJldHVybnMgKG9iamVjdCkgdGhlIG5mdCBvYmplY3QuXHJcbiAgICAgKi9cclxuXHJcbiAgICBzdGF0aWMgYXN5bmMgaW5pdFdpdGhFbnRpdGllcyhcclxuICAgICAgICB3aWR0aDogbnVtYmVyLFxyXG4gICAgICAgIGhlaWdodDogbnVtYmVyLFxyXG4gICAgICAgIGVudGl0aWVzOiBBcnJheTxJRW50aXR5PixcclxuICAgICAgICBjb25maWdVcmw6IHN0cmluZyxcclxuICAgICAgICBzdGF0czogYm9vbGVhblxyXG4gICAgKTogUHJvbWlzZTxvYmplY3Q+IHtcclxuICAgICAgICByZXR1cm4gQVJuZnQuaW5pdFdpdGhDb25maWcoeyB3aWR0aCwgaGVpZ2h0LCBlbnRpdGllcywgY29uZmlnVXJsLCBzdGF0cyB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYXN5bmMgaW5pdFdpdGhDb25maWcocGFyYW1zOiBJTmFtZUluaXRDb25maWcgfCBJRW50aXR5SW5pdENvbmZpZykge1xyXG4gICAgICAgIGNvbnN0IF9hcm5mdCA9IG5ldyBBUm5mdChwYXJhbXMud2lkdGgsIHBhcmFtcy5oZWlnaHQsIHBhcmFtcy5jb25maWdVcmwpO1xyXG4gICAgICAgIGlmIChwYXJhbXMuYXV0b1VwZGF0ZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIF9hcm5mdC5hdXRvVXBkYXRlID0gcGFyYW1zLmF1dG9VcGRhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBtYXJrZXJVcmxzOiBzdHJpbmdbXVtdID0gW107XHJcbiAgICAgICAgICAgIGxldCBuYW1lcztcclxuICAgICAgICAgICAgY29uc3QgbmFtZVBhcmFtcyA9IHBhcmFtcyBhcyBJTmFtZUluaXRDb25maWc7XHJcbiAgICAgICAgICAgIGNvbnN0IGVudGl0eVBhcmFtcyA9IHBhcmFtcyBhcyBJRW50aXR5SW5pdENvbmZpZztcclxuICAgICAgICAgICAgaWYgKG5hbWVQYXJhbXMubWFya2VyVXJscyAhPSBudWxsICYmIG5hbWVQYXJhbXMubmFtZXMgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVudGl0eVBhcmFtcy5lbnRpdGllcyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyVXJscyA9IG5hbWVQYXJhbXMubWFya2VyVXJscztcclxuICAgICAgICAgICAgICAgICAgICBuYW1lcyA9IG5hbWVQYXJhbXMubmFtZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnRpdGllcyA9IG5hbWVzLm1hcChmdW5jdGlvbiAodiwgaywgYSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBuYW1lOiB2WzBdLCBtYXJrZXJVcmw6IG1hcmtlclVybHNba11bMF0gfTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChlbnRpdHlQYXJhbXMuZW50aXRpZXMgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbnRpdGllcyA9IGVudGl0eVBhcmFtcy5lbnRpdGllcztcclxuICAgICAgICAgICAgICAgIG1hcmtlclVybHMgPSB0aGlzLmVudGl0aWVzLm1hcCgoeCkgPT4gW3gubWFya2VyVXJsXSk7XHJcbiAgICAgICAgICAgICAgICBuYW1lcyA9IHRoaXMuZW50aXRpZXMubWFwKCh4KSA9PiBbeC5uYW1lXSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBcIm1hcmtlclVybHMgb3IgZW50aXRpZXMgY2FuJ3QgYmUgdW5kZWZpbmVkXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IF9hcm5mdC5faW5pdGlhbGl6ZShtYXJrZXJVcmxzLCBuYW1lcywgcGFyYW1zLnN0YXRzKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBpZiAoKGVycm9yIGFzIHsgY29kZTogc3RyaW5nIH0pLmNvZGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFVzZWQgaW50ZXJuYWxseSBieSB0aGUgaW5pdCBzdGF0aWMgZnVuY3Rpb24uIEl0IGNyZWF0ZSB0aGUgaHRtbCBDb250YWluZXIsXHJcbiAgICAgKiBzdGF0cywgaW5pdGlhbGl6ZSB0aGUgQ2FtZXJhUmVuZGVyZXIgZm9yIHRoZSB2aWRlbyBzdHJlYW0sICBhbmQgdGhlIE5GVFdvcmtlci5cclxuICAgICAqIEBwYXJhbSBtYXJrZXJVcmxzIHRoZSB1cmwgQXJyYXkgb2YgdGhlIG1hcmtlcnMuXHJcbiAgICAgKiBAcGFyYW0gbmFtZXMgdGhlIG5hbWVzIG9mIHRoZSBtYXJrZXJzXHJcbiAgICAgKiBAcGFyYW0gc3RhdHMgY2hvb3NlIGlmIHlvdSB3YW50IHRoZSBzdGF0cy5cclxuICAgICAqIEByZXR1cm5zIHRoZSBBUm5mdCBvYmplY3QuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYXN5bmMgX2luaXRpYWxpemUoXHJcbiAgICAgICAgbWFya2VyVXJsczogQXJyYXk8QXJyYXk8c3RyaW5nPj4sXHJcbiAgICAgICAgbmFtZXM6IEFycmF5PEFycmF5PHN0cmluZz4+LFxyXG4gICAgICAgIHN0YXRzOiBib29sZWFuXHJcbiAgICApOiBQcm9taXNlPHRoaXM+IHtcclxuICAgICAgICBjb25zdCBpbml0RXZlbnQgPSBuZXcgRXZlbnQoXCJpbml0QVJuZnRcIik7XHJcbiAgICAgICAgdGhpcy50YXJnZXQuZGlzcGF0Y2hFdmVudChpbml0RXZlbnQpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgICBcIkFSbmZ0IGluaXQoKSAlY3N0YXJ0Li4uXCIsXHJcbiAgICAgICAgICAgIFwiY29sb3I6IHllbGxvdzsgYmFja2dyb3VuZC1jb2xvcjogYmx1ZTsgYm9yZGVyLXJhZGl1czogNHB4OyBwYWRkaW5nOiAycHhcIlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGxldCBzdGF0c01haW46IGFueSwgc3RhdHNXb3JrZXI6IGFueTtcclxuICAgICAgICBnZXRDb25maWcodGhpcy5jb25maWdVcmwpXHJcbiAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwcERhdGEgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRQYXRoID0gZGF0YS5hZGRQYXRoO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHZpZXdzXHJcbiAgICAgICAgICAgICAgICB0aGlzLl92aWV3cyA9IENvbnRhaW5lci5jcmVhdGVDb250YWluZXIodGhpcy5hcHBEYXRhKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdzLmxvYWRpbmcgPSBDb250YWluZXIuY3JlYXRlTG9hZGluZyh0aGlzLmFwcERhdGEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmlld3Muc3RhdHMgPSBDb250YWluZXIuY3JlYXRlU3RhdHModGhpcy5hcHBEYXRhLnN0YXRzLmNyZWF0ZUh0bWwsIHRoaXMuYXBwRGF0YSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHNNYWluID0gbmV3IFN0YXRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHNNYWluLnNob3dQYW5lbCgwKTsgLy8gMDogZnBzLCAxOiBtcywgMjogbWIsIDMrOiBjdXN0b21cclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YXRzMVwiKS5hcHBlbmRDaGlsZChzdGF0c01haW4uZG9tKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0c1dvcmtlciA9IG5ldyBTdGF0cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRzV29ya2VyLnNob3dQYW5lbCgwKTsgLy8gMDogZnBzLCAxOiBtcywgMjogbWIsIDMrOiBjdXN0b21cclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YXRzMlwiKS5hcHBlbmRDaGlsZChzdGF0c1dvcmtlci5kb20pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBjb250YWluZXJFdmVudCA9IG5ldyBFdmVudChcImNvbnRhaW5lckV2ZW50XCIpO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChjb250YWluZXJFdmVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVycyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFWaWV3ID0gbmV3IENhbWVyYVZpZXdSZW5kZXJlcih0aGlzLl92aWV3cy52aWRlbyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jYW1lcmFWaWV3LmluaXRpYWxpemUodGhpcy5hcHBEYXRhLnZpZGVvU2V0dGluZ3MpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZW5kZXJVcGRhdGUgPSAoKSA9PiAoc3RhdHMgPyBzdGF0c01haW4udXBkYXRlKCkgOiBudWxsKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRyYWNrVXBkYXRlID0gKCkgPT4gKHN0YXRzID8gc3RhdHNXb3JrZXIudXBkYXRlKCkgOiBudWxsKTtcclxuICAgICAgICAgICAgICAgIG1hcmtlclVybHMuZm9yRWFjaCgobWFya2VyVXJsOiBBcnJheTxzdHJpbmc+LCBpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVycy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgTkZUV29ya2VyKG1hcmtlclVybCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMudXVpZCwgbmFtZXNbaW5kZXhdWzBdLCB0aGlzLmFkZFBhdGgpXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXJzW2luZGV4XS5pbml0aWFsaXplKHRoaXMuYXBwRGF0YS5jYW1lcmFQYXJhLCByZW5kZXJVcGRhdGUsIHRyYWNrVXBkYXRlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yOiBhbnkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibmZ0TG9hZGVkLVwiICsgdGhpcy51dWlkLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5mdFdvcmtlcnNOb3RSZWFkeSA9IHRoaXMuY29udHJvbGxlcnMuZmlsdGVyKChuZnRXb3JrZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZnRXb3JrZXIuaXNSZWFkeSgpID09PSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAobmZ0V29ya2Vyc05vdFJlYWR5Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQ8b2JqZWN0PihcIkFSbmZ0SXNSZWFkeVwiKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGV0IF91cGRhdGUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmluaXRpYWxpemVkICYmIHRoaXMuYXV0b1VwZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVycy5mb3JFYWNoKChjb250cm9sbGVyKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIucHJvY2Vzcyh0aGlzLmNhbWVyYVZpZXcuaW1hZ2UsIHRoaXMuY2FtZXJhVmlldy5mcmFtZSlcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKF91cGRhdGUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3VwZGF0ZSgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXNlZCBmb3IgYSBjdXN0b20gaW5pdGlhbGl6YXRpb24gb2YgdGhlIGNhbWVyYSBhbmQgbWVkaWFTdHJlYW0uIEl0IGNyZWF0ZSB0aGUgaHRtbCBDb250YWluZXIsXHJcbiAgICAgKiBzdGF0cywgaW5pdGlhbGl6ZSB0aGUgQ2FtZXJhUmVuZGVyZXIgZm9yIHRoZSB2aWRlbyBzdHJlYW0sICBhbmQgdGhlIE5GVFdvcmtlci4gWW91IG11c3QgcHJvdmlkZVxyXG4gICAgICogeW91ciBvd24gY2FtZXJhVmlldyBiYXNlZCBvbiB0aGUgSUNhbWVyYVZpZXdSZW5kZXJlciBpbnRlcmZhY2UuXHJcbiAgICAgKiBAcGFyYW0gbWFya2VyVXJscyB0aGUgdXJsIEFycmF5IG9mIHRoZSBtYXJrZXJzLlxyXG4gICAgICogQHBhcmFtIG5hbWVzIHRoZSBuYW1lcyBvZiB0aGUgbWFya2Vycy5cclxuICAgICAqIEBwYXJhbSBjYW1lcmFWaWV3IHRoZSBvd24gQ2FtZXJhVmlld1JlbmRlcmVyIGNsYXNzIGluc3RhbmNlLlxyXG4gICAgICogQHBhcmFtIHN0YXRzIGNob29zZSBpZiB5b3Ugd2FudCB0aGUgc3RhdHMuXHJcbiAgICAgKiBAcmV0dXJucyB0aGUgQVJuZnQgb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYXN5bmMgaW5pdGlhbGl6ZVJhdyhcclxuICAgICAgICBtYXJrZXJVcmxzOiBBcnJheTxBcnJheTxzdHJpbmc+PixcclxuICAgICAgICBuYW1lczogQXJyYXk8c3RyaW5nPixcclxuICAgICAgICBjYW1lcmFWaWV3OiBJQ2FtZXJhVmlld1JlbmRlcmVyLFxyXG4gICAgICAgIHN0YXRzOiBib29sZWFuXHJcbiAgICApOiBQcm9taXNlPHRoaXM+IHtcclxuICAgICAgICBjb25zdCBpbml0RXZlbnQgPSBuZXcgRXZlbnQoXCJpbml0QVJuZnRcIik7XHJcbiAgICAgICAgdGhpcy50YXJnZXQuZGlzcGF0Y2hFdmVudChpbml0RXZlbnQpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgICBcIkFSbmZ0IGluaXQoKSAlY3N0YXJ0Li4uXCIsXHJcbiAgICAgICAgICAgIFwiY29sb3I6IHllbGxvdzsgYmFja2dyb3VuZC1jb2xvcjogYmx1ZTsgYm9yZGVyLXJhZGl1czogNHB4OyBwYWRkaW5nOiAycHhcIlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGxldCBzdGF0c01haW46IGFueSwgc3RhdHNXb3JrZXI6IGFueTtcclxuICAgICAgICBnZXRDb25maWcodGhpcy5jb25maWdVcmwpXHJcbiAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwcERhdGEgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRQYXRoID0gZGF0YS5hZGRQYXRoO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHZpZXdzXHJcbiAgICAgICAgICAgICAgICB0aGlzLl92aWV3cyA9IENvbnRhaW5lci5jcmVhdGVDb250YWluZXIodGhpcy5hcHBEYXRhKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdzLmxvYWRpbmcgPSBDb250YWluZXIuY3JlYXRlTG9hZGluZyh0aGlzLmFwcERhdGEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmlld3Muc3RhdHMgPSBDb250YWluZXIuY3JlYXRlU3RhdHModGhpcy5hcHBEYXRhLnN0YXRzLmNyZWF0ZUh0bWwsIHRoaXMuYXBwRGF0YSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHNNYWluID0gbmV3IFN0YXRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHNNYWluLnNob3dQYW5lbCgwKTsgLy8gMDogZnBzLCAxOiBtcywgMjogbWIsIDMrOiBjdXN0b21cclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YXRzMVwiKS5hcHBlbmRDaGlsZChzdGF0c01haW4uZG9tKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0c1dvcmtlciA9IG5ldyBTdGF0cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRzV29ya2VyLnNob3dQYW5lbCgwKTsgLy8gMDogZnBzLCAxOiBtcywgMjogbWIsIDMrOiBjdXN0b21cclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YXRzMlwiKS5hcHBlbmRDaGlsZChzdGF0c1dvcmtlci5kb20pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBjb250YWluZXJFdmVudCA9IG5ldyBFdmVudChcImNvbnRhaW5lckV2ZW50XCIpO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChjb250YWluZXJFdmVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVycyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBjYW1lcmFWaWV3LmluaXRpYWxpemUodGhpcy5hcHBEYXRhLnZpZGVvU2V0dGluZ3MpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZW5kZXJVcGRhdGUgPSAoKSA9PiAoc3RhdHMgPyBzdGF0c01haW4udXBkYXRlKCkgOiBudWxsKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRyYWNrVXBkYXRlID0gKCkgPT4gKHN0YXRzID8gc3RhdHNXb3JrZXIudXBkYXRlKCkgOiBudWxsKTtcclxuICAgICAgICAgICAgICAgIG1hcmtlclVybHMuZm9yRWFjaCgobWFya2VyVXJsOiBBcnJheTxzdHJpbmc+LCBpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVycy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgTkZUV29ya2VyKG1hcmtlclVybCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMudXVpZCwgbmFtZXNbaW5kZXhdLCB0aGlzLmFkZFBhdGgpXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXJzW2luZGV4XS5pbml0aWFsaXplKHRoaXMuYXBwRGF0YS5jYW1lcmFQYXJhLCByZW5kZXJVcGRhdGUsIHRyYWNrVXBkYXRlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yOiBhbnkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibmZ0TG9hZGVkLVwiICsgdGhpcy51dWlkLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5mdFdvcmtlcnNOb3RSZWFkeSA9IHRoaXMuY29udHJvbGxlcnMuZmlsdGVyKChuZnRXb3JrZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZnRXb3JrZXIuaXNSZWFkeSgpID09PSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAobmZ0V29ya2Vyc05vdFJlYWR5Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQ8b2JqZWN0PihcIkFSbmZ0SXNSZWFkeVwiKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGV0IF91cGRhdGUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmluaXRpYWxpemVkICYmIHRoaXMuYXV0b1VwZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVycy5mb3JFYWNoKChjb250cm9sbGVyKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIucHJvY2VzcyhjYW1lcmFWaWV3LmdldEltYWdlKCksIGNhbWVyYVZpZXcuZ2V0RnJhbWUoKSlcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKF91cGRhdGUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3VwZGF0ZSgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVmYXVsdCBhdXRvVXBkYXRlIHRydWUuIElmIHNldCwgZG9uJ3QgY2FsbCB0aGlzIGZ1bmN0aW9uLiBXaGVuIGl0IGlzbid0LCB0aGVuIHlvdSBoYXZlIHRvIG1haW50YWluIGl0IHlvdXJzZWxmLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5pbml0aWFsaXplZCB8fCB0aGlzLmF1dG9VcGRhdGUpIHJldHVybjtcclxuICAgICAgICBpZiAodGhpcy5jYW1lcmFWaWV3ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250cm9sbGVycy5mb3JFYWNoKChjb250cm9sbGVyKSA9PiBjb250cm9sbGVyLnByb2Nlc3ModGhpcy5jYW1lcmFWaWV3LmltYWdlLCB0aGlzLmNhbWVyYVZpZXcuZnJhbWUpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRFbnRpdGllcygpOiBJRW50aXR5W10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVudGl0aWVzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHRoZSBldmVudCB0YXJnZXRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldEV2ZW50VGFyZ2V0KCk6IEV2ZW50VGFyZ2V0IHtcclxuICAgICAgICByZXR1cm4gdGhpcy50YXJnZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCB2aWV3cygpIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh0aGlzLl92aWV3cyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEaXNwb3NlIHRoZSBWaWRlbyBzdHJlYW0gYW5kIHRoZSBORlRXb3JrZXIuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBkaXNwb3NlKCkge1xyXG4gICAgICAgIHRoaXMuZGlzcG9zZVZpZGVvU3RyZWFtKCk7XHJcbiAgICAgICAgdGhpcy5kaXNwb3NlQWxsTkZUcygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGlzcG9zZSBvbmx5IHRoZSBORlRXb3JrZXIuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBkaXNwb3NlTkZUKG5hbWU6IHN0cmluZykge1xyXG4gICAgICAgIGxldCB0ZXJtaW5hdGVXb3JrZXIgPSBcInRlcm1pbmF0ZVdvcmtlci1cIiArIG5hbWU7XHJcbiAgICAgICAgdmFyIGV2ZW50ID0gbmV3IEV2ZW50KHRlcm1pbmF0ZVdvcmtlcik7XHJcbiAgICAgICAgdGhpcy50YXJnZXQuZGlzcGF0Y2hFdmVudChldmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEaXNwb3NlIHRoZSBBcnJheSBvZiBORlRXb3JrZXJzLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZGlzcG9zZUFsbE5GVHMoKSB7XHJcbiAgICAgICAgY29uc3QgZW50aXRpZXMgPSBBUm5mdC5nZXRFbnRpdGllcygpO1xyXG4gICAgICAgIGVudGl0aWVzLmZvckVhY2goKGVudGl0eSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2VORlQoZW50aXR5Lm5hbWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGlzcG9zZSBvbmx5IHRoZSB2aWRlbyBzdHJlYW0uXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBkaXNwb3NlVmlkZW9TdHJlYW0oKSB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFWaWV3LmRlc3Ryb3koKTtcclxuICAgICAgICB2YXIgZXZlbnQgPSBuZXcgRXZlbnQoXCJzdG9wVmlkZW9TdHJlYW1pbmdcIik7XHJcbiAgICAgICAgdGhpcy50YXJnZXQuZGlzcGF0Y2hFdmVudChldmVudCk7XHJcbiAgICB9XHJcbn1cclxuIiwiLypcclxuICogIGluZGV4LnRzXHJcbiAqICBBUm5mdFxyXG4gKlxyXG4gKiAgVGhpcyBmaWxlIGlzIHBhcnQgb2YgQVJuZnQgLSBXZWJBUktpdC5cclxuICpcclxuICogIEFSbmZ0IGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcclxuICogIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxyXG4gKiAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcclxuICogIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXHJcbiAqXHJcbiAqICBBUm5mdCBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxyXG4gKiAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcclxuICogIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcclxuICogIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxyXG4gKlxyXG4gKiAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXHJcbiAqICBhbG9uZyB3aXRoIEFSbmZ0LiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxyXG4gKlxyXG4gKiAgQXMgYSBzcGVjaWFsIGV4Y2VwdGlvbiwgdGhlIGNvcHlyaWdodCBob2xkZXJzIG9mIHRoaXMgbGlicmFyeSBnaXZlIHlvdVxyXG4gKiAgcGVybWlzc2lvbiB0byBsaW5rIHRoaXMgbGlicmFyeSB3aXRoIGluZGVwZW5kZW50IG1vZHVsZXMgdG8gcHJvZHVjZSBhblxyXG4gKiAgZXhlY3V0YWJsZSwgcmVnYXJkbGVzcyBvZiB0aGUgbGljZW5zZSB0ZXJtcyBvZiB0aGVzZSBpbmRlcGVuZGVudCBtb2R1bGVzLCBhbmQgdG9cclxuICogIGNvcHkgYW5kIGRpc3RyaWJ1dGUgdGhlIHJlc3VsdGluZyBleGVjdXRhYmxlIHVuZGVyIHRlcm1zIG9mIHlvdXIgY2hvaWNlLFxyXG4gKiAgcHJvdmlkZWQgdGhhdCB5b3UgYWxzbyBtZWV0LCBmb3IgZWFjaCBsaW5rZWQgaW5kZXBlbmRlbnQgbW9kdWxlLCB0aGUgdGVybXMgYW5kXHJcbiAqICBjb25kaXRpb25zIG9mIHRoZSBsaWNlbnNlIG9mIHRoYXQgbW9kdWxlLiBBbiBpbmRlcGVuZGVudCBtb2R1bGUgaXMgYSBtb2R1bGVcclxuICogIHdoaWNoIGlzIG5laXRoZXIgZGVyaXZlZCBmcm9tIG5vciBiYXNlZCBvbiB0aGlzIGxpYnJhcnkuIElmIHlvdSBtb2RpZnkgdGhpc1xyXG4gKiAgbGlicmFyeSwgeW91IG1heSBleHRlbmQgdGhpcyBleGNlcHRpb24gdG8geW91ciB2ZXJzaW9uIG9mIHRoZSBsaWJyYXJ5LCBidXQgeW91XHJcbiAqICBhcmUgbm90IG9ibGlnYXRlZCB0byBkbyBzby4gSWYgeW91IGRvIG5vdCB3aXNoIHRvIGRvIHNvLCBkZWxldGUgdGhpcyBleGNlcHRpb25cclxuICogIHN0YXRlbWVudCBmcm9tIHlvdXIgdmVyc2lvbi5cclxuICpcclxuICogIENvcHlyaWdodCAyMDIxIFdlYkFSS2l0LlxyXG4gKlxyXG4gKiAgQXV0aG9yKHMpOiBXYWx0ZXIgUGVyZGFuIEBrYWx3YWx0IGh0dHBzOi8vZ2l0aHViLmNvbS9rYWx3YWx0XHJcbiAqXHJcbiAqL1xyXG5pbXBvcnQgQVJuZnQgZnJvbSBcIi4vQVJuZnRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIEFSbmZ0LFxyXG59O1xyXG4iXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwic2VsZiIsInRoaXMiLCJmIiwiZSIsImEiLCJjIiwiYXBwZW5kQ2hpbGQiLCJkb20iLCJ1IiwiZCIsImNoaWxkcmVuIiwibGVuZ3RoIiwic3R5bGUiLCJkaXNwbGF5IiwibCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNzc1RleHQiLCJhZGRFdmVudExpc3RlbmVyIiwicHJldmVudERlZmF1bHQiLCJrIiwicGVyZm9ybWFuY2UiLCJEYXRlIiwibm93IiwiZyIsInIiLCJQYW5lbCIsImgiLCJtZW1vcnkiLCJ0IiwiUkVWSVNJT04iLCJhZGRQYW5lbCIsInNob3dQYW5lbCIsImJlZ2luIiwiZW5kIiwidXBkYXRlIiwidXNlZEpTSGVhcFNpemUiLCJqc0hlYXBTaXplTGltaXQiLCJkb21FbGVtZW50Iiwic2V0TW9kZSIsIkluZmluaXR5IiwiTWF0aCIsInJvdW5kIiwid2luZG93IiwiZGV2aWNlUGl4ZWxSYXRpbyIsInYiLCJtIiwibiIsInAiLCJxIiwid2lkdGgiLCJoZWlnaHQiLCJiIiwiZ2V0Q29udGV4dCIsImZvbnQiLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImZpbGxUZXh0IiwiZ2xvYmFsQWxwaGEiLCJ3IiwibWluIiwibWF4IiwiZHJhd0ltYWdlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImNhbGwiLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJjaHVua0lkIiwiZ2xvYmFsVGhpcyIsIkZ1bmN0aW9uIiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5Iiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiY3VycmVudFNjcmlwdCIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIkVycm9yIiwicmVwbGFjZSIsImJhc2VVUkkiLCJocmVmIiwiQ29udGFpbmVyIiwic3RhdGljIiwiY29uZmlnRGF0YSIsImNvbnRhaW5lciIsImNyZWF0ZSIsImlkIiwiY2FudmFzIiwidmlkZW8iLCJzZXRBdHRyaWJ1dGUiLCJsb2FkaW5nIiwiZ2V0RWxlbWVudEJ5SWQiLCJib2R5IiwiaW5zZXJ0QmVmb3JlIiwiY29udGFpbmVyTmFtZSIsImNhbnZhc05hbWUiLCJzdGF0cyIsImNyZWF0ZUh0bWwiLCJjbGFzc05hbWUiLCJzdGF0czEiLCJzdGF0czFwIiwiaW5uZXJUZXh0Iiwic3RhdHMyIiwic3RhdHMycCIsImxvYWRlciIsImxvZ28iLCJhbHQiLCJsb2FkaW5nTWVzc2FnZSIsImZpcnN0Q2hpbGQiLCJDYW1lcmFWaWV3UmVuZGVyZXIiLCJjYW52YXNfcHJvY2VzcyIsImNvbnRleHRfcHJvY2VzcyIsIl92aWRlbyIsIl9mYWNpbmciLCJ2dyIsInZoIiwicHciLCJwaCIsIm94Iiwib3kiLCJ0YXJnZXQiLCJ0YXJnZXRGcmFtZVJhdGUiLCJpbWFnZURhdGFDYWNoZSIsIl9mcmFtZSIsImxhc3RDYWNoZSIsImNvbnN0cnVjdG9yIiwiYWxwaGEiLCJmYWNpbmciLCJmcmFtZSIsImNhbnZhc1Byb2Nlc3MiLCJjb250ZXh0UHJvY2VzcyIsImdldEZyYW1lIiwiZ2V0SW1hZ2UiLCJpbWFnZURhdGEiLCJnZXRJbWFnZURhdGEiLCJkYXRhIiwic2V0IiwiSW1hZ2VEYXRhIiwic2xpY2UiLCJpbWFnZSIsInByZXBhcmVJbWFnZSIsInZpZGVvV2lkdGgiLCJ2aWRlb0hlaWdodCIsInBzY2FsZSIsImZsb29yIiwiYXN5bmMiLCJ2aWRlb1NldHRpbmdzIiwiZmFjaW5nTW9kZSIsIm5hdmlnYXRvciIsIm1lZGlhRGV2aWNlcyIsImdldFVzZXJNZWRpYSIsIlByb21pc2UiLCJyZWplY3QiLCJoaW50IiwiYXVkaW8iLCJlbnVtZXJhdGVEZXZpY2VzIiwiZGV2aWNlcyIsInZpZGVvRGV2aWNlcyIsInZpZGVvRGV2aWNlSW5kZXgiLCJmb3JFYWNoIiwiZGV2aWNlIiwia2luZCIsImRldmljZUlkIiwiZXhhY3QiLCJzdHJlYW0iLCJzcmNPYmplY3QiLCJyZXNvbHZlIiwib25sb2FkZWRtZXRhZGF0YSIsImVycm9yIiwiZGVzdHJveSIsImNvbnNvbGUiLCJsb2ciLCJnZXRUcmFja3MiLCJ0cmFjayIsInN0b3AiLCJjdXJyZW50QVIiLCJyZW1vdmUiLCJnZXRXaW5kb3dTaXplIiwic3NjYWxlIiwidGVzdCIsInVzZXJBZ2VudCIsIm91dGVyV2lkdGgiLCJnZXRDb25maWciLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJzdGF0dXMiLCJqc29uIiwiTkZUV29ya2VyIiwid29ya2VyIiwibWFya2VyVVJMIiwiX3Byb2Nlc3NpbmciLCJ1dWlkIiwibmFtZSIsImFkZFBhdGgiLCJyZWFkeSIsImNhbWVyYVVSTCIsInJlbmRlclVwZGF0ZSIsInRyYWNrVXBkYXRlIiwiV29ya2VyIiwiVVJMIiwicG9zdE1lc3NhZ2UiLCJ0eXBlIiwidGVybWluYXRlIiwibG9hZCIsInByb2Nlc3MiLCJpbWFnZWRhdGEiLCJidWZmZXIiLCJzdyIsInNoIiwic2V0V2luZG93U2l6ZUV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJkaXNwYXRjaEV2ZW50IiwiY2FtZXJhX3BhcmEiLCJtYXJrZXIiLCJvbm1lc3NhZ2UiLCJldiIsIm1zZyIsInByb2oiLCJKU09OIiwicGFyc2UiLCJyYXRpb1ciLCJyYXRpb0giLCJwcm9qZWN0aW9uTWF0cml4RXZlbnQiLCJxdWVyeVNlbGVjdG9yIiwic2V0VGltZW91dCIsInBhcmVudEVsZW1lbnQiLCJyZW1vdmVDaGlsZCIsIm5mdEV2ZW50IiwiZHBpIiwiZm91bmQiLCJvbmVycm9yIiwiZXJyIiwicmVuZGVyVSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIndvcmxkIiwibWF0cml4R0xfUkgiLCJtYXRyaXhHTHJoRXZlbnQiLCJuZnRUcmFja2luZ0xvc3RFdmVudCIsImlzUmVhZHkiLCJnZXRVdWlkIiwiZ2V0TmFtZSIsImdldE1hcmtlclVybCIsImdldEV2ZW50VGFyZ2V0IiwicmFuZG9tVVVJRCIsImNyeXB0byIsImJpbmQiLCJnZXRSYW5kb21WYWx1ZXMiLCJybmRzOCIsIlVpbnQ4QXJyYXkiLCJybmciLCJieXRlVG9IZXgiLCJpIiwicHVzaCIsInRvU3RyaW5nIiwidW5zYWZlU3RyaW5naWZ5IiwiYXJyIiwib2Zmc2V0IiwidG9Mb3dlckNhc2UiLCJvcHRpb25zIiwiYnVmIiwicm5kcyIsInJhbmRvbSIsInZlcnNpb24iLCJBUm5mdCIsImNhbWVyYVZpZXciLCJhcHBEYXRhIiwiY29uZmlnVXJsIiwibWFya2VyVXJsIiwiY2FtRGF0YSIsImF1dG9VcGRhdGUiLCJjb250cm9sbGVycyIsImluaXRpYWxpemVkIiwiX3ZpZXdzIiwibWFya2VyVXJscyIsIm5hbWVzIiwiaW5pdFdpdGhDb25maWciLCJlbnRpdGllcyIsInBhcmFtcyIsIl9hcm5mdCIsIm5hbWVQYXJhbXMiLCJlbnRpdHlQYXJhbXMiLCJtYXAiLCJ4IiwiX2luaXRpYWxpemUiLCJjb2RlIiwiaW5pdEV2ZW50IiwiRXZlbnQiLCJzdGF0c01haW4iLCJzdGF0c1dvcmtlciIsInRoZW4iLCJjcmVhdGVDb250YWluZXIiLCJjcmVhdGVMb2FkaW5nIiwiY3JlYXRlU3RhdHMiLCJjb250YWluZXJFdmVudCIsImluaXRpYWxpemUiLCJpbmRleCIsImNhbWVyYVBhcmEiLCJjYXRjaCIsImZpbHRlciIsIm5mdFdvcmtlciIsIl91cGRhdGUiLCJjb250cm9sbGVyIiwidmlld3MiLCJmcmVlemUiLCJkaXNwb3NlIiwiZGlzcG9zZVZpZGVvU3RyZWFtIiwiZGlzcG9zZUFsbE5GVHMiLCJkaXNwb3NlTkZUIiwiZXZlbnQiLCJnZXRFbnRpdGllcyIsImVudGl0eSJdLCJzb3VyY2VSb290IjoiIn0=